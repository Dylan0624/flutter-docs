<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flutter Development Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Add pako for decompression -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@4.0.12/lib/marked.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            line-height: 1.6;
            user-select: none;
        }
        
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            position: relative;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
            display: inline-block;
        }
        
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .secret-icon {
            position: absolute;
            top: 20px;
            right: 25px;
            color: transparent;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .secret-icon:hover {
            color: rgba(255, 255, 255, 0.03);
            transform: scale(1.1);
        }
        
        .nav-tabs {
            border-bottom: 3px solid #dee2e6;
            margin-bottom: 25px;
            background: white;
            border-radius: 10px 10px 0 0;
            padding: 5px 5px 0 5px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .nav-tabs .nav-link {
            border: none;
            color: #495057;
            font-weight: 500;
            padding: 15px 20px;
            margin-right: 5px;
            border-radius: 10px 10px 0 0;
            transition: all 0.3s ease;
        }
        
        .nav-tabs .nav-link:hover {
            background-color: #f8f9fa;
            color: #667eea;
            transform: translateY(-2px);
        }
        
        .nav-tabs .nav-link.active {
            background-color: #667eea;
            color: white;
            font-weight: 600;
            box-shadow: 0 -2px 10px rgba(102, 126, 234, 0.3);
        }
        
        .tab-content {
            background-color: white;
            border-radius: 0 0 15px 15px;
            padding: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            min-height: 500px;
        }
        
        .content-wrapper {
            line-height: 1.7;
        }
        
        .content-wrapper h1 {
            color: #2c3e50;
            border-bottom: 3px solid #667eea;
            padding-bottom: 15px;
            margin-bottom: 25px;
            font-weight: 700;
        }
        
        .content-wrapper h2 {
            color: #34495e;
            margin-top: 35px;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .content-wrapper h3 {
            color: #5a6c7d;
            margin-top: 30px;
            margin-bottom: 15px;
            font-weight: 500;
        }
        
        .content-wrapper pre {
            background-color: #2d3748;
            border-radius: 10px;
            padding: 25px;
            overflow-x: auto;
            margin: 25px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .content-wrapper code {
            background-color: #f1f3f4;
            padding: 3px 8px;
            border-radius: 5px;
            font-family: 'Courier New', Courier, monospace;
            color: #d63384;
            font-size: 0.9em;
        }
        
        .content-wrapper pre code {
            background-color: transparent;
            padding: 0;
            color: #e2e8f0;
        }
        
        .encrypted-content {
            text-align: center;
            padding: 50px 20px;
        }
        
        .password-input-container {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .password-input-container h4 {
            color: #e74c3c;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .password-hint {
            margin-bottom: 25px;
        }
        
        .password-hint .alert {
            text-align: left;
            border-radius: 10px;
            border: none;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .password-attempts {
            margin-top: 10px;
        }
        
        .decrypted-content {
            text-align: left;
            line-height: 1.7;
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .alert {
            border-radius: 10px;
            margin-bottom: 25px;
            border: none;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .btn {
            border-radius: 8px;
            padding: 10px 20px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .form-control {
            border-radius: 8px;
            border: 2px solid #e9ecef;
            padding: 12px 15px;
            transition: all 0.3s ease;
        }
        
        .form-control:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
        }
        
        .input-group {
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .error-shake {
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .success-animation {
            animation: success 0.6s ease-in-out;
        }
        
        @keyframes success {
            0% { transform: scale(0.8); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        @media (max-width: 768px) {
            .main-container {
                padding: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .tab-content {
                padding: 20px 15px;
            }
            
            .nav-tabs .nav-link {
                padding: 12px 15px;
                font-size: 0.9rem;
            }
            
            .secret-icon {
                top: 15px;
                right: 20px;
                font-size: 1rem;
            }
        }
        
        #debug-log {
            position: fixed;
            bottom: 10px;
            right: 10px;
            background: #fff;
            padding: 10px;
            border: 1px solid #ccc;
            max-height: 200px;
            overflow-y: auto;
            font-size: 0.8rem;
            display: block;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            width: 300px;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="header">
            <h1><i class="fab fa-flutter"></i> Flutter Development Documentation <i class="fas fa-rocket secret-icon" onclick="showSecrets()" title="Hidden Content"></i></h1>
            <p>Complete Flutter Development Experience Sharing</p>
        </div>
        
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            
                <li class="nav-item">
                    <a class="nav-link active" id="0.-overview-tab" data-bs-toggle="tab" 
                       href="#0.-overview" role="tab" aria-controls="0.-overview" 
                       aria-selected="true">
                        Flutter é–‹ç™¼å¿ƒå¾—ç¸½è¦½
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link " id="1.-getting-started-tab" data-bs-toggle="tab" 
                       href="#1.-getting-started" role="tab" aria-controls="1.-getting-started" 
                       aria-selected="false">
                        Flutter å…¥é–€æŒ‡å—å¾é›¶é–‹å§‹
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link " id="2.-assets-and-config-tab" data-bs-toggle="tab" 
                       href="#2.-assets-and-config" role="tab" aria-controls="2.-assets-and-config" 
                       aria-selected="false">
                        Flutter è³‡æºç®¡ç†èˆ‡é…ç½®æŒ‡å—
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link " id="3.-widgets-tab" data-bs-toggle="tab" 
                       href="#3.-widgets" role="tab" aria-controls="3.-widgets" 
                       aria-selected="false">
                        Flutter Widget è§£æé–‹ç™¼æŒ‡å—
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link " id="4.-data-type-tab" data-bs-toggle="tab" 
                       href="#4.-data-type" role="tab" aria-controls="4.-data-type" 
                       aria-selected="false">
                        Flutter Dart è³‡æ–™å‹åˆ¥èˆ‡å‡½æ•¸å®Œå…¨æŒ‡å—
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link " id="5.-project-framework-tab" data-bs-toggle="tab" 
                       href="#5.-project-framework" role="tab" aria-controls="5.-project-framework" 
                       aria-selected="false">
                        Flutter å°ˆæ¡ˆæ¶æ§‹è¨­è¨ˆæ¨¡çµ„åŒ–æŒ‡å—
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link " id="6.-project-design-tab" data-bs-toggle="tab" 
                       href="#6.-project-design" role="tab" aria-controls="6.-project-design" 
                       aria-selected="false">
                        Flutter å°ˆæ¡ˆè¨­è¨ˆèˆ‡æ¶æ§‹ç®¡ç†æŒ‡å—
                    </a>
                </li>
            
                <li class="nav-item d-none" id="secrets-nav-item">
                    <a class="nav-link" id="secrets-tab" data-bs-toggle="tab" 
                       href="#secrets" role="tab" aria-controls="secrets" 
                       aria-selected="false">
                    </a>
                </li>
            
        </ul>
        
        <div class="tab-content" id="myTabContent">
            
                <div class="tab-pane fade show active" id="0.-overview" 
                     role="tabpanel" aria-labelledby="0.-overview-tab">
                    <div class="content-wrapper">
                        <h1>Flutter é–‹ç™¼å¿ƒå¾—ç¸½è¦½</h1>
<p>é€™æ˜¯æˆ‘åœ¨ Flutter é–‹ç™¼éç¨‹ä¸­ç´¯ç©çš„ç¶“é©—åˆ†äº«ã€‚</p>
<h2>ğŸ¯ å­¸ç¿’ç›®æ¨™</h2>
<ul>
<li>æŒæ¡ Flutter åŸºç¤æ¦‚å¿µ</li>
<li>å­¸æœƒç‹€æ…‹ç®¡ç†</li>
<li>äº†è§£æ•ˆèƒ½å„ªåŒ–æŠ€å·§</li>
</ul>
<blockquote>
<p><strong>ğŸ’¡ æé†’</strong><br />
é€™ä»½æ–‡æª”æœƒæŒçºŒæ›´æ–°ï¼Œè¨˜éŒ„æœ€æ–°çš„é–‹ç™¼å¿ƒå¾—ã€‚</p>
</blockquote>
<h2>ğŸ“š å…§å®¹æ¶æ§‹</h2>
<p>æœ¬æ–‡æª”æ¶µè“‹ä»¥ä¸‹ä¸»è¦é ˜åŸŸï¼š</p>
<h3>åŸºç¤æ¦‚å¿µ</h3>
<ul>
<li>Widget ç”Ÿå‘½é€±æœŸ</li>
<li>ç‹€æ…‹ç®¡ç†åŸºç¤</li>
<li>ä½ˆå±€ç³»çµ±ç†è§£</li>
</ul>
<h3>å¯¦æˆ°ç¶“é©—</h3>
<ul>
<li>å°ˆæ¡ˆé–‹ç™¼æµç¨‹</li>
<li>å¸¸è¦‹å•é¡Œè§£æ±º</li>
<li>æ•ˆèƒ½å„ªåŒ–å¯¦è¸</li>
</ul>
<h3>é€²éšæŠ€å·§</h3>
<ul>
<li>è‡ªè¨‚ Widget é–‹ç™¼</li>
<li>æ’ä»¶æ•´åˆæ‡‰ç”¨</li>
<li>æ¸¬è©¦ç­–ç•¥åˆ¶å®š</li>
</ul>
<h2>ğŸš€ é–‹å§‹å­¸ç¿’</h2>
<p>å»ºè­°æŒ‰ç…§ä»¥ä¸‹é †åºé–±è®€å„ç« ç¯€ï¼š</p>
<ol>
<li><strong>åŸºç¤ Widget</strong> - äº†è§£ Flutter çš„æ ¸å¿ƒæ¦‚å¿µ</li>
<li><strong>ç‹€æ…‹ç®¡ç†</strong> - æŒæ¡æ‡‰ç”¨ç¨‹å¼ç‹€æ…‹æ§åˆ¶</li>
<li><strong>ä½ˆå±€è¨­è¨ˆ</strong> - å­¸ç¿’éŸ¿æ‡‰å¼ä»‹é¢è¨­è¨ˆ</li>
<li><strong>æ•ˆèƒ½å„ªåŒ–</strong> - æå‡æ‡‰ç”¨ç¨‹å¼åŸ·è¡Œæ•ˆç‡</li>
<li><strong>æ¸¬è©¦éƒ¨ç½²</strong> - ç¢ºä¿ä»£ç¢¼å“è³ªèˆ‡ç©©å®šæ€§</li>
</ol>
<h2>ğŸ’­ å­¸ç¿’å¿ƒå¾—</h2>
<p>é€éå¯¦éš›é–‹ç™¼å¤šå€‹ Flutter å°ˆæ¡ˆï¼Œæˆ‘ç™¼ç¾æœ€é‡è¦çš„æ˜¯ï¼š</p>
<ul>
<li><strong>ç†è§£ Widget æ¨¹</strong> - é€™æ˜¯ Flutter çš„æ ¸å¿ƒæ¦‚å¿µ</li>
<li><strong>å–„ç”¨ç‹€æ…‹ç®¡ç†</strong> - é¸æ“‡é©åˆçš„ç‹€æ…‹ç®¡ç†æ–¹æ¡ˆ</li>
<li><strong>é‡è¦–ä½¿ç”¨è€…é«”é©—</strong> - æµæš¢çš„å‹•ç•«å’ŒéŸ¿æ‡‰å¼è¨­è¨ˆ</li>
<li><strong>æŒçºŒå­¸ç¿’æ›´æ–°</strong> - Flutter ç”Ÿæ…‹ç³»çµ±å¿«é€Ÿç™¼å±•</li>
</ul>
<h2>ğŸ”§ é–‹ç™¼ç’°å¢ƒ</h2>
<p>æ¨è–¦çš„é–‹ç™¼å·¥å…·å’Œè¨­å®šï¼š</p>
<ul>
<li><strong>IDE</strong>: Visual Studio Code æˆ– Android Studio</li>
<li><strong>æ“´å……å¥—ä»¶</strong>: Flutterã€Dartã€Flutter Widget Snippets</li>
<li><strong>é™¤éŒ¯å·¥å…·</strong>: Flutter Inspectorã€Dart DevTools</li>
<li><strong>ç‰ˆæœ¬æ§åˆ¶</strong>: Git æ­é…é©ç•¶çš„ .gitignore è¨­å®š</li>
</ul>
<h2>ğŸ“– åƒè€ƒè³‡æº</h2>
<h3>å®˜æ–¹æ–‡æª”</h3>
<ul>
<li><a href="https://flutter.dev">Flutter å®˜æ–¹ç¶²ç«™</a></li>
<li><a href="https://dart.dev">Dart ç¨‹å¼èªè¨€æ–‡æª”</a></li>
<li><a href="https://api.flutter.dev">Flutter API åƒè€ƒ</a></li>
</ul>
<h3>ç¤¾ç¾¤è³‡æº</h3>
<ul>
<li>Flutter Community</li>
<li>Stack Overflow Flutter æ¨™ç±¤</li>
<li>GitHub Flutter ç¯„ä¾‹å°ˆæ¡ˆ</li>
</ul>
<h2>ğŸŒ Flutter è·¨å¹³å°å„ªå‹¢è©³è§£</h2>
<h3>ç‚ºä»€éº¼é¸æ“‡ Flutterï¼Ÿ</h3>
<p>Flutter ä½œç‚º Google é–‹ç™¼çš„è·¨å¹³å°æ¡†æ¶ï¼Œåœ¨ç§»å‹•æ‡‰ç”¨é–‹ç™¼é ˜åŸŸå¸¶ä¾†äº†é©å‘½æ€§çš„æ”¹è®Šã€‚ä»¥ä¸‹æ˜¯é¸æ“‡ Flutter çš„æ ¸å¿ƒå„ªå‹¢ï¼š</p>
<h3>ğŸ“± çœŸæ­£çš„è·¨å¹³å°çµ±ä¸€</h3>
<p><strong>ä¸€å¥—ä»£ç¢¼ï¼Œå¤šå¹³å°é‹è¡Œ</strong>
- <strong>iOS å’Œ Android</strong>: åŒä¸€å¥— Dart ä»£ç¢¼å¯ä»¥ç·¨è­¯ç‚ºåŸç”Ÿæ‡‰ç”¨
- <strong>Web æ‡‰ç”¨</strong>: é€é Flutter Web ç›´æ¥éƒ¨ç½²åˆ°ç€è¦½å™¨
- <strong>æ¡Œé¢æ‡‰ç”¨</strong>: æ”¯æ´ Windowsã€macOSã€Linux æ¡Œé¢æ‡‰ç”¨é–‹ç™¼
- <strong>åµŒå…¥å¼è¨­å‚™</strong>: å¯é‹è¡Œæ–¼è»Šè¼‰ç³»çµ±ã€æ™ºæ…§é›»è¦–ç­‰è¨­å‚™</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// ä¸€å¥—ä»£ç¢¼ç¤ºä¾‹ - è·¨å¹³å°é€šç”¨</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">CrossPlatformWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;è·¨å¹³å°æ‡‰ç”¨&#39;</span><span class="p">),</span><span class="w"> </span><span class="c1">// åœ¨æ‰€æœ‰å¹³å°éƒ½èƒ½æ­£å¸¸é¡¯ç¤º</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// åŒæ¨£çš„é‚è¼¯åœ¨æ‰€æœ‰å¹³å°åŸ·è¡Œ</span>
<span class="w">            </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æŒ‰éˆ•é»æ“Š - è·¨å¹³å°é€šç”¨&#39;</span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;é€šç”¨æŒ‰éˆ•&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>âš¡ å“è¶Šçš„æ•ˆèƒ½è¡¨ç¾</h3>
<p><strong>æ¥è¿‘åŸç”Ÿçš„åŸ·è¡Œé€Ÿåº¦</strong>
- <strong>ç·¨è­¯å„ªå‹¢</strong>: Dart ä»£ç¢¼ç·¨è­¯ç‚ºåŸç”Ÿæ©Ÿå™¨ç¢¼ï¼Œè€Œéè§£é‡‹åŸ·è¡Œ
- <strong>æ¸²æŸ“å¼•æ“</strong>: ä½¿ç”¨ Skia åœ–å½¢å¼•æ“ï¼Œç›´æ¥æ“ä½œ GPU é€²è¡Œç¹ªè£½
- <strong>60fps æµæš¢åº¦</strong>: é è¨­æ”¯æ´ 60fpsï¼Œé«˜ç«¯è¨­å‚™å¯é” 120fps
- <strong>è¨˜æ†¶é«”ç®¡ç†</strong>: é«˜æ•ˆçš„åƒåœ¾å›æ”¶æ©Ÿåˆ¶ï¼Œæ¸›å°‘è¨˜æ†¶é«”æ´©æ¼</p>
<p><strong>æ•ˆèƒ½æ•¸æ“šå°æ¯”</strong>:</p>
<div class="codehilite"><pre><span></span><code>åŸç”Ÿ iOS/Android: 100% æ•ˆèƒ½åŸºæº–
Flutter: 95-98% æ•ˆèƒ½ (å¹¾ä¹ç„¡å·®ç•°)
React Native: 85-90% æ•ˆèƒ½
Cordova/PhoneGap: 60-70% æ•ˆèƒ½
</code></pre></div>

<h3>ğŸ’° é–‹ç™¼æˆæœ¬å¤§å¹…é™ä½</h3>
<p><strong>äººåŠ›æˆæœ¬ç¯€ç´„</strong>
- <strong>å–®ä¸€åœ˜éšŠ</strong>: ä¸éœ€è¦åˆ†åˆ¥ç¶­è­· iOS å’Œ Android åœ˜éšŠ
- <strong>å­¸ç¿’æˆæœ¬</strong>: é–‹ç™¼è€…åªéœ€å­¸ç¿’ Dart èªè¨€å’Œ Flutter æ¡†æ¶
- <strong>ç¶­è­·ç°¡åŒ–</strong>: ä¸€å¥—ä»£ç¢¼ç¶­è­·ï¼Œbug ä¿®å¾©ä¸€æ¬¡å…¨å¹³å°ç”Ÿæ•ˆ</p>
<p><strong>æ™‚é–“æˆæœ¬å„ªå‹¢</strong>
- <strong>é–‹ç™¼é€±æœŸ</strong>: ç›¸æ¯”åŸç”Ÿé–‹ç™¼ç¯€çœ 40-60% é–‹ç™¼æ™‚é–“
- <strong>åŠŸèƒ½è¿­ä»£</strong>: æ–°åŠŸèƒ½åŒæ­¥ç™¼ä½ˆåˆ°æ‰€æœ‰å¹³å°
- <strong>æ¸¬è©¦é€±æœŸ</strong>: æ¸›å°‘è·¨å¹³å°æ¸¬è©¦çš„é‡è¤‡å·¥ä½œ</p>
<p><strong>å¯¦éš›æ¡ˆä¾‹åˆ†æ</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="err">å‚³çµ±é–‹ç™¼æ¨¡å¼</span><span class="o">:</span>
<span class="n">iOS</span><span class="w"> </span><span class="err">é–‹ç™¼</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="err">å€‹æœˆ</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Android</span><span class="w"> </span><span class="err">é–‹ç™¼</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="err">å€‹æœˆ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="err">å€‹æœˆ</span>
<span class="err">æ¸¬è©¦èª¿å„ª</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span><span class="err">å€‹æœˆ</span><span class="w"> </span><span class="err">Ã—</span><span class="w"> </span><span class="mi">2</span><span class="err">å¹³å°</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="err">å€‹æœˆ</span>
<span class="err">ç¸½è¨ˆ</span><span class="o">:</span><span class="w"> </span><span class="mi">8</span><span class="err">å€‹æœˆ</span>

<span class="n">Flutter</span><span class="w"> </span><span class="err">é–‹ç™¼æ¨¡å¼</span><span class="o">:</span>
<span class="err">è·¨å¹³å°é–‹ç™¼</span><span class="o">:</span><span class="w"> </span><span class="mf">3.5</span><span class="err">å€‹æœˆ</span>
<span class="err">è·¨å¹³å°æ¸¬è©¦</span><span class="o">:</span><span class="w"> </span><span class="mf">0.5</span><span class="err">å€‹æœˆ</span>
<span class="err">ç¸½è¨ˆ</span><span class="o">:</span><span class="w"> </span><span class="mi">4</span><span class="err">å€‹æœˆ</span><span class="w"> </span><span class="o">(</span><span class="err">ç¯€çœ</span><span class="mi">50</span><span class="o">%</span><span class="err">æ™‚é–“</span><span class="o">)</span>
</code></pre></div>

<h3>ğŸ¨ ä¸€è‡´çš„ä½¿ç”¨è€…é«”é©—</h3>
<p><strong>è¦–è¦ºä¸€è‡´æ€§</strong>
- <strong>Material Design</strong>: å®Œæ•´æ”¯æ´ Google è¨­è¨ˆèªè¨€
- <strong>Cupertino Design</strong>: å®Œç¾æ¨¡æ“¬ iOS åŸç”Ÿè¨­è¨ˆé¢¨æ ¼
- <strong>è‡ªè¨‚ä¸»é¡Œ</strong>: è¼•é¬†å»ºç«‹å“ç‰Œå°ˆå±¬çš„è¨­è¨ˆç³»çµ±
- <strong>éŸ¿æ‡‰å¼ä½ˆå±€</strong>: è‡ªå‹•é©æ‡‰ä¸åŒè¢å¹•å°ºå¯¸å’Œè§£æåº¦</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// å¹³å°è‡ªé©æ‡‰è¨­è¨ˆç¤ºä¾‹</span>
<span class="n">Widget</span><span class="w"> </span><span class="n">buildPlatformButton</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">Platform</span><span class="p">.</span><span class="n">isIOS</span><span class="w"> </span>
<span class="w">    </span><span class="o">?</span><span class="w"> </span><span class="n">CupertinoButton</span><span class="p">(</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;iOSé¢¨æ ¼æŒ‰éˆ•&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{},</span>
<span class="w">      </span><span class="p">)</span>
<span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Androidé¢¨æ ¼æŒ‰éˆ•&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{},</span>
<span class="w">      </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3>ğŸ”¥ ç†±é‡è¼‰é–‹ç™¼é«”é©—</h3>
<p><strong>æ¥µé€Ÿé–‹ç™¼è¿­ä»£</strong>
- <strong>æ¯«ç§’ç´šæ›´æ–°</strong>: ä»£ç¢¼ä¿®æ”¹å¾Œæ¯«ç§’å…§çœ‹åˆ°æ•ˆæœ
- <strong>ç‹€æ…‹ä¿æŒ</strong>: ç†±é‡è¼‰æ™‚ä¿æŒæ‡‰ç”¨ç¨‹å¼ç‹€æ…‹
- <strong>å³æ™‚èª¿è©¦</strong>: å¯¦æ™‚ä¿®æ”¹ UI å’Œé‚è¼¯ï¼Œç«‹å³é©—è­‰æ•ˆæœ</p>
<h3>ğŸ—ï¸ è±å¯Œçš„ç”Ÿæ…‹ç³»çµ±</h3>
<p><strong>å¼·å¤§çš„å¥—ä»¶åº«</strong>
- <strong>pub.dev</strong>: è¶…é 30,000+ é–‹æºå¥—ä»¶
- <strong>å®˜æ–¹å¥—ä»¶</strong>: Firebaseã€Google Mapsã€ç›¸æ©Ÿç­‰å®˜æ–¹æ”¯æ´
- <strong>ç¤¾ç¾¤æ´»èº</strong>: æŒçºŒæ›´æ–°å’Œç¶­è­·çš„ç¬¬ä¸‰æ–¹å¥—ä»¶</p>
<p><strong>ä¼æ¥­ç´šæ”¯æ´</strong>
- <strong>Google èƒŒæ™¯</strong>: ç©©å®šçš„æŠ€è¡“æ”¯æ´å’Œé•·æœŸç™¼å±•ä¿è­‰
- <strong>å¤§å‹ä¼æ¥­æ¡ç”¨</strong>: é˜¿é‡Œå·´å·´ã€BMWã€eBay ç­‰çŸ¥åä¼æ¥­ä½¿ç”¨
- <strong>æ´»èºç¤¾ç¾¤</strong>: å…¨çƒé–‹ç™¼è€…ç¤¾ç¾¤æä¾›è±å¯Œè³‡æº</p>
<h3>ğŸ“Š å¸‚å ´æ¡ç”¨æƒ…æ³</h3>
<p><strong>çŸ¥åæ‡‰ç”¨æ¡ˆä¾‹</strong>
- <strong>Google Ads</strong>: Google è‡ªå®¶å»£å‘Šç®¡ç†æ‡‰ç”¨
- <strong>é˜¿é‡Œå·´å·´</strong>: é–’é­šäºŒæ‰‹äº¤æ˜“å¹³å°
- <strong>BMW</strong>: BMW è»Šè¼‰æ‡‰ç”¨ç³»çµ±
- <strong>eBay Motors</strong>: eBay æ±½è»Šäº¤æ˜“æ‡‰ç”¨
- <strong>Reflectly</strong>: ç²ççš„æ—¥è¨˜æ‡‰ç”¨</p>
<h3>ğŸš€ æœªä¾†ç™¼å±•è¶¨å‹¢</h3>
<p><strong>æŠ€è¡“ç™¼å±•æ–¹å‘</strong>
- <strong>Fuchsia OS</strong>: Google æ–°ä½œæ¥­ç³»çµ±çš„é è¨­é–‹ç™¼æ¡†æ¶
- <strong>æ¡Œé¢æ‡‰ç”¨</strong>: Windowsã€macOSã€Linux æ¡Œé¢æ‡‰ç”¨æ”¯æ´æ—¥è¶¨æˆç†Ÿ
- <strong>Web æ‡‰ç”¨</strong>: PWA å’Œ SPA é–‹ç™¼èƒ½åŠ›æŒçºŒå¢å¼·
- <strong>åµŒå…¥å¼ç³»çµ±</strong>: IoT å’Œè»Šè¼‰ç³»çµ±é–‹ç™¼æ”¯æ´</p>
<h3>ğŸ’¡ é¸æ“‡ Flutter çš„æœ€ä½³æ™‚æ©Ÿ</h3>
<p><strong>é©åˆ Flutter çš„å°ˆæ¡ˆé¡å‹</strong>
- éœ€è¦å¿«é€Ÿä¸Šå¸‚çš„ MVP ç”¢å“
- é ç®—æœ‰é™ä½†éœ€è¦é«˜å“è³ªæ‡‰ç”¨
- éœ€è¦çµ±ä¸€å“ç‰Œé«”é©—çš„ä¼æ¥­æ‡‰ç”¨
- å‰µæ¥­å…¬å¸çš„æ ¸å¿ƒç”¢å“é–‹ç™¼</p>
<p><strong>ä¸é©åˆçš„æƒ…æ³</strong>
- éœ€è¦å¤§é‡å¹³å°ç‰¹å®šåŠŸèƒ½çš„æ‡‰ç”¨
- å°æ•ˆèƒ½è¦æ±‚æ¥µè‡´çš„éŠæˆ²æ‡‰ç”¨
- åœ˜éšŠå·²æœ‰æ·±åšåŸç”Ÿé–‹ç™¼ç¶“é©—ä¸”æ™‚é–“å……è£•</p>
<h2>ğŸ‰ é–‹å§‹ä½ çš„ Flutter ä¹‹æ—…</h2>
<p>Flutter ä¸åƒ…åƒ…æ˜¯ä¸€å€‹é–‹ç™¼æ¡†æ¶ï¼Œæ›´æ˜¯ç¾ä»£ç§»å‹•æ‡‰ç”¨é–‹ç™¼çš„æœ€ä½³è§£æ±ºæ–¹æ¡ˆã€‚å®ƒå®Œç¾å¹³è¡¡äº†é–‹ç™¼æ•ˆç‡ã€æ‡‰ç”¨æ•ˆèƒ½å’Œä½¿ç”¨è€…é«”é©—ï¼Œè®“é–‹ç™¼è€…èƒ½å¤ å°ˆæ³¨æ–¼å‰µé€ å„ªç§€çš„ç”¢å“ï¼Œè€Œéè™•ç†å¹³å°å·®ç•°çš„æŠ€è¡“ç´°ç¯€ã€‚</p>
<p>é€éç³»çµ±æ€§çš„å­¸ç¿’å’Œå¯¦è¸ï¼Œä½ å°‡èƒ½å¤ ï¼š
- ğŸ¯ å¿«é€Ÿå»ºæ§‹é«˜å“è³ªè·¨å¹³å°æ‡‰ç”¨
- ğŸ’° å¤§å¹…é™ä½é–‹ç™¼å’Œç¶­è­·æˆæœ¬<br />
- ğŸš€ ç¸®çŸ­ç”¢å“ä¸Šå¸‚æ™‚é–“
- ğŸŒŸ æä¾›ä¸€è‡´çš„ä½¿ç”¨è€…é«”é©—</p>
<p>è¨˜ä½ï¼Œå­¸ç¿’ç¨‹å¼è¨­è¨ˆæœ€é‡è¦çš„æ˜¯å‹•æ‰‹å¯¦ä½œã€‚ç†è«–çŸ¥è­˜å›ºç„¶é‡è¦ï¼Œä½†åªæœ‰é€éå¯¦éš›ç·¨å¯«ä»£ç¢¼ï¼Œæ‰èƒ½çœŸæ­£æŒæ¡ Flutter çš„ç²¾é«“ã€‚</p>
<p><strong>é¸æ“‡ Flutterï¼Œå°±æ˜¯é¸æ“‡æœªä¾†ï¼</strong> ğŸš€</p>
                    </div>
                </div>
            
                <div class="tab-pane fade " id="1.-getting-started" 
                     role="tabpanel" aria-labelledby="1.-getting-started-tab">
                    <div class="content-wrapper">
                        <h1>Flutter å…¥é–€æŒ‡å—å¾é›¶é–‹å§‹</h1>
<h2>ğŸš€ Flutter ç°¡ä»‹</h2>
<p>Flutter æ˜¯ Google é–‹ç™¼çš„é–‹æº UI å·¥å…·åŒ…ï¼Œè®“ä½ å¯ä»¥ç”¨å–®ä¸€ç¨‹å¼ç¢¼åº«å»ºæ§‹ç¾è§€ã€åŸç”Ÿç·¨è­¯çš„ç§»å‹•ã€Web å’Œæ¡Œé¢æ‡‰ç”¨ç¨‹å¼ã€‚</p>
<h3>ç‚ºä»€éº¼é¸æ“‡ Flutterï¼Ÿ</h3>
<ul>
<li>âš¡ <strong>å¿«é€Ÿé–‹ç™¼</strong>ï¼šç†±é‡è¼‰åŠŸèƒ½è®“ä½ å³æ™‚çœ‹åˆ°ç¨‹å¼ç¢¼è®Šæ›´</li>
<li>ğŸ¨ <strong>è¡¨ç¾åŠ›å¼·çš„ç¾è§€UI</strong>ï¼šè±å¯Œçš„ Material Design å’Œ Cupertino çµ„ä»¶</li>
<li>ğŸƒ <strong>åŸç”Ÿæ€§èƒ½</strong>ï¼šç·¨è­¯ç‚º ARM å’Œ x64 åŸç”Ÿç¨‹å¼ç¢¼</li>
<li>ğŸ“± <strong>è·¨å¹³å°</strong>ï¼šä¸€å¥—ç¨‹å¼ç¢¼æ”¯æ´ iOSã€Androidã€Webã€æ¡Œé¢</li>
</ul>
<hr />
<h2>ğŸ“ å­¸ç¿’è·¯å¾‘å»ºè­°</h2>
<h3>åŸºç¤æ¦‚å¿µ</h3>
<ul>
<li>[ ] å®Œæˆç’°å¢ƒè¨­å®š</li>
<li>[ ] ç†è§£ Widget æ¦‚å¿µ</li>
<li>[ ] å­¸æœƒåŸºæœ¬ä½ˆå±€ (Row, Column, Container)</li>
<li>[ ] ç·´ç¿’ StatelessWidget å’Œ StatefulWidget</li>
<li>[ ] å®Œæˆç¬¬ä¸€å€‹è‡ªè¨‚æ‡‰ç”¨ç¨‹å¼</li>
<li>[ ] åœ¨é é¢æ¨™é¡Œæ‰¾å½©è›‹</li>
</ul>
<h3>UI é–‹ç™¼</h3>
<ul>
<li>[ ] å­¸ç¿’ Material Design Widget</li>
<li>[ ] æŒæ¡ ListView å’Œ GridView</li>
<li>[ ] ç†è§£å°èˆªå’Œè·¯ç”±</li>
<li>[ ] ç·´ç¿’è¡¨å–®è¼¸å…¥å’Œé©—è­‰</li>
<li>[ ] å­¸ç¿’ä¸»é¡Œå’Œæ¨£å¼</li>
<li>[ ] ä¸æ˜¯é€™å€‹åˆ†é çš„æ¨™é¡Œ</li>
</ul>
<h3>ç‹€æ…‹ç®¡ç†</h3>
<ul>
<li>[ ] ç†è§£ setState çš„ä½¿ç”¨</li>
<li>[ ] å­¸ç¿’ InheritedWidget</li>
<li>[ ] å˜—è©¦ Provider å¥—ä»¶</li>
<li>[ ] ç†è§£ç‹€æ…‹ç®¡ç†çš„æœ€ä½³å¯¦è¸</li>
<li>[ ] æ˜¯æ•´å€‹æ¨™é¡Œ (Flutter Development Documentation)</li>
</ul>
<h3>é€²éšåŠŸèƒ½</h3>
<ul>
<li>[ ] ç¶²è·¯è«‹æ±‚å’Œ API æ•´åˆ</li>
<li>[ ] æœ¬åœ°è³‡æ–™å„²å­˜</li>
<li>[ ] åœ–ç‰‡è™•ç†å’Œå¿«å–</li>
<li>[ ] å‹•ç•«åŸºç¤</li>
<li>[ ] å°å°±æ˜¯ç´«è‰²é‚£å€‹åº•åœ–æ¨™é¡Œ</li>
</ul>
<h3>å¯¦æˆ°å°ˆæ¡ˆ</h3>
<ul>
<li>[ ] è¦åŠƒä¸€å€‹å®Œæ•´çš„æ‡‰ç”¨ç¨‹å¼</li>
<li>[ ] å¯¦ä½œæ ¸å¿ƒåŠŸèƒ½</li>
<li>[ ] åŠ å…¥éŒ¯èª¤è™•ç†</li>
<li>[ ] å„ªåŒ–ä½¿ç”¨è€…é«”é©—</li>
<li>[ ] åœ¨èƒŒæ™¯ä¸Š</li>
</ul>
<h3>éƒ¨ç½²å’Œå„ªåŒ–</h3>
<ul>
<li>[ ] å­¸ç¿’æ‡‰ç”¨ç¨‹å¼æ‰“åŒ…</li>
<li>[ ] æ•ˆèƒ½å„ªåŒ–æŠ€å·§</li>
<li>[ ] æ¸¬è©¦ç­–ç•¥</li>
<li>[ ] æº–å‚™ç™¼ä½ˆåˆ°å•†åº—</li>
<li>[ ] å³ä¸Šè§’æœ‰å€‹éš±è— icon</li>
</ul>
<hr />
<h2>ğŸ“š æ¨è–¦å­¸ç¿’è³‡æº</h2>
<h3>å®˜æ–¹è³‡æº</h3>
<ul>
<li><a href="https://flutter.dev/docs">Flutter å®˜æ–¹æ–‡æª”</a></li>
<li><a href="https://dart.dev/guides/language/language-tour">Dart èªè¨€å°è¦½</a></li>
<li><a href="https://flutter.dev/docs/development/ui/widgets">Flutter Widget ç›®éŒ„</a></li>
<li><a href="https://flutter.dev/docs/cookbook">Flutter Cookbook</a></li>
</ul>
<h3>ç·šä¸Šèª²ç¨‹</h3>
<ul>
<li><a href="https://flutter.dev/docs/codelabs">Flutter å®˜æ–¹ Codelabs</a></li>
<li><a href="https://www.udemy.com/topic/flutter/">Udemy Flutter èª²ç¨‹</a></li>
<li><a href="https://www.youtube.com/c/flutterdev">YouTube Flutter é »é“</a></li>
</ul>
<h3>å¯¦ç”¨å·¥å…·</h3>
<ul>
<li><a href="https://dartpad.dev/">DartPad</a> - ç·šä¸Š Dart ç·¨è¼¯å™¨</li>
<li><a href="https://flutter-widget.live/">Flutter Widget Livebook</a> - Widget å³æ™‚é è¦½</li>
<li><a href="https://pub.dev/">pub.dev</a> - Dart å¥—ä»¶åº«</li>
</ul>
<h3>ç¤¾ç¾¤è³‡æº</h3>
<ul>
<li><a href="https://flutter.cn/">Flutter ä¸­æ–‡ç¶²</a></li>
<li><a href="https://www.facebook.com/groups/flutter.taiwan/">Flutter å°ç£ç¤¾ç¾¤</a></li>
<li><a href="https://stackoverflow.com/questions/tagged/flutter">Stack Overflow Flutter æ¨™ç±¤</a></li>
<li><a href="https://www.reddit.com/r/FlutterDev/">Reddit Flutter ç¤¾å€</a></li>
</ul>
<hr />
<h2>ğŸ† å°ˆæ¡ˆå¯¦æˆ°å»ºè­°</h2>
<h3>åˆå­¸è€…å°ˆæ¡ˆ</h3>
<ol>
<li><strong>å€‹äººåç‰‡æ‡‰ç”¨ç¨‹å¼</strong> - ç·´ç¿’åŸºæœ¬ä½ˆå±€å’Œæ¨£å¼</li>
<li><strong>BMI è¨ˆç®—å™¨</strong> - å­¸ç¿’è¼¸å…¥è™•ç†å’Œè¨ˆç®—</li>
<li><strong>å¾…è¾¦äº‹é …åˆ—è¡¨</strong> - æŒæ¡ç‹€æ…‹ç®¡ç†</li>
<li><strong>ç°¡å–®è¨ˆç®—æ©Ÿ</strong> - ç†è§£äº‹ä»¶è™•ç†</li>
<li><strong>å¤©æ°£æ‡‰ç”¨ç¨‹å¼</strong> - å­¸ç¿’ API æ•´åˆ</li>
</ol>
<h3>é€²éšå°ˆæ¡ˆ</h3>
<ol>
<li><strong>è¨˜å¸³æ‡‰ç”¨ç¨‹å¼</strong> - å®Œæ•´çš„ CRUD æ“ä½œ</li>
<li><strong>èŠå¤©æ‡‰ç”¨ç¨‹å¼</strong> - å³æ™‚é€šè¨ŠåŠŸèƒ½</li>
<li><strong>é›»å­å•†å‹™æ‡‰ç”¨ç¨‹å¼</strong> - è¤‡é›œçš„ç‹€æ…‹ç®¡ç†</li>
<li><strong>ç¤¾äº¤åª’é«”æ‡‰ç”¨ç¨‹å¼</strong> - åœ–ç‰‡è™•ç†å’Œåˆ†äº«</li>
<li><strong>å¥èº«è¿½è¹¤æ‡‰ç”¨ç¨‹å¼</strong> - æ„Ÿæ¸¬å™¨æ•´åˆ</li>
</ol>
<h3>å°ˆæ¡ˆé–‹ç™¼æµç¨‹</h3>
<h4>1. è¦åŠƒéšæ®µ</h4>
<div class="codehilite"><pre><span></span><code>éœ€æ±‚åˆ†æ â†’ åŠŸèƒ½è¦æ ¼ â†’ UI/UX è¨­è¨ˆ â†’ æŠ€è¡“æ¶æ§‹
</code></pre></div>

<h4>2. é–‹ç™¼éšæ®µ</h4>
<div class="codehilite"><pre><span></span><code>å°ˆæ¡ˆè¨­å®š â†’ åŸºç¤æ¶æ§‹ â†’ åŠŸèƒ½é–‹ç™¼ â†’ æ¸¬è©¦ â†’ å„ªåŒ–
</code></pre></div>

<h4>3. éƒ¨ç½²éšæ®µ</h4>
<div class="codehilite"><pre><span></span><code>æ‰“åŒ…æ‡‰ç”¨ç¨‹å¼ â†’ å•†åº—å¯©æ ¸ â†’ ç™¼ä½ˆ â†’ ç¶­è­·æ›´æ–°
</code></pre></div>

<hr />
<h2>ğŸ› ï¸ é–‹ç™¼æœ€ä½³å¯¦è¸</h2>
<h3>ç¨‹å¼ç¢¼çµ„ç¹”</h3>
<div class="codehilite"><pre><span></span><code><span class="n">lib</span><span class="o">/</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">main</span><span class="o">.</span><span class="n">dart</span><span class="w">           </span><span class="c1"># æ‡‰ç”¨ç¨‹å¼å…¥å£</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">models</span><span class="o">/</span><span class="w">            </span><span class="c1"># è³‡æ–™æ¨¡å‹</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">screens</span><span class="o">/</span><span class="w">           </span><span class="c1"># ç•«é¢é é¢</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">widgets</span><span class="o">/</span><span class="w">           </span><span class="c1"># è‡ªè¨‚ Widget</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">services</span><span class="o">/</span><span class="w">          </span><span class="c1"># æ¥­å‹™é‚è¼¯æœå‹™</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">utils</span><span class="o">/</span><span class="w">             </span><span class="c1"># å·¥å…·å‡½æ•¸</span>
<span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">constants</span><span class="o">/</span><span class="w">         </span><span class="c1"># å¸¸æ•¸å®šç¾©</span>
</code></pre></div>

<h3>å‘½åè¦ç¯„</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// é¡åˆ¥ï¼šPascalCase</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UserProfile</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{}</span>

<span class="c1">// è®Šæ•¸å’Œå‡½æ•¸ï¼šcamelCase</span>
<span class="kt">String</span><span class="w"> </span><span class="n">userName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;John&#39;</span><span class="p">;</span>
<span class="kt">void</span><span class="w"> </span><span class="n">updateUserInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="c1">// å¸¸æ•¸ï¼šSCREAMING_SNAKE_CASE</span>
<span class="k">const</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">API_BASE_URL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://api.example.com&#39;</span><span class="p">;</span>

<span class="c1">// æª”åï¼šsnake_case</span>
<span class="n">user_profile_screen</span><span class="p">.</span><span class="n">dart</span>
</code></pre></div>

<h3>è¨»é‡‹è¦ç¯„</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">/// ä½¿ç”¨è€…å€‹äººè³‡æ–™ Widget</span>
<span class="c1">/// </span>
<span class="c1">/// é¡¯ç¤ºä½¿ç”¨è€…çš„åŸºæœ¬è³‡è¨Šï¼ŒåŒ…æ‹¬é ­åƒã€å§“åå’Œè¯çµ¡æ–¹å¼</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UserProfile</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">/// ä½¿ç”¨è€… ID</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">userId</span><span class="p">;</span>

<span class="w">  </span><span class="c1">/// æ˜¯å¦é¡¯ç¤ºç·¨è¼¯æŒ‰éˆ•</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">showEditButton</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">UserProfile</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">userId</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">showEditButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// TODO: å¯¦ä½œä½¿ç”¨è€…è³‡æ–™è¼‰å…¥é‚è¼¯</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>éŒ¯èª¤è™•ç†</h3>
<div class="codehilite"><pre><span></span><code><span class="n">Future</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fetchUser</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="n">Uri</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">apiUrl</span><span class="s1">/users/</span><span class="si">$</span><span class="n">userId</span><span class="s1">&#39;</span><span class="p">));</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">User</span><span class="p">.</span><span class="n">fromJson</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">HttpException</span><span class="p">(</span><span class="s1">&#39;Failed to load user: </span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="kd">on</span><span class="w"> </span><span class="n">SocketException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="n">NetworkException</span><span class="p">(</span><span class="s1">&#39;No internet connection&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="kd">on</span><span class="w"> </span><span class="n">HttpException</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">rethrow</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="n">UnknownException</span><span class="p">(</span><span class="s1">&#39;Unknown error occurred: </span><span class="si">$</span><span class="n">e</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ” åµéŒ¯æŠ€å·§</h2>
<h3>1. ä½¿ç”¨ Debug Console</h3>
<div class="codehilite"><pre><span></span><code><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Debug message: </span><span class="si">$</span><span class="n">variable</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="n">debugPrint</span><span class="p">(</span><span class="s1">&#39;Debug info: </span><span class="si">${</span><span class="n">object</span><span class="p">.</span><span class="n">toString</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
</code></pre></div>

<h3>2. Flutter Inspector</h3>
<ul>
<li>æª¢è¦– Widget æ¨¹ç‹€çµæ§‹</li>
<li>æŸ¥çœ‹ Widget å±¬æ€§</li>
<li>æ¸¬é‡å’Œå°é½Šå·¥å…·</li>
</ul>
<h3>3. å¸¸ç”¨åµéŒ¯æŒ‡ä»¤</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># é–‹å•ŸåµéŒ¯æ¨¡å¼</span>
flutter<span class="w"> </span>run<span class="w"> </span>--debug

<span class="c1"># æª¢è¦–æ•ˆèƒ½</span>
flutter<span class="w"> </span>run<span class="w"> </span>--profile

<span class="c1"># æª¢è¦–æ‡‰ç”¨ç¨‹å¼å¤§å°</span>
flutter<span class="w"> </span>build<span class="w"> </span>apk<span class="w"> </span>--analyze-size

<span class="c1"># æª¢è¦–ç›¸ä¾æ€§</span>
flutter<span class="w"> </span>deps
</code></pre></div>

<h3>4. åµéŒ¯ Widget</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">DebugContainer</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">DebugContainer</span><span class="p">({</span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">child</span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">      </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">        </span><span class="nl">border:</span><span class="w"> </span><span class="n">Border</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span><span class="w"> </span><span class="nl">width:</span><span class="w"> </span><span class="m">2</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">child</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨æ–¹å¼</span>
<span class="n">DebugContainer</span><span class="p">(</span>
<span class="w">  </span><span class="nl">child:</span><span class="w"> </span><span class="n">YourWidget</span><span class="p">(),</span>
<span class="p">)</span>
</code></pre></div>

<hr />
<h2>ğŸ“‹ æª¢æŸ¥æ¸…å–®</h2>
<h3>é–‹ç™¼ç’°å¢ƒæª¢æŸ¥</h3>
<ul>
<li>[ ] Flutter SDK å·²å®‰è£ä¸¦åœ¨ PATH ä¸­</li>
<li>[ ] <code>flutter doctor</code> ç„¡é‡å¤§å•é¡Œ</li>
<li>[ ] IDE å·²å®‰è£ Flutter æ’ä»¶</li>
<li>[ ] æ¨¡æ“¬å™¨æˆ–å¯¦é«”è£ç½®å¯æ­£å¸¸ä½¿ç”¨</li>
<li>[ ] èƒ½æˆåŠŸåŸ·è¡Œ <code>flutter create</code> å’Œ <code>flutter run</code></li>
</ul>
<h3>ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥</h3>
<ul>
<li>[ ] ç¨‹å¼ç¢¼æ ¼å¼åŒ– (<code>flutter format .</code>)</li>
<li>[ ] éœæ…‹åˆ†æç„¡è­¦å‘Š (<code>flutter analyze</code>)</li>
<li>[ ] æ¸¬è©¦è¦†è“‹ç‡è¶³å¤  (<code>flutter test</code>)</li>
<li>[ ] æ•ˆèƒ½æ¸¬è©¦é€šé (<code>flutter run --profile</code>)</li>
<li>[ ] è¨˜æ†¶é«”æ´©æ¼æª¢æŸ¥</li>
</ul>
<h3>ç™¼ä½ˆå‰æª¢æŸ¥</h3>
<ul>
<li>[ ] æ‡‰ç”¨ç¨‹å¼åœ–ç¤ºå’Œåç¨±æ­£ç¢º</li>
<li>[ ] ç‰ˆæœ¬è™Ÿç¢¼å·²æ›´æ–°</li>
<li>[ ] æ¬Šé™è¨­å®šæ­£ç¢º</li>
<li>[ ] åœ¨ä¸åŒè£ç½®ä¸Šæ¸¬è©¦</li>
<li>[ ] é›¢ç·šåŠŸèƒ½æ¸¬è©¦</li>
<li>[ ] ç¶²è·¯éŒ¯èª¤è™•ç†æ¸¬è©¦</li>
</ul>
<hr />
<h2>ğŸ¯ ä¸‹ä¸€æ­¥è¨ˆåŠƒ</h2>
<h3>ç«‹å³è¡Œå‹•</h3>
<ol>
<li><strong>å®Œæˆç’°å¢ƒè¨­å®š</strong> - ç¢ºä¿é–‹ç™¼ç’°å¢ƒæ­£å¸¸é‹ä½œ</li>
<li><strong>å»ºç«‹ç¬¬ä¸€å€‹æ‡‰ç”¨ç¨‹å¼</strong> - è·Ÿè‘—æŒ‡å—å»ºç«‹å€‹äººåç‰‡æ‡‰ç”¨ç¨‹å¼</li>
<li><strong>å­¸ç¿’ Dart åŸºç¤</strong> - å¦‚æœé‚„ä¸ç†Ÿæ‚‰ Dart èªè¨€</li>
<li><strong>é–±è®€å®˜æ–¹æ–‡æª”</strong> - æ·±å…¥äº†è§£ Flutter æ ¸å¿ƒæ¦‚å¿µ</li>
</ol>
<h3>çŸ­æœŸç›®æ¨™ (1-2 å€‹æœˆ)</h3>
<ol>
<li><strong>æŒæ¡åŸºç¤ Widget</strong> - èƒ½ç†Ÿç·´ä½¿ç”¨å¸¸ç”¨ Widget</li>
<li><strong>ç†è§£ç‹€æ…‹ç®¡ç†</strong> - çŸ¥é“ä½•æ™‚ä½¿ç”¨ StatefulWidget</li>
<li><strong>å®Œæˆç¬¬ä¸€å€‹å¯¦ç”¨æ‡‰ç”¨ç¨‹å¼</strong> - å¦‚å¾…è¾¦äº‹é …æˆ–è¨ˆç®—æ©Ÿ</li>
<li><strong>å­¸æœƒåµéŒ¯æŠ€å·§</strong> - èƒ½ç¨ç«‹è§£æ±ºå¸¸è¦‹å•é¡Œ</li>
</ol>
<h3>ä¸­æœŸç›®æ¨™ (3-6 å€‹æœˆ)</h3>
<ol>
<li><strong>æŒæ¡é€²éšæ¦‚å¿µ</strong> - å°èˆªã€å‹•ç•«ã€ç¶²è·¯è«‹æ±‚</li>
<li><strong>å­¸ç¿’ç‹€æ…‹ç®¡ç†æ–¹æ¡ˆ</strong> - Provider, Riverpod, æˆ– Bloc</li>
<li><strong>å®Œæˆè¤‡é›œå°ˆæ¡ˆ</strong> - å…·æœ‰å¾Œç«¯æ•´åˆçš„å®Œæ•´æ‡‰ç”¨ç¨‹å¼</li>
<li><strong>ç†è§£æ•ˆèƒ½å„ªåŒ–</strong> - èƒ½è­˜åˆ¥å’Œè§£æ±ºæ•ˆèƒ½å•é¡Œ</li>
</ol>
<h3>é•·æœŸç›®æ¨™ (6 å€‹æœˆä»¥ä¸Š)</h3>
<ol>
<li><strong>æˆç‚º Flutter å°ˆå®¶</strong> - èƒ½æŒ‡å°å…¶ä»–é–‹ç™¼è€…</li>
<li><strong>è²¢ç»é–‹æºå°ˆæ¡ˆ</strong> - ç‚º Flutter ç”Ÿæ…‹ç³»çµ±åšå‡ºè²¢ç»</li>
<li><strong>ç™¼ä½ˆå•†æ¥­æ‡‰ç”¨ç¨‹å¼</strong> - åœ¨æ‡‰ç”¨ç¨‹å¼å•†åº—ç™¼ä½ˆç”¢å“</li>
<li><strong>æŒçºŒå­¸ç¿’æ–°æŠ€è¡“</strong> - è·Ÿä¸Š Flutter ç™¼å±•è¶¨å‹¢</li>
</ol>
<hr />
<h2>ğŸŒŸ æ¿€å‹µè©±èª</h2>
<blockquote>
<p>ã€Œæ¯ä¸€å€‹å°ˆå®¶éƒ½æ›¾ç¶“æ˜¯åˆå­¸è€…ã€‚æ¯ä¸€å€‹å°ˆæ¥­äººå£«éƒ½æ›¾ç¶“æ˜¯æ¥­é¤˜æ„›å¥½è€…ã€‚æ¯ä¸€å€‹è‘—åçš„äººéƒ½æ›¾ç¶“æ˜¯ç„¡åå°å’ã€‚ã€</p>
</blockquote>
<h3>è¨˜ä½é€™äº›é‡é»ï¼š</h3>
<ol>
<li><strong>å­¸ç¿’æ˜¯ä¸€å€‹éç¨‹</strong> - ä¸è¦æœŸæœ›ç«‹å³æˆç‚ºå°ˆå®¶</li>
<li><strong>å‹•æ‰‹å¯¦ä½œæœ€é‡è¦</strong> - å…‰çœ‹ä¸ç·´æ˜¯ä¸å¤ çš„</li>
<li><strong>çŠ¯éŒ¯æ˜¯æ­£å¸¸çš„</strong> - å¾éŒ¯èª¤ä¸­å­¸ç¿’æˆé•·</li>
<li><strong>ç¤¾ç¾¤å¾ˆé‡è¦</strong> - ç©æ¥µåƒèˆ‡ç¤¾ç¾¤è¨è«–</li>
<li><strong>æŒçºŒç·´ç¿’</strong> - æ¯å¤©å¯«ä¸€é»ç¨‹å¼ç¢¼</li>
<li><strong>ä¿æŒå¥½å¥‡å¿ƒ</strong> - ä¸æ–·æ¢ç´¢æ–°åŠŸèƒ½å’Œæœ€ä½³å¯¦è¸</li>
</ol>
<h3>é–‹å§‹ä½ çš„ Flutter ä¹‹æ—…ï¼</h3>
<p>ç¾åœ¨ä½ å·²ç¶“æœ‰äº†å®Œæ•´çš„å…¥é–€æŒ‡å—ï¼Œæ˜¯æ™‚å€™é–‹å§‹å‹•æ‰‹å¯¦ä½œäº†ï¼è¨˜ä½ï¼Œæœ€å¥½çš„å­¸ç¿’æ–¹å¼å°±æ˜¯å¯¦éš›å»ºæ§‹æ‡‰ç”¨ç¨‹å¼ã€‚å¾ç°¡å–®çš„å°ˆæ¡ˆé–‹å§‹ï¼Œé€æ­¥æŒ‘æˆ°æ›´è¤‡é›œçš„åŠŸèƒ½ã€‚</p>
<p><strong>ç¥ä½ åœ¨ Flutter é–‹ç™¼çš„é“è·¯ä¸Šä¸€å¸†é¢¨é †ï¼</strong> ğŸš€</p>
<hr />
<h2>ğŸ“ éœ€è¦å”åŠ©ï¼Ÿ</h2>
<p>å¦‚æœåœ¨å­¸ç¿’éç¨‹ä¸­é‡åˆ°å•é¡Œï¼Œå¯ä»¥ï¼š</p>
<ol>
<li><strong>æŸ¥çœ‹å®˜æ–¹æ–‡æª”</strong> - é€šå¸¸æœ‰è©³ç´°çš„è§£ç­”</li>
<li><strong>æœå°‹ Stack Overflow</strong> - å¾ˆå¤šå¸¸è¦‹å•é¡Œå·²æœ‰è§£ç­”</li>
<li><strong>åŠ å…¥ç¤¾ç¾¤è¨è«–</strong> - èˆ‡å…¶ä»–é–‹ç™¼è€…äº¤æµç¶“é©—</li>
<li><strong>æŸ¥çœ‹ GitHub Issues</strong> - å¯èƒ½æ˜¯å·²çŸ¥çš„ bug</li>
<li><strong>è§€çœ‹æ•™å­¸å½±ç‰‡</strong> - è¦–è¦ºåŒ–å­¸ç¿’æ›´å®¹æ˜“ç†è§£</li>
</ol>
<p>è¨˜ä½ï¼Œæ¯å€‹é–‹ç™¼è€…åœ¨å­¸ç¿’éç¨‹ä¸­éƒ½æœƒé‡åˆ°æŒ«æŠ˜ï¼Œé‡è¦çš„æ˜¯ä¿æŒè€å¿ƒå’ŒæŒçºŒå­¸ç¿’çš„æ…‹åº¦ã€‚Flutter ç¤¾ç¾¤éå¸¸å‹å–„å’Œæ¨‚æ–¼åŠ©äººï¼Œä¸è¦å®³æ€•æå•ï¼</p>
<p><strong>é–‹å§‹ç·¨ç¨‹ï¼Œäº«å—å‰µé€ çš„æ¨‚è¶£ï¼</strong> âœ¨ğŸ“‹ ç’°å¢ƒæº–å‚™</p>
<h3>ç³»çµ±éœ€æ±‚</h3>
<p><strong>Windows</strong></p>
<ul>
<li>Windows 10 æˆ–æ›´æ–°ç‰ˆæœ¬ (64-bit)</li>
<li>ç£ç¢Ÿç©ºé–“ï¼š2.8 GB (ä¸åŒ…å« IDE/å·¥å…·çš„ç£ç¢Ÿç©ºé–“)</li>
</ul>
<p><strong>macOS</strong></p>
<ul>
<li>macOS (64-bit)</li>
<li>ç£ç¢Ÿç©ºé–“ï¼š2.8 GB (ä¸åŒ…å« IDE/å·¥å…·çš„ç£ç¢Ÿç©ºé–“)</li>
</ul>
<p><strong>Linux</strong></p>
<ul>
<li>Linux (64-bit)</li>
<li>ç£ç¢Ÿç©ºé–“ï¼š600 MB (ä¸åŒ…å« IDE/å·¥å…·çš„ç£ç¢Ÿç©ºé–“)</li>
</ul>
<h3>å¿…è¦å·¥å…·å®‰è£</h3>
<h4>1. å®‰è£ Flutter SDK</h4>
<p><strong>æ–¹æ³•ä¸€ï¼šç›´æ¥ä¸‹è¼‰ (æ¨è–¦)</strong></p>
<ol>
<li>å‰å¾€ <a href="https://flutter.dev/docs/get-started/install">Flutter å®˜ç¶²</a></li>
<li>ä¸‹è¼‰å°æ‡‰ä½œæ¥­ç³»çµ±çš„ Flutter SDK</li>
<li>è§£å£“ç¸®åˆ°ä½ æƒ³è¦çš„ä½ç½®ï¼ˆä¾‹å¦‚ï¼š<code>C:\flutter</code> æˆ– <code>~/flutter</code>ï¼‰</li>
<li>å°‡ Flutter bin ç›®éŒ„åŠ å…¥ç³»çµ± PATH</li>
</ol>
<p><strong>Windows è¨­å®š PATHï¼š</strong></p>
<div class="codehilite"><pre><span></span><code># é–‹å•Ÿ PowerShell æˆ–å‘½ä»¤æç¤ºå­—å…ƒ
# å°‡ Flutter åŠ å…¥ PATHï¼ˆæ›¿æ›æˆä½ çš„è·¯å¾‘ï¼‰
setx PATH &quot;%PATH%;C:\flutter\bin&quot;
</code></pre></div>

<p><strong>macOS/Linux è¨­å®š PATHï¼š</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># ç·¨è¼¯ ~/.bashrc æˆ– ~/.zshrc</span>
<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;export PATH=&quot;$PATH:`pwd`/flutter/bin&quot;&#39;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.bashrc
<span class="c1"># é‡æ–°è¼‰å…¥</span>
<span class="nb">source</span><span class="w"> </span>~/.bashrc
</code></pre></div>

<p><strong>æ–¹æ³•äºŒï¼šä½¿ç”¨å¥—ä»¶ç®¡ç†å™¨</strong></p>
<p><strong>macOS (ä½¿ç”¨ Homebrew):</strong></p>
<div class="codehilite"><pre><span></span><code>brew<span class="w"> </span>install<span class="w"> </span>--cask<span class="w"> </span>flutter
</code></pre></div>

<p><strong>Windows (ä½¿ç”¨ Chocolatey):</strong></p>
<div class="codehilite"><pre><span></span><code>choco install flutter
</code></pre></div>

<h4>2. é©—è­‰å®‰è£</h4>
<div class="codehilite"><pre><span></span><code><span class="c1"># æª¢æŸ¥ Flutter ç‰ˆæœ¬</span>
flutter<span class="w"> </span>--version

<span class="c1"># åŸ·è¡Œ Flutter doctor æª¢æŸ¥ç’°å¢ƒ</span>
flutter<span class="w"> </span>doctor
</code></pre></div>

<h4>3. å®‰è£é–‹ç™¼å·¥å…·</h4>
<p><strong>Android Studio (æ¨è–¦)</strong></p>
<ol>
<li>ä¸‹è¼‰ä¸¦å®‰è£ <a href="https://developer.android.com/studio">Android Studio</a></li>
<li>å®‰è£ Flutter å’Œ Dart æ’ä»¶ï¼š</li>
<li>é–‹å•Ÿ Android Studio</li>
<li>å‰å¾€ <strong>File &gt; Settings &gt; Plugins</strong></li>
<li>æœå°‹ä¸¦å®‰è£ <strong>Flutter</strong> æ’ä»¶ï¼ˆæœƒè‡ªå‹•å®‰è£ Dartï¼‰</li>
</ol>
<p><strong>Visual Studio Code (è¼•é‡é¸æ“‡)</strong></p>
<ol>
<li>ä¸‹è¼‰ä¸¦å®‰è£ <a href="https://code.visualstudio.com/">VS Code</a></li>
<li>å®‰è£æ“´å……å¥—ä»¶ï¼š</li>
<li><strong>Flutter</strong> (è‡ªå‹•åŒ…å« Dart)</li>
<li><strong>Dart Code</strong></li>
<li><strong>Flutter Widget Snippets</strong></li>
</ol>
<h4>4. è¨­å®šé–‹ç™¼è£ç½®</h4>
<p><strong>Android é–‹ç™¼è¨­å®šï¼š</strong></p>
<ol>
<li>åœ¨ Android Studio ä¸­é–‹å•Ÿ <strong>AVD Manager</strong></li>
<li>å»ºç«‹æ–°çš„è™›æ“¬è£ç½®æˆ–é€£æ¥å¯¦é«” Android è£ç½®</li>
<li>å•Ÿç”¨é–‹ç™¼è€…é¸é …å’Œ USB åµéŒ¯</li>
</ol>
<p><strong>iOS é–‹ç™¼è¨­å®š (åƒ… macOS)ï¼š</strong></p>
<ol>
<li>å®‰è£ Xcode</li>
<li>é–‹å•Ÿ iOS æ¨¡æ“¬å™¨æˆ–é€£æ¥å¯¦é«” iOS è£ç½®</li>
<li>è¨­å®šé–‹ç™¼è€…å¸³è™Ÿ (ç”¨æ–¼å¯¦é«”è£ç½®æ¸¬è©¦)</li>
</ol>
<hr />
<h2>ğŸ¯ ç¬¬ä¸€å€‹ Flutter æ‡‰ç”¨ç¨‹å¼</h2>
<h3>å»ºç«‹æ–°å°ˆæ¡ˆ</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># å»ºç«‹æ–°çš„ Flutter å°ˆæ¡ˆ</span>
flutter<span class="w"> </span>create<span class="w"> </span>my_first_app

<span class="c1"># é€²å…¥å°ˆæ¡ˆç›®éŒ„</span>
<span class="nb">cd</span><span class="w"> </span>my_first_app

<span class="c1"># åŸ·è¡Œæ‡‰ç”¨ç¨‹å¼</span>
flutter<span class="w"> </span>run
</code></pre></div>

<h3>å°ˆæ¡ˆçµæ§‹èªªæ˜</h3>
<div class="codehilite"><pre><span></span><code>my_first_app/
â”œâ”€â”€ android/          # Android å¹³å°ç‰¹å®šæª”æ¡ˆ
â”œâ”€â”€ ios/              # iOS å¹³å°ç‰¹å®šæª”æ¡ˆ
â”œâ”€â”€ lib/              # Dart ç¨‹å¼ç¢¼ä¸»ç›®éŒ„
â”‚   â””â”€â”€ main.dart     # æ‡‰ç”¨ç¨‹å¼å…¥å£é»
â”œâ”€â”€ test/             # æ¸¬è©¦æª”æ¡ˆ
â”œâ”€â”€ web/              # Web å¹³å°ç‰¹å®šæª”æ¡ˆ
â”œâ”€â”€ pubspec.yaml      # å°ˆæ¡ˆé…ç½®å’Œä¾è³´é …
â””â”€â”€ README.md
</code></pre></div>

<h3>ç†è§£ main.dart</h3>
<div class="codehilite"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="c1">// æ‡‰ç”¨ç¨‹å¼çš„å…¥å£é»</span>
<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// ä¸»æ‡‰ç”¨ç¨‹å¼ Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">      </span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;Flutter Demo&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">        </span><span class="nl">primarySwatch:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">home:</span><span class="w"> </span><span class="n">MyHomePage</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;Flutter Demo Home Page&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// é¦–é  Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">MyHomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">MyHomePage</span><span class="p">({</span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">title</span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_MyHomePageState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_MyHomePageState</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// é¦–é ç‹€æ…‹é¡åˆ¥</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">_MyHomePageState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyHomePage</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">_counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_incrementCounter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_counter</span><span class="o">++</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">widget</span><span class="p">.</span><span class="n">title</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span><span class="p">[</span>
<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;You have pushed the button this many times:&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;</span><span class="si">$</span><span class="n">_counter</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">Theme</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">textTheme</span><span class="p">.</span><span class="n">headline4</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">floatingActionButton:</span><span class="w"> </span><span class="n">FloatingActionButton</span><span class="p">(</span>
<span class="w">        </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_incrementCounter</span><span class="p">,</span>
<span class="w">        </span><span class="nl">tooltip:</span><span class="w"> </span><span class="s1">&#39;Increment&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">add</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ”§ é–‹ç™¼å·¥å…·ä½¿ç”¨</h2>
<h3>VS Code å¿«é€Ÿä¸Šæ‰‹</h3>
<p><strong>å¸¸ç”¨å¿«æ·éµï¼š</strong></p>
<ul>
<li><code>Ctrl/Cmd + Shift + P</code>ï¼šé–‹å•Ÿå‘½ä»¤é¢æ¿</li>
<li><code>F5</code>ï¼šå•Ÿå‹•åµéŒ¯</li>
<li><code>Ctrl/Cmd + S</code>ï¼šå„²å­˜ä¸¦è§¸ç™¼ç†±é‡è¼‰</li>
</ul>
<p><strong>å¯¦ç”¨æ“´å……å¥—ä»¶ï¼š</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;recommendations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;dart-code.flutter&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;dart-code.dart-code&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;alexisvt.flutter-snippets&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;hirantha.json-to-dart&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;robert-brunhage.flutter-riverpod-snippets&quot;</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<h3>Android Studio å¿«é€Ÿä¸Šæ‰‹</h3>
<p><strong>å¸¸ç”¨åŠŸèƒ½ï¼š</strong></p>
<ul>
<li><strong>Hot Reload</strong>: <code>Ctrl/Cmd + \</code></li>
<li><strong>Hot Restart</strong>: <code>Ctrl/Cmd + Shift + \</code></li>
<li><strong>Flutter Inspector</strong>: æª¢è¦– Widget æ¨¹ç‹€çµæ§‹</li>
<li><strong>Flutter Outline</strong>: æª¢è¦–ç¨‹å¼ç¢¼çµæ§‹</li>
</ul>
<hr />
<h2>ğŸ“± å»ºæ§‹ä½ çš„ç¬¬ä¸€å€‹è‡ªè¨‚æ‡‰ç”¨ç¨‹å¼</h2>
<p>è®“æˆ‘å€‘å»ºç«‹ä¸€å€‹ç°¡å–®çš„ã€Œå€‹äººåç‰‡ã€æ‡‰ç”¨ç¨‹å¼ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">runApp</span><span class="p">(</span><span class="n">BusinessCardApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">BusinessCardApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">      </span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;å€‹äººåç‰‡&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">        </span><span class="nl">primarySwatch:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">        </span><span class="nl">fontFamily:</span><span class="w"> </span><span class="s1">&#39;Roboto&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">home:</span><span class="w"> </span><span class="n">BusinessCard</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">BusinessCard</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">teal</span><span class="p">,</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">SafeArea</span><span class="p">(</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="c1">// é ­åƒ</span>
<span class="w">            </span><span class="n">CircleAvatar</span><span class="p">(</span>
<span class="w">              </span><span class="nl">radius:</span><span class="w"> </span><span class="m">50.0</span><span class="p">,</span>
<span class="w">              </span><span class="nl">backgroundImage:</span><span class="w"> </span><span class="n">AssetImage</span><span class="p">(</span><span class="s1">&#39;images/avatar.jpg&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20.0</span><span class="p">),</span>

<span class="w">            </span><span class="c1">// å§“å</span>
<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;å¼µå°æ˜&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">32.0</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                </span><span class="nl">fontFamily:</span><span class="w"> </span><span class="s1">&#39;Pacifico&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="c1">// è·ç¨±</span>
<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;FLUTTER é–‹ç™¼è€…&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">16.0</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">teal</span><span class="p">.</span><span class="n">shade100</span><span class="p">,</span>
<span class="w">                </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                </span><span class="nl">letterSpacing:</span><span class="w"> </span><span class="m">2.5</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20.0</span><span class="p">),</span>

<span class="w">            </span><span class="c1">// åˆ†éš”ç·š</span>
<span class="w">            </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">width:</span><span class="w"> </span><span class="m">150.0</span><span class="p">,</span>
<span class="w">              </span><span class="nl">height:</span><span class="w"> </span><span class="m">1.0</span><span class="p">,</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">teal</span><span class="p">.</span><span class="n">shade100</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20.0</span><span class="p">),</span>

<span class="w">            </span><span class="c1">// è¯çµ¡è³‡è¨Š</span>
<span class="w">            </span><span class="n">Card</span><span class="p">(</span>
<span class="w">              </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">vertical:</span><span class="w"> </span><span class="m">10.0</span><span class="p">,</span><span class="w"> </span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">25.0</span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">                  </span><span class="n">Icons</span><span class="p">.</span><span class="n">phone</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">teal</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                  </span><span class="s1">&#39;+886 912 345 678&#39;</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">teal</span><span class="p">.</span><span class="n">shade900</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">fontFamily:</span><span class="w"> </span><span class="s1">&#39;Source Sans Pro&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">16.0</span><span class="p">,</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="n">Card</span><span class="p">(</span>
<span class="w">              </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">vertical:</span><span class="w"> </span><span class="m">10.0</span><span class="p">,</span><span class="w"> </span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">25.0</span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">                  </span><span class="n">Icons</span><span class="p">.</span><span class="n">email</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">teal</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                  </span><span class="s1">&#39;ming@example.com&#39;</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">teal</span><span class="p">.</span><span class="n">shade900</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">fontFamily:</span><span class="w"> </span><span class="s1">&#39;Source Sans Pro&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">16.0</span><span class="p">,</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>æ–°å¢è³‡æºæª”æ¡ˆ</h3>
<ol>
<li>åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å»ºç«‹ <code>images</code> è³‡æ–™å¤¾</li>
<li>åŠ å…¥é ­åƒåœ–ç‰‡ <code>avatar.jpg</code></li>
<li>ä¿®æ”¹ <code>pubspec.yaml</code>ï¼š</li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="nt">flutter</span><span class="p">:</span>
<span class="w">  </span><span class="nt">uses-material-design</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="c1"># åŠ å…¥è³‡æºæª”æ¡ˆ</span>
<span class="w">  </span><span class="nt">assets</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">images/</span>

<span class="w">  </span><span class="c1"># è‡ªè¨‚å­—å‹ (å¯é¸)</span>
<span class="w">  </span><span class="nt">fonts</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">family</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Pacifico</span>
<span class="w">      </span><span class="nt">fonts</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">asset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fonts/Pacifico-Regular.ttf</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">family</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Source Sans Pro</span>
<span class="w">      </span><span class="nt">fonts</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">asset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fonts/SourceSansPro-Regular.ttf</span>
</code></pre></div>

<hr />
<h2>ğŸ¨ Flutter åŸºç¤æ¦‚å¿µ</h2>
<h3>1. Widget æ˜¯ä¸€åˆ‡</h3>
<p>Flutter ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯ Widgetï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// æ–‡å­— Widget</span>
<span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Hello Flutter&#39;</span><span class="p">)</span>

<span class="c1">// æŒ‰éˆ• Widget</span>
<span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">  </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æŒ‰éˆ•è¢«é»æ“Šï¼&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;é»æˆ‘&#39;</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1">// å®¹å™¨ Widget</span>
<span class="n">Container</span><span class="p">(</span>
<span class="w">  </span><span class="nl">width:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">  </span><span class="nl">height:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">  </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;å®¹å™¨&#39;</span><span class="p">)),</span>
<span class="p">)</span>
</code></pre></div>

<h3>2. StatelessWidget vs StatefulWidget</h3>
<p><strong>StatelessWidgetï¼ˆç„¡ç‹€æ…‹ï¼‰ï¼š</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">WelcomeText</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>

<span class="w">  </span><span class="n">WelcomeText</span><span class="p">({</span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">name</span><span class="p">});</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;æ­¡è¿, </span><span class="si">$</span><span class="n">name</span><span class="s1">!&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>StatefulWidgetï¼ˆæœ‰ç‹€æ…‹ï¼‰ï¼š</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">Counter</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_CounterState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_CounterState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_CounterState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">Counter</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;è¨ˆæ•¸: </span><span class="si">$</span><span class="n">count</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">count</span><span class="o">++</span><span class="p">;</span>
<span class="w">            </span><span class="p">});</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;å¢åŠ &#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>3. åŸºæœ¬ä½ˆå±€</h3>
<p><strong>Columnï¼ˆå‚ç›´æ’åˆ—ï¼‰ï¼š</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Column</span><span class="p">(</span>
<span class="w">  </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ç¬¬ä¸€å€‹&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ç¬¬äºŒå€‹&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ç¬¬ä¸‰å€‹&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">)</span>
</code></pre></div>

<p><strong>Rowï¼ˆæ°´å¹³æ’åˆ—ï¼‰ï¼š</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Row</span><span class="p">(</span>
<span class="w">  </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">star</span><span class="p">),</span>
<span class="w">    </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;è©•åˆ†&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;5.0&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="p">],</span>
<span class="p">)</span>
</code></pre></div>

<p><strong>Containerï¼ˆå®¹å™¨ï¼‰ï¼š</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Container</span><span class="p">(</span>
<span class="w">  </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16.0</span><span class="p">),</span>
<span class="w">  </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">8.0</span><span class="p">),</span>
<span class="w">  </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">    </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">    </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8.0</span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="w">  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;æ¨£å¼åŒ–å®¹å™¨&#39;</span><span class="p">),</span>
<span class="p">)</span>
</code></pre></div>

<hr />
<h2>ğŸ”¥ ç†±é‡è¼‰ (Hot Reload)</h2>
<p>Flutter æœ€å¼·å¤§çš„åŠŸèƒ½ä¹‹ä¸€å°±æ˜¯ç†±é‡è¼‰ï¼š</p>
<h3>ä»€éº¼æ˜¯ç†±é‡è¼‰ï¼Ÿ</h3>
<ul>
<li>åœ¨ä¸é‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼çš„æƒ…æ³ä¸‹ï¼Œå³æ™‚çœ‹åˆ°ç¨‹å¼ç¢¼è®Šæ›´</li>
<li>ä¿æŒæ‡‰ç”¨ç¨‹å¼ç‹€æ…‹</li>
<li>å¤§å¹…æé«˜é–‹ç™¼æ•ˆç‡</li>
</ul>
<h3>å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h3>
<ol>
<li><strong>VS Code</strong>: å„²å­˜æª”æ¡ˆ (<code>Ctrl/Cmd + S</code>)</li>
<li><strong>Android Studio</strong>: é»æ“Šç†±é‡è¼‰æŒ‰éˆ•æˆ– <code>Ctrl/Cmd + \</code></li>
<li><strong>çµ‚ç«¯æ©Ÿ</strong>: è¼¸å…¥ <code>r</code></li>
</ol>
<h3>ç†±é‡è¼‰çš„é™åˆ¶</h3>
<p>ä»¥ä¸‹æƒ…æ³éœ€è¦ç†±é‡å•Ÿ (Hot Restart)ï¼š</p>
<ul>
<li>ä¿®æ”¹ <code>main()</code> å‡½æ•¸</li>
<li>æ›´æ”¹å…¨åŸŸè®Šæ•¸åˆå§‹åŒ–</li>
<li>ä¿®æ”¹ enum å®šç¾©</li>
<li>æ›´æ”¹æ³›å‹é¡å‹å®£å‘Š</li>
</ul>
<hr />
<h2>ğŸ“¦ å¥—ä»¶ç®¡ç†</h2>
<h3>pubspec.yaml æª”æ¡ˆ</h3>
<div class="codehilite"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_first_app</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">A new Flutter project.</span>

<span class="c1"># ç‰ˆæœ¬è³‡è¨Š</span>
<span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.0.0+1</span>

<span class="nt">environment</span><span class="p">:</span>
<span class="w">  </span><span class="nt">sdk</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&gt;=2.12.0</span><span class="nv"> </span><span class="s">&lt;3.0.0&quot;</span>

<span class="c1"># ç›¸ä¾å¥—ä»¶</span>
<span class="nt">dependencies</span><span class="p">:</span>
<span class="w">  </span><span class="nt">flutter</span><span class="p">:</span>
<span class="w">    </span><span class="nt">sdk</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">flutter</span>

<span class="w">  </span><span class="c1"># UI å¥—ä»¶</span>
<span class="w">  </span><span class="nt">cupertino_icons</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^1.0.2</span>
<span class="w">  </span><span class="nt">google_fonts</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^2.1.0</span>

<span class="w">  </span><span class="c1"># ç¶²è·¯è«‹æ±‚</span>
<span class="w">  </span><span class="nt">http</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^0.13.3</span>

<span class="w">  </span><span class="c1"># ç‹€æ…‹ç®¡ç†</span>
<span class="w">  </span><span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^6.0.1</span>

<span class="c1"># é–‹ç™¼ç”¨å¥—ä»¶</span>
<span class="nt">dev_dependencies</span><span class="p">:</span>
<span class="w">  </span><span class="nt">flutter_test</span><span class="p">:</span>
<span class="w">    </span><span class="nt">sdk</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">flutter</span>
<span class="w">  </span><span class="nt">flutter_lints</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^1.0.0</span>

<span class="c1"># è³‡æºæª”æ¡ˆ</span>
<span class="nt">flutter</span><span class="p">:</span>
<span class="w">  </span><span class="nt">uses-material-design</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">assets</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">images/</span>
<span class="w">  </span><span class="nt">fonts</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">family</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Roboto</span>
<span class="w">      </span><span class="nt">fonts</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">asset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fonts/Roboto-Regular.ttf</span>
</code></pre></div>

<h3>å®‰è£å¥—ä»¶</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># å®‰è£ pubspec.yaml ä¸­å®šç¾©çš„å¥—ä»¶</span>
flutter<span class="w"> </span>pub<span class="w"> </span>get

<span class="c1"># æ–°å¢å¥—ä»¶</span>
flutter<span class="w"> </span>pub<span class="w"> </span>add<span class="w"> </span>http
flutter<span class="w"> </span>pub<span class="w"> </span>add<span class="w"> </span>provider

<span class="c1"># å‡ç´šå¥—ä»¶</span>
flutter<span class="w"> </span>pub<span class="w"> </span>upgrade
</code></pre></div>

<h3>å¸¸ç”¨å¥—ä»¶æ¨è–¦</h3>
<p><strong>UI å¢å¼·ï¼š</strong></p>
<ul>
<li><code>google_fonts</code>: Google å­—å‹</li>
<li><code>flutter_svg</code>: SVG æ”¯æ´</li>
<li><code>cached_network_image</code>: åœ–ç‰‡å¿«å–</li>
</ul>
<p><strong>åŠŸèƒ½å¥—ä»¶ï¼š</strong></p>
<ul>
<li><code>http</code>: HTTP è«‹æ±‚</li>
<li><code>shared_preferences</code>: æœ¬åœ°å„²å­˜</li>
<li><code>path_provider</code>: æª”æ¡ˆè·¯å¾‘</li>
</ul>
<p><strong>ç‹€æ…‹ç®¡ç†ï¼š</strong></p>
<ul>
<li><code>provider</code>: ç°¡å–®ç‹€æ…‹ç®¡ç†</li>
<li><code>riverpod</code>: é€²éšç‹€æ…‹ç®¡ç†</li>
<li><code>bloc</code>: æ¥­å‹™é‚è¼¯çµ„ä»¶</li>
</ul>
<hr />
<h2>ğŸ¯ å¯¦ä½œç·´ç¿’</h2>
<h3>ç·´ç¿’ 1ï¼šè¨ˆç®—æ©Ÿæ‡‰ç”¨ç¨‹å¼</h3>
<p>å»ºç«‹ä¸€å€‹ç°¡å–®çš„è¨ˆç®—æ©Ÿï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">runApp</span><span class="p">(</span><span class="n">CalculatorApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">CalculatorApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">      </span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;ç°¡æ˜“è¨ˆç®—æ©Ÿ&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span><span class="nl">primarySwatch:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">),</span>
<span class="w">      </span><span class="nl">home:</span><span class="w"> </span><span class="n">Calculator</span><span class="p">(),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Calculator</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_CalculatorState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_CalculatorState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_CalculatorState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">Calculator</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">num1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">num2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">operator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">shouldResetDisplay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">buttonPressed</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">text</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;C&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// æ¸…é™¤</span>
<span class="w">        </span><span class="n">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="n">num1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">num2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">        </span><span class="kd">operator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">text</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;+&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;-&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;Ã—&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;Ã·&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// é‹ç®—ç¬¦</span>
<span class="w">        </span><span class="n">num1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="n">display</span><span class="p">);</span>
<span class="w">        </span><span class="kd">operator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>
<span class="w">        </span><span class="n">shouldResetDisplay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">text</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;=&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// è¨ˆç®—çµæœ</span>
<span class="w">        </span><span class="n">num2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="n">display</span><span class="p">);</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>

<span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="kd">operator</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;+&#39;</span><span class="o">:</span>
<span class="w">            </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">num1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">num2</span><span class="p">;</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">          </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;-&#39;</span><span class="o">:</span>
<span class="w">            </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">num1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">num2</span><span class="p">;</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">          </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;Ã—&#39;</span><span class="o">:</span>
<span class="w">            </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">num1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">num2</span><span class="p">;</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">          </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;Ã·&#39;</span><span class="o">:</span>
<span class="w">            </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">num2</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">num1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">num2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="n">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="n">toString</span><span class="p">();</span>
<span class="w">        </span><span class="n">shouldResetDisplay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// æ•¸å­—è¼¸å…¥</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">shouldResetDisplay</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>
<span class="w">          </span><span class="n">shouldResetDisplay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">display</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">buildButton</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="n">color</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">        </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">          </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">            </span><span class="nl">primary:</span><span class="w"> </span><span class="n">color</span><span class="p">,</span>
<span class="w">            </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">20</span><span class="p">),</span>
<span class="w">            </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span>
<span class="w">              </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">10</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">buttonPressed</span><span class="p">(</span><span class="n">text</span><span class="p">),</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">            </span><span class="n">text</span><span class="p">,</span>
<span class="w">            </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ç°¡æ˜“è¨ˆç®—æ©Ÿ&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">centerTitle:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="c1">// é¡¯ç¤ºè¢å¹•</span>
<span class="w">          </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">            </span><span class="nl">flex:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">width:</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">infinity</span><span class="p">,</span>
<span class="w">              </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">20</span><span class="p">),</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Align</span><span class="p">(</span>
<span class="w">                </span><span class="nl">alignment:</span><span class="w"> </span><span class="n">Alignment</span><span class="p">.</span><span class="n">bottomRight</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                  </span><span class="n">display</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">48</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="c1">// æŒ‰éˆ•å€åŸŸ</span>
<span class="w">          </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">            </span><span class="nl">flex:</span><span class="w"> </span><span class="m">3</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">              </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;Â±&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;%&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;Ã·&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">orange</span><span class="p">),</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;7&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">800</span><span class="p">]</span><span class="o">!</span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;8&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">800</span><span class="p">]</span><span class="o">!</span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;9&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">800</span><span class="p">]</span><span class="o">!</span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;Ã—&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">orange</span><span class="p">),</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">800</span><span class="p">]</span><span class="o">!</span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;5&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">800</span><span class="p">]</span><span class="o">!</span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;6&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">800</span><span class="p">]</span><span class="o">!</span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">orange</span><span class="p">),</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">800</span><span class="p">]</span><span class="o">!</span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">800</span><span class="p">]</span><span class="o">!</span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">800</span><span class="p">]</span><span class="o">!</span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">orange</span><span class="p">),</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                      </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">flex:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                          </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">                          </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">                              </span><span class="nl">primary:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">800</span><span class="p">],</span>
<span class="w">                              </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">20</span><span class="p">),</span>
<span class="w">                              </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span>
<span class="w">                                </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">10</span><span class="p">),</span>
<span class="w">                              </span><span class="p">),</span>
<span class="w">                            </span><span class="p">),</span>
<span class="w">                            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">buttonPressed</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">),</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                              </span><span class="s1">&#39;0&#39;</span><span class="p">,</span>
<span class="w">                              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">                            </span><span class="p">),</span>
<span class="w">                          </span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">800</span><span class="p">]</span><span class="o">!</span><span class="p">),</span>
<span class="w">                      </span><span class="n">buildButton</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">orange</span><span class="p">),</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>ç·´ç¿’ 2ï¼šå¾…è¾¦äº‹é …æ‡‰ç”¨ç¨‹å¼</h3>
<div class="codehilite"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">runApp</span><span class="p">(</span><span class="n">TodoApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">TodoApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">      </span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;å¾…è¾¦äº‹é …&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">        </span><span class="nl">primarySwatch:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">        </span><span class="nl">visualDensity:</span><span class="w"> </span><span class="n">VisualDensity</span><span class="p">.</span><span class="n">adaptivePlatformDensity</span><span class="p">,</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">home:</span><span class="w"> </span><span class="n">TodoList</span><span class="p">(),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Todo</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isCompleted</span><span class="p">;</span>
<span class="w">  </span><span class="n">DateTime</span><span class="w"> </span><span class="n">createdAt</span><span class="p">;</span>

<span class="w">  </span><span class="n">Todo</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">title</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">isCompleted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="n">DateTime</span><span class="o">?</span><span class="w"> </span><span class="n">createdAt</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">createdAt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createdAt</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">now</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">TodoList</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_TodoListState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_TodoListState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_TodoListState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">TodoList</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Todo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">todos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">  </span><span class="n">TextEditingController</span><span class="w"> </span><span class="n">textController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextEditingController</span><span class="p">();</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">addTodo</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">title</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">title</span><span class="p">.</span><span class="n">trim</span><span class="p">().</span><span class="n">isNotEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">todos</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Todo</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="n">title</span><span class="p">.</span><span class="n">trim</span><span class="p">()));</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">      </span><span class="n">textController</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">toggleTodo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">todos</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">isCompleted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">todos</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">isCompleted</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">deleteTodo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">todos</span><span class="p">.</span><span class="n">removeAt</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;å¾…è¾¦äº‹é …&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">centerTitle:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="c1">// è¼¸å…¥å€åŸŸ</span>
<span class="w">          </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">            </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16.0</span><span class="p">),</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">              </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">TextField</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">controller:</span><span class="w"> </span><span class="n">textController</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">hintText:</span><span class="w"> </span><span class="s1">&#39;19831203&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">10</span><span class="p">),</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                      </span><span class="nl">prefixIcon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">add_task</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="nl">onSubmitted:</span><span class="w"> </span><span class="n">addTodo</span><span class="p">,</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">width:</span><span class="w"> </span><span class="m">10</span><span class="p">),</span>
<span class="w">                </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">addTodo</span><span class="p">(</span><span class="n">textController</span><span class="p">.</span><span class="n">text</span><span class="p">),</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">add</span><span class="p">),</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">shape:</span><span class="w"> </span><span class="n">CircleBorder</span><span class="p">(),</span>
<span class="w">                    </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">15</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="c1">// çµ±è¨ˆè³‡è¨Š</span>
<span class="w">          </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">            </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">16.0</span><span class="p">),</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">              </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceBetween</span><span class="p">,</span>
<span class="w">              </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                  </span><span class="s1">&#39;ç¸½è¨ˆ: </span><span class="si">${</span><span class="n">todos</span><span class="p">.</span><span class="n">length</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                  </span><span class="s1">&#39;å·²å®Œæˆ: </span><span class="si">${</span><span class="n">todos</span><span class="p">.</span><span class="n">where</span><span class="p">((</span><span class="n">todo</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">todo</span><span class="p">.</span><span class="n">isCompleted</span><span class="p">).</span><span class="n">length</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">,</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">Divider</span><span class="p">(),</span>

<span class="w">          </span><span class="c1">// å¾…è¾¦äº‹é …åˆ—è¡¨</span>
<span class="w">          </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">todos</span><span class="p">.</span><span class="n">isEmpty</span>
<span class="w">                </span><span class="o">?</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">                          </span><span class="n">Icons</span><span class="p">.</span><span class="n">inbox</span><span class="p">,</span>
<span class="w">                          </span><span class="nl">size:</span><span class="w"> </span><span class="m">64</span><span class="p">,</span>
<span class="w">                          </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">,</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">                        </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                          </span><span class="s1">&#39;é‚„æ²’æœ‰å¾…è¾¦äº‹é …&#39;</span><span class="p">,</span>
<span class="w">                          </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">,</span>
<span class="w">                          </span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                        </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                          </span><span class="s1">&#39;é»æ“Šä¸Šæ–¹æŒ‰éˆ•æ–°å¢ä¸€å€‹å§ï¼&#39;</span><span class="p">,</span>
<span class="w">                          </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">,</span>
<span class="w">                          </span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                      </span><span class="p">],</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">)</span>
<span class="w">                </span><span class="o">:</span><span class="w"> </span><span class="n">ListView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">itemCount:</span><span class="w"> </span><span class="n">todos</span><span class="p">.</span><span class="n">length</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                      </span><span class="kd">final</span><span class="w"> </span><span class="n">todo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">todos</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="w">                      </span><span class="k">return</span><span class="w"> </span><span class="n">Card</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span>
<span class="w">                          </span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span>
<span class="w">                          </span><span class="nl">vertical:</span><span class="w"> </span><span class="m">4</span><span class="p">,</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                        </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                          </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Checkbox</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">value:</span><span class="w"> </span><span class="n">todo</span><span class="p">.</span><span class="n">isCompleted</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">onChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">toggleTodo</span><span class="p">(</span><span class="n">index</span><span class="p">),</span>
<span class="w">                          </span><span class="p">),</span>
<span class="w">                          </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                            </span><span class="n">todo</span><span class="p">.</span><span class="n">title</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                              </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">todo</span><span class="p">.</span><span class="n">isCompleted</span>
<span class="w">                                  </span><span class="o">?</span><span class="w"> </span><span class="n">TextDecoration</span><span class="p">.</span><span class="n">lineThrough</span>
<span class="w">                                  </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">                              </span><span class="nl">color:</span><span class="w"> </span><span class="n">todo</span><span class="p">.</span><span class="n">isCompleted</span>
<span class="w">                                  </span><span class="o">?</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span>
<span class="w">                                  </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">                            </span><span class="p">),</span>
<span class="w">                          </span><span class="p">),</span>
<span class="w">                          </span><span class="nl">subtitle:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                            </span><span class="s1">&#39;å»ºç«‹æ–¼ </span><span class="si">${</span><span class="n">todo</span><span class="p">.</span><span class="n">createdAt</span><span class="p">.</span><span class="n">day</span><span class="si">}</span><span class="s1">/</span><span class="si">${</span><span class="n">todo</span><span class="p">.</span><span class="n">createdAt</span><span class="p">.</span><span class="n">month</span><span class="si">}</span><span class="s1"> </span><span class="si">${</span><span class="n">todo</span><span class="p">.</span><span class="n">createdAt</span><span class="p">.</span><span class="n">hour</span><span class="si">}</span><span class="s1">:</span><span class="si">${</span><span class="n">todo</span><span class="p">.</span><span class="n">createdAt</span><span class="p">.</span><span class="n">minute</span><span class="p">.</span><span class="n">toString</span><span class="p">().</span><span class="n">padLeft</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">                          </span><span class="p">),</span>
<span class="w">                          </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">delete</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">),</span>
<span class="w">                            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">deleteTodo</span><span class="p">(</span><span class="n">index</span><span class="p">),</span>
<span class="w">                          </span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                      </span><span class="p">);</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">dispose</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">textController</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸš§ å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ</h2>
<h3>1. Flutter Doctor å•é¡Œ</h3>
<p><strong>å•é¡Œï¼šAndroid toolchain æœªå®‰è£</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># è§£æ±ºæ–¹æ¡ˆï¼šå®‰è£ Android Studio ä¸¦æ¥å—æˆæ¬Š</span>
flutter<span class="w"> </span>doctor<span class="w"> </span>--android-licenses
</code></pre></div>

<p><strong>å•é¡Œï¼šiOS toolchain æœªå®‰è£ (macOS)</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># è§£æ±ºæ–¹æ¡ˆï¼šå®‰è£ Xcode å‘½ä»¤åˆ—å·¥å…·</span>
xcode-select<span class="w"> </span>--install
</code></pre></div>

<h3>2. å»ºç½®å•é¡Œ</h3>
<p><strong>å•é¡Œï¼šGradle å»ºç½®å¤±æ•—</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># æ¸…ç†å»ºç½®å¿«å–</span>
flutter<span class="w"> </span>clean
flutter<span class="w"> </span>pub<span class="w"> </span>get
flutter<span class="w"> </span>run
</code></pre></div>

<p><strong>å•é¡Œï¼šå¥—ä»¶ç‰ˆæœ¬è¡çª</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># å‡ç´šæ‰€æœ‰å¥—ä»¶</span>
flutter<span class="w"> </span>pub<span class="w"> </span>upgrade<span class="w"> </span>--major-versions
</code></pre></div>

<h3>3. æ¨¡æ“¬å™¨å•é¡Œ</h3>
<p><strong>Android æ¨¡æ“¬å™¨å¤ªæ…¢ï¼š</strong></p>
<ul>
<li>ç¢ºä¿å•Ÿç”¨ Hardware Acceleration</li>
<li>åˆ†é…è¶³å¤ çš„ RAM (å»ºè­° 4GB+)</li>
<li>ä½¿ç”¨ x86_64 æ˜ åƒæª”</li>
</ul>
<p><strong>iOS æ¨¡æ“¬å™¨å•é¡Œï¼š</strong></p>
<ul>
<li>é‡è¨­æ¨¡æ“¬å™¨ï¼šDevice &gt; Erase All Content and Settings</li>
<li>é‡å•Ÿ Xcode å’Œæ¨¡æ“¬å™¨</li>
</ul>
<h3>4. ç†±é‡è¼‰ä¸å·¥ä½œ</h3>
<p><strong>å¯èƒ½åŸå› ï¼š</strong></p>
<ul>
<li>èªæ³•éŒ¯èª¤</li>
<li>ä¿®æ”¹äº† main() å‡½æ•¸</li>
<li>Widget å»ºæ§‹å­åƒæ•¸å‹åˆ¥æ”¹è®Š</li>
</ul>
<p><strong>è§£æ±ºæ–¹æ¡ˆï¼š</strong></p>
<ul>
<li>ä¿®æ­£èªæ³•éŒ¯èª¤</li>
<li>åŸ·è¡Œç†±é‡å•Ÿ (Hot Restart)</li>
<li>å®Œå…¨é‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼</li>
</ul>
<hr />
<h2></h2>
                    </div>
                </div>
            
                <div class="tab-pane fade " id="2.-assets-and-config" 
                     role="tabpanel" aria-labelledby="2.-assets-and-config-tab">
                    <div class="content-wrapper">
                        <h1>Flutter è³‡æºç®¡ç†èˆ‡é…ç½®æŒ‡å—</h1>
<h2>ğŸ“ å°ˆæ¡ˆçµæ§‹æ¦‚è¦½</h2>
<h3>æ¨™æº– Flutter å°ˆæ¡ˆç›®éŒ„çµæ§‹</h3>
<div class="codehilite"><pre><span></span><code><span class="n">my_flutter_app/</span>
<span class="n">â”œâ”€â”€ android/                    # Android å¹³å°ç‰¹å®šè¨­å®š</span>
<span class="n">â”‚   â”œâ”€â”€ app/</span>
<span class="n">â”‚   â”‚   â”œâ”€â”€ src/main/</span>
<span class="n">â”‚   â”‚   â”‚   â”œâ”€â”€ AndroidManifest.xml # Android æ¬Šé™è¨­å®š</span>
<span class="n">â”‚   â”‚   â”‚   â”œâ”€â”€ kotlin/</span>
<span class="n">â”‚   â”‚   â”‚   â””â”€â”€ res/</span>
<span class="n">â”‚   â”‚   â”‚       â”œâ”€â”€ drawable/   # Android åœ–ç¤ºå’Œåœ–ç‰‡</span>
<span class="n">â”‚   â”‚   â”‚       â”œâ”€â”€ mipmap/     # æ‡‰ç”¨ç¨‹å¼åœ–ç¤º (å„ç¨®å°ºå¯¸)</span>
<span class="n">â”‚   â”‚   â”‚       â””â”€â”€ values/     # å­—ä¸²ã€é¡è‰²ã€æ¨£å¼è¨­å®š</span>
<span class="n">â”‚   â”‚   â””â”€â”€ build.gradle        # Android å»ºç½®è¨­å®š</span>
<span class="n">â”‚   â””â”€â”€ gradle.properties       # Gradle å…¨åŸŸè¨­å®š</span>
<span class="n">â”œâ”€â”€ ios/                        # iOS å¹³å°ç‰¹å®šè¨­å®š</span>
<span class="n">â”‚   â”œâ”€â”€ Runner/</span>
<span class="n">â”‚   â”‚   â”œâ”€â”€ Info.plist         # iOS æ‡‰ç”¨ç¨‹å¼è³‡è¨Š</span>
<span class="n">â”‚   â”‚   â”œâ”€â”€ Assets.xcassets/   # iOS è³‡æºç›®éŒ„</span>
<span class="n">â”‚   â”‚   â””â”€â”€ Runner.entitlements # iOS æ¬Šé™è¨­å®š</span>
<span class="n">â”‚   â””â”€â”€ Runner.xcodeproj/      # Xcode å°ˆæ¡ˆæª”</span>
<span class="n">â”œâ”€â”€ web/                        # Web å¹³å°è¨­å®š</span>
<span class="n">â”‚   â”œâ”€â”€ index.html             # Web å…¥å£é é¢</span>
<span class="n">â”‚   â”œâ”€â”€ manifest.json          # PWA è¨­å®š</span>
<span class="n">â”‚   â””â”€â”€ icons/                 # Web åœ–ç¤º</span>
<span class="n">â”œâ”€â”€ assets/                     # Flutter å…±ç”¨è³‡æº ğŸ“‚ é‡é»</span>
<span class="n">â”‚   â”œâ”€â”€ images/                # åœ–ç‰‡è³‡æº</span>
<span class="n">â”‚   â”œâ”€â”€ fonts/                 # å­—å‹æª”æ¡ˆ</span>
<span class="n">â”‚   â”œâ”€â”€ data/                  # JSONã€CSV ç­‰è³‡æ–™æª”</span>
<span class="n">â”‚   â”œâ”€â”€ animations/            # Lottie å‹•ç•«æª”</span>
<span class="n">â”‚   â””â”€â”€ audio/                 # éŸ³æ•ˆæª”æ¡ˆ</span>
<span class="n">â”œâ”€â”€ lib/                       # Dart ç¨‹å¼ç¢¼</span>
<span class="n">â”œâ”€â”€ test/                      # æ¸¬è©¦æª”æ¡ˆ</span>
<span class="n">â”œâ”€â”€ pubspec.yaml              # å°ˆæ¡ˆé…ç½®æª” ğŸ”§ é—œéµ</span>
<span class="n">â””â”€â”€ pubspec.lock              # å¥—ä»¶ç‰ˆæœ¬é–å®šæª”</span>
</code></pre></div>

<hr />
<h2>ğŸ–¼ï¸ åœ–ç‰‡è³‡æºç®¡ç†</h2>
<h3>1. åœ–ç‰‡ç›®éŒ„çµæ§‹</h3>
<div class="codehilite"><pre><span></span><code><span class="n">assets</span><span class="o">/</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">images</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app</span><span class="o">/</span><span class="w">                   </span><span class="c1"># æ‡‰ç”¨ç¨‹å¼ç›¸é—œåœ–ç‰‡</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">logo</span><span class="o">.</span><span class="n">png</span><span class="w">          </span><span class="c1"># æ‡‰ç”¨ç¨‹å¼æ¨™èªŒ</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">splash</span><span class="o">.</span><span class="n">png</span><span class="w">        </span><span class="c1"># å•Ÿå‹•ç•«é¢</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">placeholder</span><span class="o">.</span><span class="n">png</span><span class="w">   </span><span class="c1"># ä½”ä½åœ–ç‰‡</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">icons</span><span class="o">/</span><span class="w">                </span><span class="c1"># è‡ªè¨‚åœ–ç¤º</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">home</span><span class="o">.</span><span class="n">png</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">settings</span><span class="o">.</span><span class="n">png</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">profile</span><span class="o">.</span><span class="n">png</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">ui</span><span class="o">/</span><span class="w">                   </span><span class="c1"># UI å…ƒç´ </span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">buttons</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">backgrounds</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">decorations</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">content</span><span class="o">/</span><span class="w">              </span><span class="c1"># å…§å®¹åœ–ç‰‡</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">products</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">avatars</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">banners</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">animations</span><span class="o">/</span><span class="w">           </span><span class="c1"># å‹•ç•«ç›¸é—œ</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">loading</span><span class="o">.</span><span class="n">gif</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">success</span><span class="o">.</span><span class="n">json</span><span class="w">      </span><span class="c1"># Lottie å‹•ç•«</span>
</code></pre></div>

<h3>2. åœ–ç‰‡å‘½åè¦ç¯„</h3>
<div class="codehilite"><pre><span></span><code>âœ… è‰¯å¥½çš„å‘½åæ–¹å¼ï¼š
<span class="k">-</span> app_logo.png
<span class="k">-</span> icon_home_active.png
<span class="k">-</span> icon_home_inactive.png
<span class="k">-</span> background_gradient_blue.png
<span class="k">-</span> placeholder_user_avatar.png
<span class="k">-</span> button_primary_normal.png
<span class="k">-</span> button_primary_pressed.png

âŒ é¿å…çš„å‘½åæ–¹å¼ï¼š
<span class="k">-</span> 1.png
<span class="k">-</span> image.png
<span class="k">-</span> åœ–ç‰‡1.png (é¿å…ä¸­æ–‡)
<span class="k">-</span> My Image.png (é¿å…ç©ºæ ¼)
<span class="k">-</span> MyImage.PNG (é¿å…å¤§å¯«å‰¯æª”å)
</code></pre></div>

<h3>3. éŸ¿æ‡‰å¼åœ–ç‰‡ (å¤šè§£æåº¦æ”¯æ´)</h3>
<div class="codehilite"><pre><span></span><code>assets/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ app_logo.png          # åŸºæº–åœ–ç‰‡ (1x)
â”‚   â”œâ”€â”€ 2.0x/
â”‚   â”‚   â””â”€â”€ app_logo.png      # é«˜è§£æåº¦ (2x)
â”‚   â”œâ”€â”€ 3.0x/
â”‚   â”‚   â””â”€â”€ app_logo.png      # è¶…é«˜è§£æåº¦ (3x)
â”‚   â””â”€â”€ 4.0x/
â”‚       â””â”€â”€ app_logo.png      # æ¥µé«˜è§£æåº¦ (4x)
</code></pre></div>

<h3>4. pubspec.yaml ä¸­çš„åœ–ç‰‡é…ç½®</h3>
<div class="codehilite"><pre><span></span><code><span class="nt">flutter</span><span class="p">:</span>
<span class="w">  </span><span class="nt">assets</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># åŒ…å«æ•´å€‹ç›®éŒ„</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/images/</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/icons/</span>

<span class="w">    </span><span class="c1"># åŒ…å«ç‰¹å®šæª”æ¡ˆ</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/images/app_logo.png</span>

<span class="w">    </span><span class="c1"># åŒ…å«å­ç›®éŒ„</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/images/ui/</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/images/content/</span>

<span class="w">    </span><span class="c1"># æ”¯æ´å¤šè§£æåº¦</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/images/app_logo.png</span><span class="w">  </span><span class="c1"># è‡ªå‹•åŒ…å« 2.0x, 3.0x, 4.0x</span>
</code></pre></div>

<h3>5. ç¨‹å¼ç¢¼ä¸­ä½¿ç”¨åœ–ç‰‡</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// åŸºæœ¬åœ–ç‰‡è¼‰å…¥</span>
<span class="n">Image</span><span class="p">.</span><span class="n">asset</span><span class="p">(</span><span class="s1">&#39;assets/images/app_logo.png&#39;</span><span class="p">)</span>

<span class="c1">// å¸¶å¿«å–çš„ç¶²è·¯åœ–ç‰‡</span>
<span class="n">Image</span><span class="p">.</span><span class="n">network</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;https://example.com/image.jpg&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nl">loadingBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">,</span><span class="w"> </span><span class="n">loadingProgress</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">loadingProgress</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CircularProgressIndicator</span><span class="p">();</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nl">errorBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="n">stackTrace</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Image</span><span class="p">.</span><span class="n">asset</span><span class="p">(</span><span class="s1">&#39;assets/images/placeholder.png&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">)</span>

<span class="c1">// åœ“å½¢é ­åƒ</span>
<span class="n">CircleAvatar</span><span class="p">(</span>
<span class="w">  </span><span class="nl">backgroundImage:</span><span class="w"> </span><span class="n">AssetImage</span><span class="p">(</span><span class="s1">&#39;assets/images/avatars/user1.png&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nl">radius:</span><span class="w"> </span><span class="m">30</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1">// è‡ªè¨‚åœ–ç‰‡è¼‰å…¥ Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">AppImage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">assetPath</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">double</span><span class="o">?</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">double</span><span class="o">?</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">BoxFit</span><span class="w"> </span><span class="n">fit</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">AppImage</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">assetPath</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">width</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">height</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">fit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BoxFit</span><span class="p">.</span><span class="n">cover</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Image</span><span class="p">.</span><span class="n">asset</span><span class="p">(</span>
<span class="w">      </span><span class="n">assetPath</span><span class="p">,</span>
<span class="w">      </span><span class="nl">width:</span><span class="w"> </span><span class="n">width</span><span class="p">,</span>
<span class="w">      </span><span class="nl">height:</span><span class="w"> </span><span class="n">height</span><span class="p">,</span>
<span class="w">      </span><span class="nl">fit:</span><span class="w"> </span><span class="n">fit</span><span class="p">,</span>
<span class="w">      </span><span class="nl">errorBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="n">stackTrace</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">          </span><span class="nl">width:</span><span class="w"> </span><span class="n">width</span><span class="p">,</span>
<span class="w">          </span><span class="nl">height:</span><span class="w"> </span><span class="n">height</span><span class="p">,</span>
<span class="w">          </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">300</span><span class="p">],</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">error</span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ¨ å­—å‹ç®¡ç†</h2>
<h3>1. å­—å‹ç›®éŒ„çµæ§‹</h3>
<div class="codehilite"><pre><span></span><code>assets/
â”œâ”€â”€ fonts/
â”‚   â”œâ”€â”€ Roboto/               # å­—å‹å®¶æ—ç›®éŒ„
â”‚   â”‚   â”œâ”€â”€ Roboto-Regular.ttf
â”‚   â”‚   â”œâ”€â”€ Roboto-Bold.ttf
â”‚   â”‚   â”œâ”€â”€ Roboto-Italic.ttf
â”‚   â”‚   â””â”€â”€ Roboto-BoldItalic.ttf
â”‚   â”œâ”€â”€ OpenSans/
â”‚   â”‚   â”œâ”€â”€ OpenSans-Regular.ttf
â”‚   â”‚   â”œâ”€â”€ OpenSans-SemiBold.ttf
â”‚   â”‚   â””â”€â”€ OpenSans-Bold.ttf
â”‚   â””â”€â”€ CustomIcons/          # è‡ªè¨‚åœ–ç¤ºå­—å‹
â”‚       â””â”€â”€ CustomIcons.ttf
</code></pre></div>

<h3>2. pubspec.yaml å­—å‹é…ç½®</h3>
<div class="codehilite"><pre><span></span><code><span class="nt">flutter</span><span class="p">:</span>
<span class="w">  </span><span class="nt">fonts</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># ä¸»è¦å­—å‹</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">family</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Roboto</span>
<span class="w">      </span><span class="nt">fonts</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">asset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/fonts/Roboto/Roboto-Regular.ttf</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">asset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/fonts/Roboto/Roboto-Bold.ttf</span>
<span class="w">          </span><span class="nt">weight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">700</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">asset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/fonts/Roboto/Roboto-Italic.ttf</span>
<span class="w">          </span><span class="nt">style</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">italic</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">asset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/fonts/Roboto/Roboto-BoldItalic.ttf</span>
<span class="w">          </span><span class="nt">weight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">700</span>
<span class="w">          </span><span class="nt">style</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">italic</span>

<span class="w">    </span><span class="c1"># æ¬¡è¦å­—å‹</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">family</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OpenSans</span>
<span class="w">      </span><span class="nt">fonts</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">asset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/fonts/OpenSans/OpenSans-Regular.ttf</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">asset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/fonts/OpenSans/OpenSans-SemiBold.ttf</span>
<span class="w">          </span><span class="nt">weight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">600</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">asset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/fonts/OpenSans/OpenSans-Bold.ttf</span>
<span class="w">          </span><span class="nt">weight</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">700</span>

<span class="w">    </span><span class="c1"># è‡ªè¨‚åœ–ç¤ºå­—å‹</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">family</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CustomIcons</span>
<span class="w">      </span><span class="nt">fonts</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">asset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/fonts/CustomIcons/CustomIcons.ttf</span>
</code></pre></div>

<h3>3. ç¨‹å¼ç¢¼ä¸­ä½¿ç”¨å­—å‹</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ç›´æ¥æŒ‡å®šå­—å‹</span>
<span class="n">Text</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;Hello Flutter&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">    </span><span class="nl">fontFamily:</span><span class="w"> </span><span class="s1">&#39;Roboto&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">,</span>
<span class="w">    </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">)</span>

<span class="c1">// ä½¿ç”¨ä¸»é¡Œçµ±ä¸€ç®¡ç†</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">AppTheme</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">TextTheme</span><span class="w"> </span><span class="n">textTheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextTheme</span><span class="p">(</span>
<span class="w">    </span><span class="nl">headline1:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">      </span><span class="nl">fontFamily:</span><span class="w"> </span><span class="s1">&#39;Roboto&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">32</span><span class="p">,</span>
<span class="w">      </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">    </span><span class="nl">bodyText1:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">      </span><span class="nl">fontFamily:</span><span class="w"> </span><span class="s1">&#39;OpenSans&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// æ‡‰ç”¨ä¸»é¡Œ</span>
<span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">  </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">    </span><span class="nl">textTheme:</span><span class="w"> </span><span class="n">AppTheme</span><span class="p">.</span><span class="n">textTheme</span><span class="p">,</span>
<span class="w">    </span><span class="nl">fontFamily:</span><span class="w"> </span><span class="s1">&#39;Roboto&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// é è¨­å­—å‹</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">)</span>

<span class="c1">// è‡ªè¨‚åœ–ç¤ºå­—å‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">CustomIcons</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">IconData</span><span class="w"> </span><span class="n">home</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IconData</span><span class="p">(</span><span class="mh">0xe900</span><span class="p">,</span><span class="w"> </span><span class="nl">fontFamily:</span><span class="w"> </span><span class="s1">&#39;CustomIcons&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">IconData</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IconData</span><span class="p">(</span><span class="mh">0xe901</span><span class="p">,</span><span class="w"> </span><span class="nl">fontFamily:</span><span class="w"> </span><span class="s1">&#39;CustomIcons&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨è‡ªè¨‚åœ–ç¤º</span>
<span class="n">Icon</span><span class="p">(</span><span class="n">CustomIcons</span><span class="p">.</span><span class="n">home</span><span class="p">,</span><span class="w"> </span><span class="nl">size:</span><span class="w"> </span><span class="m">24</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2>ğŸ¬ å‹•ç•«è³‡æº</h2>
<h3>1. å‹•ç•«ç›®éŒ„çµæ§‹</h3>
<div class="codehilite"><pre><span></span><code><span class="n">assets</span><span class="o">/</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">animations</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">lottie</span><span class="o">/</span><span class="w">               </span><span class="c1"># Lottie å‹•ç•«</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">loading</span><span class="o">.</span><span class="n">json</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">success</span><span class="o">.</span><span class="n">json</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">error</span><span class="o">.</span><span class="n">json</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">splash</span><span class="o">.</span><span class="n">json</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">gifs</span><span class="o">/</span><span class="w">                 </span><span class="c1"># GIF å‹•ç•«</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">tutorial_step1</span><span class="o">.</span><span class="n">gif</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">tutorial_step2</span><span class="o">.</span><span class="n">gif</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">loading_spinner</span><span class="o">.</span><span class="n">gif</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">sequences</span><span class="o">/</span><span class="w">            </span><span class="c1"># åºåˆ—åœ–ç‰‡å‹•ç•«</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">frame_001</span><span class="o">.</span><span class="n">png</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">frame_002</span><span class="o">.</span><span class="n">png</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">frame_003</span><span class="o">.</span><span class="n">png</span>
</code></pre></div>

<h3>2. Lottie å‹•ç•«ä½¿ç”¨</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># pubspec.yaml</span>
<span class="nt">dependencies</span><span class="p">:</span>
<span class="w">  </span><span class="nt">lottie</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^2.0.0</span>

<span class="nt">flutter</span><span class="p">:</span>
<span class="w">  </span><span class="nt">assets</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/animations/lottie/</span>
<span class="l l-Scalar l-Scalar-Plain">import &#39;package:lottie/lottie.dart&#39;;</span>

<span class="l l-Scalar l-Scalar-Plain">// åŸºæœ¬ Lottie å‹•ç•«</span>
<span class="l l-Scalar l-Scalar-Plain">Lottie.asset(</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">&#39;assets/animations/lottie/loading.json&#39;,</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">width</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200,</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">height</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">200,</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">fit</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BoxFit.fill,</span>
<span class="l l-Scalar l-Scalar-Plain">)</span>

<span class="l l-Scalar l-Scalar-Plain">// å¯æ§åˆ¶çš„ Lottie å‹•ç•«</span>
<span class="l l-Scalar l-Scalar-Plain">class AnimatedIcon extends StatefulWidget {</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">@override</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">_AnimatedIconState createState() =&gt; _AnimatedIconState();</span>
<span class="err">}</span>

<span class="l l-Scalar l-Scalar-Plain">class _AnimatedIconState extends State&lt;AnimatedIcon&gt;</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">with TickerProviderStateMixin {</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">late AnimationController _controller;</span>

<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">@override</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">void initState() {</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">super.initState();</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">_controller = AnimationController(vsync</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">this);</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">}</span>

<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">@override</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">void dispose() {</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">_controller.dispose();</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">super.dispose();</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">}</span>

<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">@override</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">Widget build(BuildContext context) {</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">return GestureDetector(</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">onTap</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">() {</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">if (_controller.isCompleted) {</span>
<span class="w">          </span><span class="l l-Scalar l-Scalar-Plain">_controller.reset();</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">}</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">_controller.forward();</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">},</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">child</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Lottie.asset(</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">&#39;assets/animations/lottie/heart.json&#39;,</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">controller</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">_controller,</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">width</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100,</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">height</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100,</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">onLoaded</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(composition) {</span>
<span class="w">          </span><span class="l l-Scalar l-Scalar-Plain">_controller.duration = composition.duration;</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">},</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">),</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">);</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">}</span>
<span class="err">}</span>
</code></pre></div>

<h3>3. GIF å‹•ç•«ä½¿ç”¨</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// åŸºæœ¬ GIF é¡¯ç¤º</span>
<span class="n">Image</span><span class="p">.</span><span class="n">asset</span><span class="p">(</span><span class="s1">&#39;assets/animations/gifs/loading_spinner.gif&#39;</span><span class="p">)</span>

<span class="c1">// å¯æ§åˆ¶çš„ GIF å‹•ç•«</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">GifImage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">gifPath</span><span class="p">;</span>

<span class="w">  </span><span class="n">GifImage</span><span class="p">({</span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">gifPath</span><span class="p">});</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_GifImageState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_GifImageState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_GifImageState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">GifImage</span><span class="o">&gt;</span>
<span class="w">    </span><span class="kd">with</span><span class="w"> </span><span class="n">TickerProviderStateMixin</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">AnimationController</span><span class="w"> </span><span class="n">_controller</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">initState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">initState</span><span class="p">();</span>
<span class="w">    </span><span class="n">_controller</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AnimationController</span><span class="p">(</span>
<span class="w">      </span><span class="nl">duration:</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">2</span><span class="p">),</span>
<span class="w">      </span><span class="nl">vsync:</span><span class="w"> </span><span class="k">this</span><span class="p">,</span>
<span class="w">    </span><span class="p">)..</span><span class="n">repeat</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">AnimatedBuilder</span><span class="p">(</span>
<span class="w">      </span><span class="nl">animation:</span><span class="w"> </span><span class="n">_controller</span><span class="p">,</span>
<span class="w">      </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Image</span><span class="p">.</span><span class="n">asset</span><span class="p">(</span><span class="n">widget</span><span class="p">.</span><span class="n">gifPath</span><span class="p">);</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ”Š éŸ³æ•ˆè³‡æº</h2>
<h3>1. éŸ³æ•ˆç›®éŒ„çµæ§‹</h3>
<div class="codehilite"><pre><span></span><code>assets/
â”œâ”€â”€ audio/
â”‚   â”œâ”€â”€ sounds/               # éŸ³æ•ˆæª”
â”‚   â”‚   â”œâ”€â”€ button_click.mp3
â”‚   â”‚   â”œâ”€â”€ notification.wav
â”‚   â”‚   â”œâ”€â”€ success.ogg
â”‚   â”‚   â””â”€â”€ error.aac
â”‚   â”œâ”€â”€ music/                # èƒŒæ™¯éŸ³æ¨‚
â”‚   â”‚   â”œâ”€â”€ background_1.mp3
â”‚   â”‚   â””â”€â”€ background_2.mp3
â”‚   â””â”€â”€ voice/                # èªéŸ³æª”æ¡ˆ
â”‚       â”œâ”€â”€ welcome_en.mp3
â”‚       â””â”€â”€ welcome_zh.mp3
</code></pre></div>

<h3>2. éŸ³æ•ˆæª”æ¡ˆä½¿ç”¨</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># pubspec.yaml</span>
<span class="nt">dependencies</span><span class="p">:</span>
<span class="w">  </span><span class="nt">audioplayers</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^1.0.0</span>

<span class="nt">flutter</span><span class="p">:</span>
<span class="w">  </span><span class="nt">assets</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/audio/</span>
<span class="l l-Scalar l-Scalar-Plain">import &#39;package:audioplayers/audioplayers.dart&#39;;</span>

<span class="l l-Scalar l-Scalar-Plain">class AudioManager {</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">static final AudioPlayer _player = AudioPlayer();</span>

<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">// æ’­æ”¾éŸ³æ•ˆ</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">static Future&lt;void&gt; playSound(String soundPath) async {</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">await _player.play(AssetSource(soundPath));</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">}</span>

<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">// æ’­æ”¾èƒŒæ™¯éŸ³æ¨‚</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">static Future&lt;void&gt; playBackgroundMusic(String musicPath) async {</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">await _player.play(</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">AssetSource(musicPath),</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">mode</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PlayerMode.mediaPlayer,</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">);</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">await _player.setReleaseMode(ReleaseMode.loop);</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">}</span>

<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">// åœæ­¢æ’­æ”¾</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">static Future&lt;void&gt; stop() async {</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">await _player.stop();</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">}</span>

<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">// è¨­å®šéŸ³é‡</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">static Future&lt;void&gt; setVolume(double volume) async {</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">await _player.setVolume(volume);</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">}</span>
<span class="err">}</span>

<span class="l l-Scalar l-Scalar-Plain">// ä½¿ç”¨ç¯„ä¾‹</span>
<span class="l l-Scalar l-Scalar-Plain">class SoundButton extends StatelessWidget {</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">final VoidCallback? onPressed;</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">final Widget child;</span>

<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">const SoundButton({</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">Key? key,</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">this.onPressed,</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">required this.child,</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">})</span><span class="w"> </span><span class="nt">: super(key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">key);</span>

<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">@override</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">Widget build(BuildContext context) {</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">return ElevatedButton(</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">onPressed</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">() {</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">AudioManager.playSound(&#39;audio/sounds/button_click.mp3&#39;);</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">onPressed?.call();</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">},</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">child</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">child,</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">);</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">}</span>
<span class="err">}</span>
</code></pre></div>

<hr />
<h2>ğŸ“‹ è³‡æ–™æª”æ¡ˆç®¡ç†</h2>
<h3>1. è³‡æ–™ç›®éŒ„çµæ§‹</h3>
<div class="codehilite"><pre><span></span><code>assets/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ json/                 # JSON è³‡æ–™
â”‚   â”‚   â”œâ”€â”€ countries.json
â”‚   â”‚   â”œâ”€â”€ cities.json
â”‚   â”‚   â””â”€â”€ app_config.json
â”‚   â”œâ”€â”€ csv/                  # CSV æª”æ¡ˆ
â”‚   â”‚   â”œâ”€â”€ products.csv
â”‚   â”‚   â””â”€â”€ users.csv
â”‚   â”œâ”€â”€ translations/         # å¤šèªè¨€æª”æ¡ˆ
â”‚   â”‚   â”œâ”€â”€ en.json
â”‚   â”‚   â”œâ”€â”€ zh_TW.json
â”‚   â”‚   â””â”€â”€ ja.json
â”‚   â””â”€â”€ mock/                 # æ¨¡æ“¬è³‡æ–™
â”‚       â”œâ”€â”€ api_responses.json
â”‚       â””â”€â”€ test_data.json
</code></pre></div>

<h3>2. JSON è³‡æ–™è®€å–</h3>
<div class="codehilite"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="s1">&#39;dart:convert&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/services.dart&#39;</span><span class="p">;</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">DataService</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// è®€å– JSON æª”æ¡ˆ</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">loadJsonData</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">jsonString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">rootBundle</span><span class="p">.</span><span class="n">loadString</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">json</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">jsonString</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// è®€å–ä¸¦è§£æç‚ºç‰©ä»¶åˆ—è¡¨</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">loadDataList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="kt">String</span><span class="w"> </span><span class="n">path</span><span class="p">,</span>
<span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="n">fromJson</span><span class="p">,</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">jsonData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">loadJsonData</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dataList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jsonData</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="p">[];</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">dataList</span><span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">fromJson</span><span class="p">(</span><span class="n">item</span><span class="p">)).</span><span class="n">toList</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨ç¯„ä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">Country</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">code</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">flag</span><span class="p">;</span>

<span class="w">  </span><span class="n">Country</span><span class="p">({</span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">flag</span><span class="p">});</span>

<span class="w">  </span><span class="kd">factory</span><span class="w"> </span><span class="n">Country</span><span class="p">.</span><span class="n">fromJson</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">json</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Country</span><span class="p">(</span>
<span class="w">      </span><span class="nl">name:</span><span class="w"> </span><span class="n">json</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
<span class="w">      </span><span class="nl">code:</span><span class="w"> </span><span class="n">json</span><span class="p">[</span><span class="s1">&#39;code&#39;</span><span class="p">],</span>
<span class="w">      </span><span class="nl">flag:</span><span class="w"> </span><span class="n">json</span><span class="p">[</span><span class="s1">&#39;flag&#39;</span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// è¼‰å…¥åœ‹å®¶è³‡æ–™</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Country</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">loadCountries</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">DataService</span><span class="p">.</span><span class="n">loadDataList</span><span class="o">&lt;</span><span class="n">Country</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;assets/data/json/countries.json&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">Country</span><span class="p">.</span><span class="n">fromJson</span><span class="p">,</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3>3. å¤šèªè¨€æª”æ¡ˆ</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// assets/data/translations/en.json</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;app&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My Flutter App&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;welcome&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Welcome&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;buttons&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;save&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Save&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;cancel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Cancel&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;delete&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Delete&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;messages&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Operation successful&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;An error occurred&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// assets/data/translations/zh_TW.json</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;app&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;æˆ‘çš„ Flutter æ‡‰ç”¨ç¨‹å¼&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;welcome&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;æ­¡è¿&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;buttons&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;save&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;å„²å­˜&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;cancel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;å–æ¶ˆ&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;delete&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;åˆªé™¤&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;messages&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;æ“ä½œæˆåŠŸ&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ç™¼ç”ŸéŒ¯èª¤&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>âš™ï¸ å¹³å°ç‰¹å®šé…ç½®</h2>
<h3>1. Android é…ç½®</h3>
<h4>AndroidManifest.xml æ¬Šé™è¨­å®š</h4>
<div class="codehilite"><pre><span></span><code><span class="cm">&lt;!-- android/app/src/main/AndroidManifest.xml --&gt;</span>
<span class="nt">&lt;manifest</span><span class="w"> </span><span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
<span class="w">    </span><span class="na">package=</span><span class="s">&quot;com.example.myapp&quot;</span><span class="nt">&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- ç¶²è·¯æ¬Šé™ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.INTERNET&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- å„²å­˜æ¬Šé™ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.READ_EXTERNAL_STORAGE&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- ç›¸æ©Ÿæ¬Šé™ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.CAMERA&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-feature</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.hardware.camera&quot;</span><span class="w"> </span><span class="na">android:required=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- å®šä½æ¬Šé™ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.ACCESS_FINE_LOCATION&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.ACCESS_COARSE_LOCATION&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- éº¥å…‹é¢¨æ¬Šé™ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.RECORD_AUDIO&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- é€šçŸ¥æ¬Šé™ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.WAKE_LOCK&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.VIBRATE&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- è—ç‰™æ¬Šé™ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.BLUETOOTH&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.BLUETOOTH_ADMIN&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- è¯çµ¡äººæ¬Šé™ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.READ_CONTACTS&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;uses-permission</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.permission.WRITE_CONTACTS&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="nt">&lt;application</span>
<span class="w">        </span><span class="na">android:label=</span><span class="s">&quot;My Flutter App&quot;</span>
<span class="w">        </span><span class="na">android:icon=</span><span class="s">&quot;@mipmap/ic_launcher&quot;</span>
<span class="w">        </span><span class="na">android:requestLegacyExternalStorage=</span><span class="s">&quot;true&quot;</span>
<span class="w">        </span><span class="na">android:usesCleartextTraffic=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>

<span class="w">        </span><span class="nt">&lt;activity</span>
<span class="w">            </span><span class="na">android:name=</span><span class="s">&quot;.MainActivity&quot;</span>
<span class="w">            </span><span class="na">android:exported=</span><span class="s">&quot;true&quot;</span>
<span class="w">            </span><span class="na">android:launchMode=</span><span class="s">&quot;singleTop&quot;</span>
<span class="w">            </span><span class="na">android:theme=</span><span class="s">&quot;@style/LaunchTheme&quot;</span>
<span class="w">            </span><span class="na">android:configChanges=</span><span class="s">&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;</span>
<span class="w">            </span><span class="na">android:hardwareAccelerated=</span><span class="s">&quot;true&quot;</span>
<span class="w">            </span><span class="na">android:windowSoftInputMode=</span><span class="s">&quot;adjustResize&quot;</span><span class="nt">&gt;</span>

<span class="w">            </span><span class="cm">&lt;!-- å•Ÿå‹• Intent --&gt;</span>
<span class="w">            </span><span class="nt">&lt;intent-filter</span><span class="w"> </span><span class="na">android:autoVerify=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;action</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.intent.action.MAIN&quot;</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;category</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.intent.category.LAUNCHER&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/intent-filter&gt;</span>

<span class="w">            </span><span class="cm">&lt;!-- æ·±åº¦é€£çµ --&gt;</span>
<span class="w">            </span><span class="nt">&lt;intent-filter&gt;</span>
<span class="w">                </span><span class="nt">&lt;action</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.intent.action.VIEW&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;category</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.intent.category.DEFAULT&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;category</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;android.intent.category.BROWSABLE&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;data</span><span class="w"> </span><span class="na">android:scheme=</span><span class="s">&quot;myapp&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/intent-filter&gt;</span>
<span class="w">        </span><span class="nt">&lt;/activity&gt;</span>

<span class="w">        </span><span class="cm">&lt;!-- Firebase æ¨é€é€šçŸ¥æœå‹™ --&gt;</span>
<span class="w">        </span><span class="nt">&lt;service</span>
<span class="w">            </span><span class="na">android:name=</span><span class="s">&quot;.MyFirebaseMessagingService&quot;</span>
<span class="w">            </span><span class="na">android:exported=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;intent-filter&gt;</span>
<span class="w">                </span><span class="nt">&lt;action</span><span class="w"> </span><span class="na">android:name=</span><span class="s">&quot;com.google.firebase.MESSAGING_EVENT&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/intent-filter&gt;</span>
<span class="w">        </span><span class="nt">&lt;/service&gt;</span>
<span class="w">    </span><span class="nt">&lt;/application&gt;</span>
<span class="nt">&lt;/manifest&gt;</span>
</code></pre></div>

<h4>build.gradle é…ç½®</h4>
<div class="codehilite"><pre><span></span><code><span class="c1">// android/app/build.gradle</span>
<span class="nx">android</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">compileSdkVersion</span><span class="w"> </span><span class="mi">33</span>
<span class="w">    </span><span class="nx">ndkVersion</span><span class="w"> </span><span class="nx">flutter</span><span class="p">.</span><span class="nx">ndkVersion</span>

<span class="w">    </span><span class="nx">compileOptions</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">sourceCompatibility</span><span class="w"> </span><span class="nx">JavaVersion</span><span class="p">.</span><span class="nx">VERSION_1_8</span>
<span class="w">        </span><span class="nx">targetCompatibility</span><span class="w"> </span><span class="nx">JavaVersion</span><span class="p">.</span><span class="nx">VERSION_1_8</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">defaultConfig</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">applicationId</span><span class="w"> </span><span class="s">&quot;com.example.myapp&quot;</span>
<span class="w">        </span><span class="nx">minSdkVersion</span><span class="w"> </span><span class="mi">21</span>
<span class="w">        </span><span class="nx">targetSdkVersion</span><span class="w"> </span><span class="mi">33</span>
<span class="w">        </span><span class="nx">versionCode</span><span class="w"> </span><span class="nx">flutterVersionCode</span><span class="p">.</span><span class="nx">toInteger</span><span class="p">()</span>
<span class="w">        </span><span class="nx">versionName</span><span class="w"> </span><span class="nx">flutterVersionName</span>
<span class="w">        </span><span class="nx">multiDexEnabled</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">signingConfigs</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">release</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">keyAlias</span><span class="w"> </span><span class="nx">keystoreProperties</span><span class="p">[</span><span class="err">&#39;</span><span class="nx">keyAlias</span><span class="err">&#39;</span><span class="p">]</span>
<span class="w">            </span><span class="nx">keyPassword</span><span class="w"> </span><span class="nx">keystoreProperties</span><span class="p">[</span><span class="err">&#39;</span><span class="nx">keyPassword</span><span class="err">&#39;</span><span class="p">]</span>
<span class="w">            </span><span class="nx">storeFile</span><span class="w"> </span><span class="nx">keystoreProperties</span><span class="p">[</span><span class="err">&#39;</span><span class="nx">storeFile</span><span class="err">&#39;</span><span class="p">]</span><span class="w"> </span><span class="p">?</span><span class="w"> </span><span class="nx">file</span><span class="p">(</span><span class="nx">keystoreProperties</span><span class="p">[</span><span class="err">&#39;</span><span class="nx">storeFile</span><span class="err">&#39;</span><span class="p">])</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nx">null</span>
<span class="w">            </span><span class="nx">storePassword</span><span class="w"> </span><span class="nx">keystoreProperties</span><span class="p">[</span><span class="err">&#39;</span><span class="nx">storePassword</span><span class="err">&#39;</span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">buildTypes</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">release</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">signingConfig</span><span class="w"> </span><span class="nx">signingConfigs</span><span class="p">.</span><span class="nx">release</span>
<span class="w">            </span><span class="nx">minifyEnabled</span><span class="w"> </span><span class="kc">true</span>
<span class="w">            </span><span class="nx">shrinkResources</span><span class="w"> </span><span class="kc">true</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="nx">dependencies</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">implementation</span><span class="w"> </span><span class="s">&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;</span>
<span class="w">    </span><span class="nx">implementation</span><span class="w"> </span><span class="err">&#39;</span><span class="nx">androidx</span><span class="p">.</span><span class="nx">multidex</span><span class="p">:</span><span class="nx">multidex</span><span class="p">:</span><span class="m m-Double">2.0.1</span><span class="err">&#39;</span>
<span class="p">}</span>
</code></pre></div>

<h3>2. iOS é…ç½®</h3>
<h4>Info.plist æ¬Šé™è¨­å®š</h4>
<div class="codehilite"><pre><span></span><code><span class="cm">&lt;!-- ios/Runner/Info.plist --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="cp">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</span>
<span class="nt">&lt;plist</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;dict&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- æ‡‰ç”¨ç¨‹å¼åŸºæœ¬è³‡è¨Š --&gt;</span>
<span class="w">    </span><span class="nt">&lt;key&gt;</span>CFBundleName<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;string&gt;</span>My<span class="w"> </span>Flutter<span class="w"> </span>App<span class="nt">&lt;/string&gt;</span>
<span class="w">    </span><span class="nt">&lt;key&gt;</span>CFBundleDisplayName<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;string&gt;</span>My<span class="w"> </span>Flutter<span class="w"> </span>App<span class="nt">&lt;/string&gt;</span>
<span class="w">    </span><span class="nt">&lt;key&gt;</span>CFBundleIdentifier<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;string&gt;</span>com.example.myapp<span class="nt">&lt;/string&gt;</span>
<span class="w">    </span><span class="nt">&lt;key&gt;</span>CFBundleVersion<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;string&gt;</span>1.0.0<span class="nt">&lt;/string&gt;</span>
<span class="w">    </span><span class="nt">&lt;key&gt;</span>CFBundleShortVersionString<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;string&gt;</span>1.0.0<span class="nt">&lt;/string&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- æ¬Šé™èªªæ˜ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;key&gt;</span>NSCameraUsageDescription<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;string&gt;</span>æ­¤æ‡‰ç”¨ç¨‹å¼éœ€è¦ç›¸æ©Ÿæ¬Šé™ä¾†æ‹æ”ç…§ç‰‡<span class="nt">&lt;/string&gt;</span>

<span class="w">    </span><span class="nt">&lt;key&gt;</span>NSPhotoLibraryUsageDescription<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;string&gt;</span>æ­¤æ‡‰ç”¨ç¨‹å¼éœ€è¦å­˜å–ç…§ç‰‡åº«ä¾†é¸æ“‡åœ–ç‰‡<span class="nt">&lt;/string&gt;</span>

<span class="w">    </span><span class="nt">&lt;key&gt;</span>NSMicrophoneUsageDescription<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;string&gt;</span>æ­¤æ‡‰ç”¨ç¨‹å¼éœ€è¦éº¥å…‹é¢¨æ¬Šé™ä¾†éŒ„è£½éŸ³é »<span class="nt">&lt;/string&gt;</span>

<span class="w">    </span><span class="nt">&lt;key&gt;</span>NSLocationWhenInUseUsageDescription<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;string&gt;</span>æ­¤æ‡‰ç”¨ç¨‹å¼éœ€è¦å®šä½æ¬Šé™ä¾†æä¾›ä½ç½®æœå‹™<span class="nt">&lt;/string&gt;</span>

<span class="w">    </span><span class="nt">&lt;key&gt;</span>NSLocationAlwaysAndWhenInUseUsageDescription<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;string&gt;</span>æ­¤æ‡‰ç”¨ç¨‹å¼éœ€è¦å®šä½æ¬Šé™ä¾†æä¾›èƒŒæ™¯ä½ç½®æœå‹™<span class="nt">&lt;/string&gt;</span>

<span class="w">    </span><span class="nt">&lt;key&gt;</span>NSContactsUsageDescription<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;string&gt;</span>æ­¤æ‡‰ç”¨ç¨‹å¼éœ€è¦è¯çµ¡äººæ¬Šé™ä¾†åŒæ­¥è¯çµ¡äºº<span class="nt">&lt;/string&gt;</span>

<span class="w">    </span><span class="nt">&lt;key&gt;</span>NSCalendarsUsageDescription<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;string&gt;</span>æ­¤æ‡‰ç”¨ç¨‹å¼éœ€è¦è¡Œäº‹æ›†æ¬Šé™ä¾†ç®¡ç†äº‹ä»¶<span class="nt">&lt;/string&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- ç¶²è·¯å®‰å…¨è¨­å®š --&gt;</span>
<span class="w">    </span><span class="nt">&lt;key&gt;</span>NSAppTransportSecurity<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;dict&gt;</span>
<span class="w">        </span><span class="nt">&lt;key&gt;</span>NSAllowsArbitraryLoads<span class="nt">&lt;/key&gt;</span>
<span class="w">        </span><span class="nt">&lt;true/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/dict&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- URL Scheme --&gt;</span>
<span class="w">    </span><span class="nt">&lt;key&gt;</span>CFBundleURLTypes<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;array&gt;</span>
<span class="w">        </span><span class="nt">&lt;dict&gt;</span>
<span class="w">            </span><span class="nt">&lt;key&gt;</span>CFBundleURLName<span class="nt">&lt;/key&gt;</span>
<span class="w">            </span><span class="nt">&lt;string&gt;</span>myapp.deeplink<span class="nt">&lt;/string&gt;</span>
<span class="w">            </span><span class="nt">&lt;key&gt;</span>CFBundleURLSchemes<span class="nt">&lt;/key&gt;</span>
<span class="w">            </span><span class="nt">&lt;array&gt;</span>
<span class="w">                </span><span class="nt">&lt;string&gt;</span>myapp<span class="nt">&lt;/string&gt;</span>
<span class="w">            </span><span class="nt">&lt;/array&gt;</span>
<span class="w">        </span><span class="nt">&lt;/dict&gt;</span>
<span class="w">    </span><span class="nt">&lt;/array&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- æ”¯æ´çš„ä»‹é¢æ–¹å‘ --&gt;</span>
<span class="w">    </span><span class="nt">&lt;key&gt;</span>UISupportedInterfaceOrientations<span class="nt">&lt;/key&gt;</span>
<span class="w">    </span><span class="nt">&lt;array&gt;</span>
<span class="w">        </span><span class="nt">&lt;string&gt;</span>UIInterfaceOrientationPortrait<span class="nt">&lt;/string&gt;</span>
<span class="w">        </span><span class="nt">&lt;string&gt;</span>UIInterfaceOrientationLandscapeLeft<span class="nt">&lt;/string&gt;</span>
<span class="w">        </span><span class="nt">&lt;string&gt;</span>UIInterfaceOrientationLandscapeRight<span class="nt">&lt;/string&gt;</span>
<span class="w">    </span><span class="nt">&lt;/array&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/plist&gt;</span>
</code></pre></div>

<hr />
<h2>ğŸ¯ æ‡‰ç”¨ç¨‹å¼åœ–ç¤ºè¨­å®š</h2>
<h3>1. Android åœ–ç¤º</h3>
<div class="codehilite"><pre><span></span><code><span class="n">android/app/src/main/res/</span>
<span class="n">â”œâ”€â”€ mipmap-mdpi/              # 48x48 px</span>
<span class="n">â”‚   â””â”€â”€ ic_launcher.png</span>
<span class="n">â”œâ”€â”€ mipmap-hdpi/              # 72x72 px</span>
<span class="n">â”‚   â””â”€â”€ ic_launcher.png</span>
<span class="n">â”œâ”€â”€ mipmap-xhdpi/             # 96x96 px</span>
<span class="n">â”‚   â””â”€â”€ ic_launcher.png</span>
<span class="n">â”œâ”€â”€ mipmap-xxhdpi/            # 144x144 px</span>
<span class="n">â”‚   â””â”€â”€ ic_launcher.png</span>
<span class="n">â”œâ”€â”€ mipmap-xxxhdpi/           # 192x192 px</span>
<span class="n">â”‚   â””â”€â”€ ic_launcher.png</span>
<span class="n">â””â”€â”€ mipmap-anydpi-v26/        # è‡ªé©æ‡‰åœ–ç¤º (Android 8.0+)</span>
<span class="n">    â”œâ”€â”€ ic_launcher.xml</span>
<span class="n">    â””â”€â”€ ic_launcher_background.xml</span>
</code></pre></div>

<h3>2. iOS åœ–ç¤º</h3>
<div class="codehilite"><pre><span></span><code><span class="n">ios</span><span class="o">/</span><span class="n">Runner</span><span class="o">/</span><span class="n">Assets</span><span class="p">.</span><span class="n">xcassets</span><span class="o">/</span><span class="n">AppIcon</span><span class="p">.</span><span class="n">appiconset</span><span class="o">/</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-20</span><span class="n">x20</span><span class="mi">@1</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="mi">20</span><span class="n">x20</span><span class="w"> </span><span class="n">px</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-20</span><span class="n">x20</span><span class="mi">@2</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="mi">40</span><span class="n">x40</span><span class="w"> </span><span class="n">px</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-20</span><span class="n">x20</span><span class="mi">@3</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="mi">60</span><span class="n">x60</span><span class="w"> </span><span class="n">px</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-29</span><span class="n">x29</span><span class="mi">@1</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="mi">29</span><span class="n">x29</span><span class="w"> </span><span class="n">px</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-29</span><span class="n">x29</span><span class="mi">@2</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="mi">58</span><span class="n">x58</span><span class="w"> </span><span class="n">px</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-29</span><span class="n">x29</span><span class="mi">@3</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="mi">87</span><span class="n">x87</span><span class="w"> </span><span class="n">px</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-40</span><span class="n">x40</span><span class="mi">@1</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="mi">40</span><span class="n">x40</span><span class="w"> </span><span class="n">px</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-40</span><span class="n">x40</span><span class="mi">@2</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="mi">80</span><span class="n">x80</span><span class="w"> </span><span class="n">px</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-40</span><span class="n">x40</span><span class="mi">@3</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="mi">120</span><span class="n">x120</span><span class="w"> </span><span class="n">px</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-60</span><span class="n">x60</span><span class="mi">@2</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="mi">120</span><span class="n">x120</span><span class="w"> </span><span class="n">px</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-60</span><span class="n">x60</span><span class="mi">@3</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="mi">180</span><span class="n">x180</span><span class="w"> </span><span class="n">px</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-76</span><span class="n">x76</span><span class="mi">@1</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="mi">76</span><span class="n">x76</span><span class="w"> </span><span class="n">px</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-76</span><span class="n">x76</span><span class="mi">@2</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w">     </span><span class="err">#</span><span class="w"> </span><span class="mi">152</span><span class="n">x152</span><span class="w"> </span><span class="n">px</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mf">-83.5</span><span class="n">x83</span><span class="mf">.5</span><span class="mi">@2</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="mi">167</span><span class="n">x167</span><span class="w"> </span><span class="n">px</span>
<span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">Icon</span><span class="o">-</span><span class="n">App</span><span class="mi">-1024</span><span class="n">x1024</span><span class="mi">@1</span><span class="n">x</span><span class="p">.</span><span class="n">png</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="mi">1024</span><span class="n">x1024</span><span class="w"> </span><span class="n">px</span>
</code></pre></div>

<h3>3. è‡ªå‹•ç”Ÿæˆåœ–ç¤ºå·¥å…·</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># pubspec.yaml</span>
<span class="nt">dev_dependencies</span><span class="p">:</span>
<span class="w">  </span><span class="nt">flutter_launcher_icons</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^0.11.0</span>

<span class="nt">flutter_icons</span><span class="p">:</span>
<span class="w">  </span><span class="nt">android</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;launcher_icon&quot;</span>
<span class="w">  </span><span class="nt">ios</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">image_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;assets/icon/app_icon.png&quot;</span>
<span class="w">  </span><span class="nt">min_sdk_android</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">21</span>
<span class="w">  </span><span class="nt">web</span><span class="p">:</span>
<span class="w">    </span><span class="nt">generate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">image_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;assets/icon/app_icon.png&quot;</span>
<span class="w">  </span><span class="nt">windows</span><span class="p">:</span>
<span class="w">    </span><span class="nt">generate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">image_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;assets/icon/app_icon.png&quot;</span>
<span class="w">    </span><span class="nt">icon_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">48</span>
<span class="w">  </span><span class="nt">macos</span><span class="p">:</span>
<span class="w">    </span><span class="nt">generate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">    </span><span class="nt">image_path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;assets/icon/app_icon.png&quot;</span>
<span class="c1"># åŸ·è¡Œåœ–ç¤ºç”Ÿæˆ</span>
<span class="l l-Scalar l-Scalar-Plain">flutter pub get</span>
<span class="l l-Scalar l-Scalar-Plain">flutter pub run flutter_launcher_icons:main</span>
</code></pre></div>

<hr />
<h2>ğŸš€ å•Ÿå‹•ç•«é¢è¨­å®š</h2>
<h3>1. flutter_native_splash å¥—ä»¶</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># pubspec.yaml</span>
<span class="nt">dev_dependencies</span><span class="p">:</span>
<span class="w">  </span><span class="nt">flutter_native_splash</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^2.3.0</span>

<span class="nt">flutter_native_splash</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># èƒŒæ™¯é¡è‰²</span>
<span class="w">  </span><span class="nt">color</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;#42a5f5&quot;</span>
<span class="w">  </span><span class="nt">color_dark</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;#042a49&quot;</span>

<span class="w">  </span><span class="c1"># å•Ÿå‹•åœ–ç‰‡</span>
<span class="w">  </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/images/splash_logo.png</span>
<span class="w">  </span><span class="nt">image_dark</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/images/splash_logo_dark.png</span>

<span class="w">  </span><span class="c1"># åœ–ç‰‡è¨­å®š</span>
<span class="w">  </span><span class="nt">fill</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">  </span><span class="c1"># Android ç‰¹å®šè¨­å®š</span>
<span class="w">  </span><span class="nt">android_gravity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">center</span>
<span class="w">  </span><span class="nt">android_12</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/images/splash_logo_android12.png</span>
<span class="w">    </span><span class="nt">color</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;#42a5f5&quot;</span>

<span class="w">  </span><span class="c1"># iOS ç‰¹å®šè¨­å®š</span>
<span class="w">  </span><span class="nt">ios_content_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">center</span>

<span class="w">  </span><span class="c1"># Web è¨­å®š</span>
<span class="w">  </span><span class="nt">web</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">web_image_mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">center</span>
<span class="c1"># ç”Ÿæˆå•Ÿå‹•ç•«é¢</span>
<span class="l l-Scalar l-Scalar-Plain">flutter pub get</span>
<span class="l l-Scalar l-Scalar-Plain">flutter pub run flutter_native_splash:create</span>

<span class="c1"># ç§»é™¤å•Ÿå‹•ç•«é¢</span>
<span class="l l-Scalar l-Scalar-Plain">flutter pub run flutter_native_splash:remove</span>
</code></pre></div>

<h3>2. è‡ªè¨‚å•Ÿå‹•ç•«é¢ (Android)</h3>
<div class="codehilite"><pre><span></span><code><span class="cm">&lt;!-- android/app/src/main/res/drawable/launch_background.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;layer-list</span><span class="w"> </span><span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- èƒŒæ™¯é¡è‰² --&gt;</span>
<span class="w">    </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">android:drawable=</span><span class="s">&quot;@android:color/white&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- å•Ÿå‹•åœ–ç¤º --&gt;</span>
<span class="w">    </span><span class="nt">&lt;item&gt;</span>
<span class="w">        </span><span class="nt">&lt;bitmap</span>
<span class="w">            </span><span class="na">android:gravity=</span><span class="s">&quot;center&quot;</span>
<span class="w">            </span><span class="na">android:src=</span><span class="s">&quot;@drawable/splash_logo&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/item&gt;</span>
<span class="nt">&lt;/layer-list&gt;</span>
<span class="cm">&lt;!-- android/app/src/main/res/values/styles.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;resources&gt;</span>
<span class="w">    </span><span class="nt">&lt;style</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;LaunchTheme&quot;</span><span class="w"> </span><span class="na">parent=</span><span class="s">&quot;@android:style/Theme.Light.NoTitleBar&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;android:windowBackground&quot;</span><span class="nt">&gt;</span>@drawable/launch_background<span class="nt">&lt;/item&gt;</span>
<span class="w">    </span><span class="nt">&lt;/style&gt;</span>

<span class="w">    </span><span class="nt">&lt;style</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;NormalTheme&quot;</span><span class="w"> </span><span class="na">parent=</span><span class="s">&quot;@android:style/Theme.Light.NoTitleBar&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;item</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;android:windowBackground&quot;</span><span class="nt">&gt;</span>?android:colorBackground<span class="nt">&lt;/item&gt;</span>
<span class="w">    </span><span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/resources&gt;</span>
</code></pre></div>

<hr />
<h2>ğŸŒ Web å¹³å°é…ç½®</h2>
<h3>1. Web ç›®éŒ„çµæ§‹</h3>
<div class="codehilite"><pre><span></span><code>web/
â”œâ”€â”€ index.html                # ä¸»é é¢
â”œâ”€â”€ manifest.json            # PWA è¨­å®šæª”
â”œâ”€â”€ favicon.png              # ç¶²ç«™åœ–ç¤º
â”œâ”€â”€ icons/                   # PWA åœ–ç¤º
â”‚   â”œâ”€â”€ Icon-192.png         # 192x192 px
â”‚   â”œâ”€â”€ Icon-512.png         # 512x512 px
â”‚   â””â”€â”€ Icon-maskable-192.png
â”œâ”€â”€ splash/                  # å•Ÿå‹•ç•«é¢åœ–ç‰‡
â”‚   â”œâ”€â”€ img/
â”‚   â”‚   â”œâ”€â”€ light-1x.png
â”‚   â”‚   â”œâ”€â”€ light-2x.png
â”‚   â”‚   â”œâ”€â”€ dark-1x.png
â”‚   â”‚   â””â”€â”€ dark-2x.png
â”‚   â””â”€â”€ splash.js
â””â”€â”€ sw.js                    # Service Worker
</code></pre></div>

<h3>2. index.html é…ç½®</h3>
<div class="codehilite"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">base</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;$FLUTTER_BASE_HREF&quot;</span><span class="p">&gt;</span>

  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;IE=Edge&quot;</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;X-UA-Compatible&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;description&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;æˆ‘çš„ Flutter Web æ‡‰ç”¨ç¨‹å¼&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="p">&gt;</span>

  <span class="cm">&lt;!-- Apple meta tags --&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;apple-mobile-web-app-capable&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;yes&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;apple-mobile-web-app-status-bar-style&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;black&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;apple-mobile-web-app-title&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;My Flutter App&quot;</span><span class="p">&gt;</span>

  <span class="cm">&lt;!-- Favicon --&gt;</span>
  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;apple-touch-icon&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;icons/Icon-192.png&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;icon&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;image/png&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;favicon.png&quot;</span><span class="p">/&gt;</span>

  <span class="cm">&lt;!-- PWA manifest --&gt;</span>
  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;manifest&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;manifest.json&quot;</span><span class="p">&gt;</span>

  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My Flutter App<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>

  <span class="cm">&lt;!-- è‡ªè¨‚ CSS --&gt;</span>
  <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="w">    </span><span class="nt">body</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">      </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">      </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="nb">linear-gradient</span><span class="p">(</span><span class="mi">45</span><span class="kt">deg</span><span class="p">,</span><span class="w"> </span><span class="mh">#1e3c72</span><span class="p">,</span><span class="w"> </span><span class="mh">#2a5298</span><span class="p">);</span>
<span class="w">      </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">white</span><span class="p">;</span>
<span class="w">      </span><span class="k">font-family</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;Roboto&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">sans-serif</span><span class="p">;</span>
<span class="w">      </span><span class="k">overflow</span><span class="p">:</span><span class="w"> </span><span class="kc">hidden</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">.</span><span class="nc">loading</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span>
<span class="w">      </span><span class="k">flex-direction</span><span class="p">:</span><span class="w"> </span><span class="kc">column</span><span class="p">;</span>
<span class="w">      </span><span class="k">align-items</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span>
<span class="w">      </span><span class="k">justify-content</span><span class="p">:</span><span class="w"> </span><span class="kc">center</span><span class="p">;</span>
<span class="w">      </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">.</span><span class="nc">loading-logo</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="kt">px</span><span class="p">;</span>
<span class="w">      </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="kt">px</span><span class="p">;</span>
<span class="w">      </span><span class="k">margin-bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="kt">px</span><span class="p">;</span>
<span class="w">      </span><span class="k">animation</span><span class="p">:</span><span class="w"> </span><span class="n">pulse</span><span class="w"> </span><span class="mi">2</span><span class="kt">s</span><span class="w"> </span><span class="kc">infinite</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">@</span><span class="k">keyframes</span><span class="w"> </span><span class="nt">pulse</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">0</span><span class="o">%</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">scale</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="nt">50</span><span class="o">%</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">scale</span><span class="p">(</span><span class="mf">1.1</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="nt">100</span><span class="o">%</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">scale</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">.</span><span class="nc">loading-text</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="kt">px</span><span class="p">;</span>
<span class="w">      </span><span class="k">margin-bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">.</span><span class="nc">loading-spinner</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="kt">px</span><span class="p">;</span>
<span class="w">      </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="kt">px</span><span class="p">;</span>
<span class="w">      </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="nb">rgba</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">);</span>
<span class="w">      </span><span class="k">border-top</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="kc">white</span><span class="p">;</span>
<span class="w">      </span><span class="k">border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
<span class="w">      </span><span class="k">animation</span><span class="p">:</span><span class="w"> </span><span class="n">spin</span><span class="w"> </span><span class="mi">1</span><span class="kt">s</span><span class="w"> </span><span class="kc">linear</span><span class="w"> </span><span class="kc">infinite</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">@</span><span class="k">keyframes</span><span class="w"> </span><span class="nt">spin</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">0</span><span class="o">%</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">rotate</span><span class="p">(</span><span class="mi">0</span><span class="kt">deg</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="nt">100</span><span class="o">%</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">rotate</span><span class="p">(</span><span class="mi">360</span><span class="kt">deg</span><span class="p">);</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="cm">&lt;!-- Loading Screen --&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;loading&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;loading&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;icons/Icon-192.png&quot;</span> <span class="na">alt</span><span class="o">=</span><span class="s">&quot;App Logo&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;loading-logo&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;loading-text&quot;</span><span class="p">&gt;</span>æ­£åœ¨è¼‰å…¥æ‡‰ç”¨ç¨‹å¼...<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;loading-spinner&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

  <span class="cm">&lt;!-- Flutter App Container --&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;app&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

  <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="w">    </span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// éš±è—è¼‰å…¥ç•«é¢</span>
<span class="w">      </span><span class="kd">var</span><span class="w"> </span><span class="nx">loading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#loading&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="nx">loading</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;none&#39;</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// Download main.dart.js</span>
<span class="w">      </span><span class="nx">_flutter</span><span class="p">.</span><span class="nx">loader</span><span class="p">.</span><span class="nx">loadEntrypoint</span><span class="p">({</span>
<span class="w">        </span><span class="nx">serviceWorker</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">serviceWorkerVersion</span><span class="o">:</span><span class="w"> </span><span class="nx">serviceWorkerVersion</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nx">onEntrypointLoaded</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">engineInitializer</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">engineInitializer</span><span class="p">.</span><span class="nx">initializeEngine</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">appRunner</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">appRunner</span><span class="p">.</span><span class="nx">runApp</span><span class="p">();</span>
<span class="w">          </span><span class="p">});</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>

<h3>3. manifest.json PWA é…ç½®</h3>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My Flutter App&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;short_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Flutter App&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;start_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;.&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;display&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;standalone&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;background_color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#1e3c72&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;theme_color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#2a5298&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;æˆ‘çš„ Flutter Web æ‡‰ç”¨ç¨‹å¼&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;orientation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;portrait-primary&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;prefer_related_applications&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;icons&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;src&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;icons/Icon-192.png&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;sizes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;192x192&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image/png&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;src&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;icons/Icon-512.png&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;sizes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;512x512&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image/png&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;src&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;icons/Icon-maskable-192.png&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;sizes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;192x192&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;purpose&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;maskable&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;shortcuts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;é¦–é &quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;short_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Home&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;icons&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;src&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;icons/Icon-192.png&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;sizes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;192x192&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ”§ ç’°å¢ƒè®Šæ•¸èˆ‡é…ç½®ç®¡ç†</h2>
<h3>1. ç’°å¢ƒé…ç½®æª”æ¡ˆ</h3>
<div class="codehilite"><pre><span></span><code>config/
â”œâ”€â”€ dev.json                 # é–‹ç™¼ç’°å¢ƒ
â”œâ”€â”€ staging.json             # æ¸¬è©¦ç’°å¢ƒ
â”œâ”€â”€ prod.json               # ç”Ÿç”¢ç’°å¢ƒ
â””â”€â”€ local.json              # æœ¬åœ°ç’°å¢ƒ
// config/dev.json
{
  &quot;apiBaseUrl&quot;: &quot;https://dev-api.example.com&quot;,
  &quot;enableLogging&quot;: true,
  &quot;enableAnalytics&quot;: false,
  &quot;features&quot;: {
    &quot;newFeature&quot;: true,
    &quot;betaFeature&quot;: false
  },
  &quot;keys&quot;: {
    &quot;googleMaps&quot;: &quot;dev_google_maps_key&quot;,
    &quot;firebase&quot;: {
      &quot;appId&quot;: &quot;dev_firebase_app_id&quot;,
      &quot;apiKey&quot;: &quot;dev_firebase_api_key&quot;
    }
  }
}

// config/prod.json
{
  &quot;apiBaseUrl&quot;: &quot;https://api.example.com&quot;,
  &quot;enableLogging&quot;: false,
  &quot;enableAnalytics&quot;: true,
  &quot;features&quot;: {
    &quot;newFeature&quot;: true,
    &quot;betaFeature&quot;: false
  },
  &quot;keys&quot;: {
    &quot;googleMaps&quot;: &quot;prod_google_maps_key&quot;,
    &quot;firebase&quot;: {
      &quot;appId&quot;: &quot;prod_firebase_app_id&quot;,
      &quot;apiKey&quot;: &quot;prod_firebase_api_key&quot;
    }
  }
}
</code></pre></div>

<h3>2. é…ç½®ç®¡ç†é¡åˆ¥</h3>
<div class="codehilite"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="s1">&#39;dart:convert&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/services.dart&#39;</span><span class="p">;</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">AppConfig</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">AppConfig</span><span class="o">?</span><span class="w"> </span><span class="n">_instance</span><span class="p">;</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">AppConfig</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_instance</span><span class="o">!</span><span class="p">;</span>

<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">apiBaseUrl</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">enableLogging</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">enableAnalytics</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">features</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">keys</span><span class="p">;</span>

<span class="w">  </span><span class="n">AppConfig</span><span class="p">.</span><span class="n">_</span><span class="p">();</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">initialize</span><span class="p">({</span><span class="kt">String</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;prod&#39;</span><span class="p">})</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AppConfig</span><span class="p">.</span><span class="n">_</span><span class="p">();</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">_instance</span><span class="o">!</span><span class="p">.</span><span class="n">_loadConfig</span><span class="p">(</span><span class="n">environment</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_loadConfig</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">environment</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">configPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;assets/config/</span><span class="si">$</span><span class="n">environment</span><span class="s1">.json&#39;</span><span class="p">;</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">configString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">rootBundle</span><span class="p">.</span><span class="n">loadString</span><span class="p">(</span><span class="n">configPath</span><span class="p">);</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">json</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">configString</span><span class="p">);</span>

<span class="w">      </span><span class="n">apiBaseUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;apiBaseUrl&#39;</span><span class="p">];</span>
<span class="w">      </span><span class="n">enableLogging</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;enableLogging&#39;</span><span class="p">];</span>
<span class="w">      </span><span class="n">enableAnalytics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;enableAnalytics&#39;</span><span class="p">];</span>
<span class="w">      </span><span class="n">features</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">];</span>
<span class="w">      </span><span class="n">keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;keys&#39;</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">Exception</span><span class="p">(</span><span class="s1">&#39;Failed to load config for environment: </span><span class="si">$</span><span class="n">environment</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// åŠŸèƒ½é–‹é—œ</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isFeatureEnabled</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">featureName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">features</span><span class="p">[</span><span class="n">featureName</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// å–å¾— API é‡‘é‘°</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">getApiKey</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">keyName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">keys</span><span class="p">[</span><span class="n">keyName</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// å–å¾—åµŒå¥—é‡‘é‘°</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">getNestedKey</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">parentKeys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">keys</span><span class="p">[</span><span class="n">parent</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;?</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">parentKeys</span><span class="o">?</span><span class="p">[</span><span class="n">child</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// main.dart ä¸­åˆå§‹åŒ–</span>
<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">WidgetsFlutterBinding</span><span class="p">.</span><span class="n">ensureInitialized</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// æ ¹æ“šå»ºç½®æ¨¡å¼è¼‰å…¥ä¸åŒé…ç½®</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">String</span><span class="p">.</span><span class="n">fromEnvironment</span><span class="p">(</span><span class="s1">&#39;ENV&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;prod&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">AppConfig</span><span class="p">.</span><span class="n">initialize</span><span class="p">(</span><span class="nl">environment:</span><span class="w"> </span><span class="n">environment</span><span class="p">);</span>

<span class="w">  </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨ç¯„ä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ApiService</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">baseUrl</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">AppConfig</span><span class="p">.</span><span class="n">instance</span><span class="p">.</span><span class="n">apiBaseUrl</span><span class="p">;</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">logEvent</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">AppConfig</span><span class="p">.</span><span class="n">instance</span><span class="p">.</span><span class="n">enableAnalytics</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// å‚³é€åˆ†æäº‹ä»¶</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>3. å»ºç½®æŒ‡ä»¤</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># é–‹ç™¼ç’°å¢ƒ</span>
flutter<span class="w"> </span>run<span class="w"> </span>--dart-define<span class="o">=</span><span class="nv">ENV</span><span class="o">=</span>dev

<span class="c1"># æ¸¬è©¦ç’°å¢ƒ</span>
flutter<span class="w"> </span>run<span class="w"> </span>--dart-define<span class="o">=</span><span class="nv">ENV</span><span class="o">=</span>staging

<span class="c1"># ç”Ÿç”¢ç’°å¢ƒ</span>
flutter<span class="w"> </span>build<span class="w"> </span>apk<span class="w"> </span>--dart-define<span class="o">=</span><span class="nv">ENV</span><span class="o">=</span>prod
flutter<span class="w"> </span>build<span class="w"> </span>ios<span class="w"> </span>--dart-define<span class="o">=</span><span class="nv">ENV</span><span class="o">=</span>prod
</code></pre></div>

<hr />
<h2>ğŸ” å®‰å…¨æ€§é…ç½®</h2>
<h3>1. API é‡‘é‘°ä¿è­·</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// lib/config/secrets.dart (ä¸æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶)</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">Secrets</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">googleMapsApiKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">String</span><span class="p">.</span><span class="n">fromEnvironment</span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;GOOGLE_MAPS_API_KEY&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">firebaseApiKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">String</span><span class="p">.</span><span class="n">fromEnvironment</span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;FIREBASE_API_KEY&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨æ–¹å¼</span>
<span class="n">GoogleMap</span><span class="p">(</span>
<span class="w">  </span><span class="nl">onMapCreated:</span><span class="w"> </span><span class="n">_onMapCreated</span><span class="p">,</span>
<span class="w">  </span><span class="nl">initialCameraPosition:</span><span class="w"> </span><span class="n">CameraPosition</span><span class="p">(</span>
<span class="w">    </span><span class="nl">target:</span><span class="w"> </span><span class="n">LatLng</span><span class="p">(</span><span class="m">37.42796133580664</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="m">122.085749655962</span><span class="p">),</span>
<span class="w">    </span><span class="nl">zoom:</span><span class="w"> </span><span class="m">14.4746</span><span class="p">,</span>
<span class="w">  </span><span class="p">),</span>
<span class="w">  </span><span class="nl">apiKey:</span><span class="w"> </span><span class="n">Secrets</span><span class="p">.</span><span class="n">googleMapsApiKey</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

<h3>2. ç¶²è·¯å®‰å…¨é…ç½®</h3>
<div class="codehilite"><pre><span></span><code><span class="cm">&lt;!-- android/app/src/main/res/xml/network_security_config.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;network-security-config&gt;</span>
<span class="w">    </span><span class="nt">&lt;domain-config</span><span class="w"> </span><span class="na">cleartextTrafficPermitted=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;domain</span><span class="w"> </span><span class="na">includeSubdomains=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>api.example.com<span class="nt">&lt;/domain&gt;</span>
<span class="w">        </span><span class="nt">&lt;trust-anchors&gt;</span>
<span class="w">            </span><span class="nt">&lt;certificates</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;system&quot;</span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;certificates</span><span class="w"> </span><span class="na">src=</span><span class="s">&quot;user&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;/trust-anchors&gt;</span>
<span class="w">    </span><span class="nt">&lt;/domain-config&gt;</span>

<span class="w">    </span><span class="cm">&lt;!-- åƒ…é–‹ç™¼ç’°å¢ƒå…è¨± HTTP --&gt;</span>
<span class="w">    </span><span class="nt">&lt;domain-config</span><span class="w"> </span><span class="na">cleartextTrafficPermitted=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;domain</span><span class="w"> </span><span class="na">includeSubdomains=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>localhost<span class="nt">&lt;/domain&gt;</span>
<span class="w">        </span><span class="nt">&lt;domain</span><span class="w"> </span><span class="na">includeSubdomains=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>10.0.2.2<span class="nt">&lt;/domain&gt;</span>
<span class="w">    </span><span class="nt">&lt;/domain-config&gt;</span>
<span class="nt">&lt;/network-security-config&gt;</span>
<span class="cm">&lt;!-- åœ¨ AndroidManifest.xml ä¸­å¼•ç”¨ --&gt;</span>
<span class="nt">&lt;application</span>
<span class="w">    </span><span class="na">android:networkSecurityConfig=</span><span class="s">&quot;@xml/network_security_config&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/application&gt;</span>
</code></pre></div>

<h3>3. ç¨‹å¼ç¢¼æ··æ·†è¨­å®š</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// android/app/build.gradle</span>
<span class="n">android</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">buildTypes</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">release</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">minifyEnabled</span><span class="w"> </span><span class="n">true</span>
<span class="w">            </span><span class="n">shrinkResources</span><span class="w"> </span><span class="n">true</span>
<span class="w">            </span><span class="n">proguardFiles</span><span class="w"> </span><span class="n">getDefaultProguardFile</span><span class="p">(</span><span class="s">&#39;proguard-android.txt&#39;</span><span class="p">),</span><span class="w"> </span><span class="s">&#39;proguard-rules.pro&#39;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
#<span class="w"> </span><span class="n">android</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">proguard</span><span class="o">-</span><span class="n">rules</span><span class="p">.</span><span class="n">pro</span>
<span class="o">-</span><span class="n">keep</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="n">io</span><span class="p">.</span><span class="n">flutter</span><span class="p">.</span><span class="n">app</span><span class="o">.**</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">*</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="o">-</span><span class="n">keep</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="n">io</span><span class="p">.</span><span class="n">flutter</span><span class="p">.</span><span class="n">plugin</span><span class="o">.**</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="o">*</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="o">-</span><span class="n">keep</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="n">io</span><span class="p">.</span><span class="n">flutter</span><span class="p">.</span><span class="n">util</span><span class="o">.**</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="o">*</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="o">-</span><span class="n">keep</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="n">io</span><span class="p">.</span><span class="n">flutter</span><span class="p">.</span><span class="n">view</span><span class="o">.**</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="o">*</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="o">-</span><span class="n">keep</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="n">io</span><span class="p">.</span><span class="n">flutter</span><span class="o">.**</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="o">*</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="o">-</span><span class="n">keep</span><span class="w"> </span><span class="n">class</span><span class="w"> </span><span class="n">io</span><span class="p">.</span><span class="n">flutter</span><span class="p">.</span><span class="n">plugins</span><span class="o">.**</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="o">*</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="o">-</span><span class="n">dontwarn</span><span class="w"> </span><span class="n">io</span><span class="p">.</span><span class="n">flutter</span><span class="p">.</span><span class="n">embedding</span><span class="o">.**</span>
</code></pre></div>

<hr />
<h2>ğŸ“Š è³‡æºå„ªåŒ–ç­–ç•¥</h2>
<h3>1. åœ–ç‰‡å„ªåŒ–</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># pubspec.yaml - å£“ç¸®è¨­å®š</span>
<span class="nt">flutter</span><span class="p">:</span>
<span class="w">  </span><span class="nt">assets</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/images/</span>

<span class="w">  </span><span class="c1"># é‡å°ä¸åŒå¹³å°å„ªåŒ–</span>
<span class="w">  </span><span class="nt">generate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="l l-Scalar l-Scalar-Plain">// åœ–ç‰‡å¿«å–ç­–ç•¥</span>
<span class="l l-Scalar l-Scalar-Plain">class OptimizedImage extends StatelessWidget {</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">final String imagePath;</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">final double? width;</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">final double? height;</span>

<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">const OptimizedImage({</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">Key? key,</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">required this.imagePath,</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">this.width,</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">this.height,</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">})</span><span class="w"> </span><span class="nt">: super(key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">key);</span>

<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">@override</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">Widget build(BuildContext context) {</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">return Image.asset(</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">imagePath,</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">width</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">width,</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">height</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">height,</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">// è¨˜æ†¶é«”å¿«å–è¨­å®š</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">cacheWidth</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">width?.toInt(),</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">cacheHeight</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">height?.toInt(),</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">// åœ–ç‰‡å“è³ªè¨­å®š</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">filterQuality</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FilterQuality.medium,</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">// éŒ¯èª¤è™•ç†</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">errorBuilder</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(context, error, stackTrace) {</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">return Container(</span>
<span class="w">          </span><span class="l l-Scalar l-Scalar-Plain">width</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">width,</span>
<span class="w">          </span><span class="l l-Scalar l-Scalar-Plain">height</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">height,</span>
<span class="w">          </span><span class="l l-Scalar l-Scalar-Plain">color</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Colors.grey[300],</span>
<span class="w">          </span><span class="l l-Scalar l-Scalar-Plain">child</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Icon(Icons.error),</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">);</span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain">},</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">);</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">}</span>
<span class="err">}</span>
</code></pre></div>

<h3>2. å­—å‹å­é›†åŒ–</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># pubspec.yaml</span>
<span class="nt">flutter</span><span class="p">:</span>
<span class="w">  </span><span class="nt">fonts</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">family</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CustomFont</span>
<span class="w">      </span><span class="nt">fonts</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">asset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">assets/fonts/CustomFont.ttf</span>
<span class="w">          </span><span class="c1"># åªåŒ…å«éœ€è¦çš„å­—ç¬¦</span>
<span class="w">          </span><span class="nt">unicode-range</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">U+0000-00FF, U+0131, U+0152-0153</span>
</code></pre></div>

<h3>3. è³‡æºå£“ç¸®è…³æœ¬</h3>
<div class="codehilite"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># scripts/optimize_assets.sh</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;é–‹å§‹å„ªåŒ–è³‡æº...&quot;</span>

<span class="c1"># å£“ç¸® PNG åœ–ç‰‡</span>
find<span class="w"> </span>assets/images<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.png&quot;</span><span class="w"> </span>-exec<span class="w"> </span>pngcrush<span class="w"> </span>-rem<span class="w"> </span>allb<span class="w"> </span>-reduce<span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="o">{}</span>.tmp<span class="w"> </span><span class="se">\;</span><span class="w"> </span>-exec<span class="w"> </span>mv<span class="w"> </span><span class="o">{}</span>.tmp<span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="se">\;</span>

<span class="c1"># å£“ç¸® JPG åœ–ç‰‡</span>
find<span class="w"> </span>assets/images<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.jpg&quot;</span><span class="w"> </span>-exec<span class="w"> </span>jpegoptim<span class="w"> </span>--strip-all<span class="w"> </span>--max<span class="o">=</span><span class="m">85</span><span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="se">\;</span>

<span class="c1"># å£“ç¸® JSON æª”æ¡ˆ</span>
find<span class="w"> </span>assets/data<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.json&quot;</span><span class="w"> </span>-exec<span class="w"> </span>jq<span class="w"> </span>-c<span class="w"> </span>.<span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="se">\;</span><span class="w"> </span>&gt;<span class="w"> </span><span class="o">{}</span>.tmp<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>mv<span class="w"> </span><span class="o">{}</span>.tmp<span class="w"> </span><span class="o">{}</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;è³‡æºå„ªåŒ–å®Œæˆï¼&quot;</span>
</code></pre></div>

<hr />
<h2>ğŸ¨ è¨­è¨ˆç³»çµ±è³‡æº</h2>
<h3>1. è¨­è¨ˆä»£å¹£ (Design Tokens)</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// assets/design/tokens.json</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;colors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;primary&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;50&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#e3f2fd&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;100&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#bbdefb&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;500&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#2196f3&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;900&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#0d47a1&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;neutral&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;50&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#fafafa&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;100&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;500&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#9e9e9e&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;900&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#212121&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;spacing&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;xs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;sm&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;md&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;lg&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;xl&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;typography&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;heading1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;fontSize&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;fontWeight&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;700&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;lineHeight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.2</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;body&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;fontSize&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;fontWeight&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;400&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;lineHeight&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;borderRadius&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;sm&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;md&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;lg&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;full&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">9999</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
<span class="c1">// lib/design/design_tokens.dart</span>
<span class="err">impor</span><span class="kc">t</span><span class="w"> </span><span class="err">&#39;dar</span><span class="kc">t</span><span class="p">:</span><span class="err">co</span><span class="kc">n</span><span class="err">ver</span><span class="kc">t</span><span class="err">&#39;;</span>
<span class="err">impor</span><span class="kc">t</span><span class="w"> </span><span class="err">&#39;package</span><span class="p">:</span><span class="kc">flutter</span><span class="err">/ma</span><span class="kc">ter</span><span class="err">ial.dar</span><span class="kc">t</span><span class="err">&#39;;</span>
<span class="err">impor</span><span class="kc">t</span><span class="w"> </span><span class="err">&#39;package</span><span class="p">:</span><span class="kc">flutter</span><span class="err">/services.dar</span><span class="kc">t</span><span class="err">&#39;;</span>

<span class="err">class</span><span class="w"> </span><span class="err">Desig</span><span class="kc">n</span><span class="err">Toke</span><span class="kc">ns</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="err">s</span><span class="kc">tat</span><span class="err">ic</span><span class="w"> </span><span class="err">la</span><span class="kc">te</span><span class="w"> </span><span class="err">Map&lt;S</span><span class="kc">tr</span><span class="err">i</span><span class="kc">n</span><span class="err">g</span><span class="p">,</span><span class="w"> </span><span class="err">dy</span><span class="kc">na</span><span class="err">mic&gt;</span><span class="w"> </span><span class="err">_</span><span class="kc">t</span><span class="err">oke</span><span class="kc">ns</span><span class="err">;</span>

<span class="w">  </span><span class="err">s</span><span class="kc">tat</span><span class="err">ic</span><span class="w"> </span><span class="err">Fu</span><span class="kc">ture</span><span class="err">&lt;void&gt;</span><span class="w"> </span><span class="err">i</span><span class="kc">n</span><span class="err">i</span><span class="kc">t</span><span class="err">ialize()</span><span class="w"> </span><span class="err">asy</span><span class="kc">n</span><span class="err">c</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kc">f</span><span class="err">i</span><span class="kc">nal</span><span class="w"> </span><span class="kc">t</span><span class="err">oke</span><span class="kc">n</span><span class="err">S</span><span class="kc">tr</span><span class="err">i</span><span class="kc">n</span><span class="err">g</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">awai</span><span class="kc">t</span><span class="w"> </span><span class="err">roo</span><span class="kc">t</span><span class="err">Bu</span><span class="kc">n</span><span class="err">dle.loadS</span><span class="kc">tr</span><span class="err">i</span><span class="kc">n</span><span class="err">g(&#39;asse</span><span class="kc">ts</span><span class="err">/desig</span><span class="kc">n</span><span class="err">/</span><span class="kc">t</span><span class="err">oke</span><span class="kc">ns</span><span class="err">.jso</span><span class="kc">n</span><span class="err">&#39;);</span>
<span class="w">    </span><span class="err">_</span><span class="kc">t</span><span class="err">oke</span><span class="kc">ns</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">jso</span><span class="kc">n</span><span class="err">.decode(</span><span class="kc">t</span><span class="err">oke</span><span class="kc">n</span><span class="err">S</span><span class="kc">tr</span><span class="err">i</span><span class="kc">n</span><span class="err">g);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// é¡è‰²</span>
<span class="w">  </span><span class="err">s</span><span class="kc">tat</span><span class="err">ic</span><span class="w"> </span><span class="err">Color</span><span class="w"> </span><span class="err">ge</span><span class="kc">t</span><span class="err">Color(S</span><span class="kc">tr</span><span class="err">i</span><span class="kc">n</span><span class="err">g</span><span class="w"> </span><span class="err">pa</span><span class="kc">t</span><span class="err">h)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kc">f</span><span class="err">i</span><span class="kc">nal</span><span class="w"> </span><span class="err">colorHex</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">_ge</span><span class="kc">t</span><span class="err">Nes</span><span class="kc">te</span><span class="err">dValue(pa</span><span class="kc">t</span><span class="err">h)</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="err">S</span><span class="kc">tr</span><span class="err">i</span><span class="kc">n</span><span class="err">g;</span>
<span class="w">    </span><span class="err">re</span><span class="kc">turn</span><span class="w"> </span><span class="err">Color(i</span><span class="kc">nt</span><span class="err">.parse(colorHex.subs</span><span class="kc">tr</span><span class="err">i</span><span class="kc">n</span><span class="err">g(</span><span class="mi">1</span><span class="err">)</span><span class="p">,</span><span class="w"> </span><span class="err">radix</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="err">)</span><span class="w"> </span><span class="err">+</span><span class="w"> </span><span class="mi">0</span><span class="err">xFF</span><span class="mi">000000</span><span class="err">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// é–“è·</span>
<span class="w">  </span><span class="err">s</span><span class="kc">tat</span><span class="err">ic</span><span class="w"> </span><span class="err">double</span><span class="w"> </span><span class="err">ge</span><span class="kc">t</span><span class="err">Spaci</span><span class="kc">n</span><span class="err">g(S</span><span class="kc">tr</span><span class="err">i</span><span class="kc">n</span><span class="err">g</span><span class="w"> </span><span class="err">size)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">re</span><span class="kc">turn</span><span class="w"> </span><span class="err">(_</span><span class="kc">t</span><span class="err">oke</span><span class="kc">ns</span><span class="p">[</span><span class="err">&#39;spaci</span><span class="kc">n</span><span class="err">g&#39;</span><span class="p">][</span><span class="err">size</span><span class="p">]</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="kc">nu</span><span class="err">m).</span><span class="kc">t</span><span class="err">oDouble();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// å­—é«”å¤§å°</span>
<span class="w">  </span><span class="err">s</span><span class="kc">tat</span><span class="err">ic</span><span class="w"> </span><span class="err">double</span><span class="w"> </span><span class="err">ge</span><span class="kc">t</span><span class="err">Fo</span><span class="kc">nt</span><span class="err">Size(S</span><span class="kc">tr</span><span class="err">i</span><span class="kc">n</span><span class="err">g</span><span class="w"> </span><span class="err">s</span><span class="kc">t</span><span class="err">yle)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">re</span><span class="kc">turn</span><span class="w"> </span><span class="err">(_</span><span class="kc">t</span><span class="err">oke</span><span class="kc">ns</span><span class="p">[</span><span class="err">&#39;</span><span class="kc">t</span><span class="err">ypography&#39;</span><span class="p">][</span><span class="err">s</span><span class="kc">t</span><span class="err">yle</span><span class="p">][</span><span class="err">&#39;</span><span class="kc">f</span><span class="err">o</span><span class="kc">nt</span><span class="err">Size&#39;</span><span class="p">]</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="kc">nu</span><span class="err">m).</span><span class="kc">t</span><span class="err">oDouble();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// åœ“è§’</span>
<span class="w">  </span><span class="err">s</span><span class="kc">tat</span><span class="err">ic</span><span class="w"> </span><span class="err">double</span><span class="w"> </span><span class="err">ge</span><span class="kc">t</span><span class="err">BorderRadius(S</span><span class="kc">tr</span><span class="err">i</span><span class="kc">n</span><span class="err">g</span><span class="w"> </span><span class="err">size)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">re</span><span class="kc">turn</span><span class="w"> </span><span class="err">(_</span><span class="kc">t</span><span class="err">oke</span><span class="kc">ns</span><span class="p">[</span><span class="err">&#39;borderRadius&#39;</span><span class="p">][</span><span class="err">size</span><span class="p">]</span><span class="w"> </span><span class="err">as</span><span class="w"> </span><span class="kc">nu</span><span class="err">m).</span><span class="kc">t</span><span class="err">oDouble();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="err">s</span><span class="kc">tat</span><span class="err">ic</span><span class="w"> </span><span class="err">dy</span><span class="kc">na</span><span class="err">mic</span><span class="w"> </span><span class="err">_ge</span><span class="kc">t</span><span class="err">Nes</span><span class="kc">te</span><span class="err">dValue(S</span><span class="kc">tr</span><span class="err">i</span><span class="kc">n</span><span class="err">g</span><span class="w"> </span><span class="err">pa</span><span class="kc">t</span><span class="err">h)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kc">f</span><span class="err">i</span><span class="kc">nal</span><span class="w"> </span><span class="err">keys</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">pa</span><span class="kc">t</span><span class="err">h.spli</span><span class="kc">t</span><span class="err">(&#39;.&#39;);</span>
<span class="w">    </span><span class="err">dy</span><span class="kc">na</span><span class="err">mic</span><span class="w"> </span><span class="err">value</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">_</span><span class="kc">t</span><span class="err">oke</span><span class="kc">ns</span><span class="err">;</span>
<span class="w">    </span><span class="kc">f</span><span class="err">or</span><span class="w"> </span><span class="err">(</span><span class="kc">f</span><span class="err">i</span><span class="kc">nal</span><span class="w"> </span><span class="err">key</span><span class="w"> </span><span class="err">i</span><span class="kc">n</span><span class="w"> </span><span class="err">keys)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="err">value</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">value</span><span class="p">[</span><span class="err">key</span><span class="p">]</span><span class="err">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="err">re</span><span class="kc">turn</span><span class="w"> </span><span class="err">value;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨ç¯„ä¾‹</span>
<span class="err">Co</span><span class="kc">nta</span><span class="err">i</span><span class="kc">ner</span><span class="err">(</span>
<span class="w">  </span><span class="err">paddi</span><span class="kc">n</span><span class="err">g</span><span class="p">:</span><span class="w"> </span><span class="err">EdgeI</span><span class="kc">nsets</span><span class="err">.all(Desig</span><span class="kc">n</span><span class="err">Toke</span><span class="kc">ns</span><span class="err">.ge</span><span class="kc">t</span><span class="err">Spaci</span><span class="kc">n</span><span class="err">g(&#39;md&#39;))</span><span class="p">,</span>
<span class="w">  </span><span class="err">decora</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="p">:</span><span class="w"> </span><span class="err">BoxDecora</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">(</span>
<span class="w">    </span><span class="err">color</span><span class="p">:</span><span class="w"> </span><span class="err">Desig</span><span class="kc">n</span><span class="err">Toke</span><span class="kc">ns</span><span class="err">.ge</span><span class="kc">t</span><span class="err">Color(&#39;colors.primary.</span><span class="mi">500</span><span class="err">&#39;)</span><span class="p">,</span>
<span class="w">    </span><span class="err">borderRadius</span><span class="p">:</span><span class="w"> </span><span class="err">BorderRadius.circular(Desig</span><span class="kc">n</span><span class="err">Toke</span><span class="kc">ns</span><span class="err">.ge</span><span class="kc">t</span><span class="err">BorderRadius(&#39;md&#39;))</span><span class="p">,</span>
<span class="w">  </span><span class="err">)</span><span class="p">,</span>
<span class="w">  </span><span class="err">child</span><span class="p">:</span><span class="w"> </span><span class="err">Tex</span><span class="kc">t</span><span class="err">(</span>
<span class="w">    </span><span class="err">&#39;Desig</span><span class="kc">n</span><span class="w"> </span><span class="err">Sys</span><span class="kc">te</span><span class="err">m&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="err">s</span><span class="kc">t</span><span class="err">yle</span><span class="p">:</span><span class="w"> </span><span class="err">Tex</span><span class="kc">t</span><span class="err">S</span><span class="kc">t</span><span class="err">yle(</span>
<span class="w">      </span><span class="kc">f</span><span class="err">o</span><span class="kc">nt</span><span class="err">Size</span><span class="p">:</span><span class="w"> </span><span class="err">Desig</span><span class="kc">n</span><span class="err">Toke</span><span class="kc">ns</span><span class="err">.ge</span><span class="kc">t</span><span class="err">Fo</span><span class="kc">nt</span><span class="err">Size(&#39;headi</span><span class="kc">n</span><span class="err">g</span><span class="mi">1</span><span class="err">&#39;)</span><span class="p">,</span>
<span class="w">      </span><span class="err">color</span><span class="p">:</span><span class="w"> </span><span class="err">Colors.whi</span><span class="kc">te</span><span class="p">,</span>
<span class="w">    </span><span class="err">)</span><span class="p">,</span>
<span class="w">  </span><span class="err">)</span><span class="p">,</span>
<span class="err">)</span>
</code></pre></div>

<hr />
<h2>ğŸ§ª æ¸¬è©¦è³‡æº</h2>
<h3>1. æ¸¬è©¦è³‡æ–™ç›®éŒ„</h3>
<div class="codehilite"><pre><span></span><code>test/
â”œâ”€â”€ fixtures/                # æ¸¬è©¦ç”¨å›ºå®šè³‡æ–™
â”‚   â”œâ”€â”€ json/
â”‚   â”‚   â”œâ”€â”€ user_valid.json
â”‚   â”‚   â”œâ”€â”€ user_invalid.json
â”‚   â”‚   â””â”€â”€ api_responses.json
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ test_image.png
â”‚   â”‚   â””â”€â”€ test_avatar.jpg
â”‚   â””â”€â”€ data/
â”‚       â”œâ”€â”€ test_database.db
â”‚       â””â”€â”€ test_config.json
â”œâ”€â”€ mocks/                   # Mock æª”æ¡ˆ
â”‚   â”œâ”€â”€ mock_api_service.dart
â”‚   â””â”€â”€ mock_data_service.dart
â””â”€â”€ helpers/                 # æ¸¬è©¦è¼”åŠ©å·¥å…·
    â”œâ”€â”€ test_helpers.dart
    â””â”€â”€ widget_test_helpers.dart
</code></pre></div>

<h3>2. æ¸¬è©¦è¼”åŠ©å·¥å…·</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// test/helpers/test_helpers.dart</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;dart:convert&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;dart:io&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/services.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter_test/flutter_test.dart&#39;</span><span class="p">;</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">TestHelpers</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// è¼‰å…¥æ¸¬è©¦ç”¨ JSON è³‡æ–™</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">loadJsonFixture</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">File</span><span class="p">(</span><span class="s1">&#39;test/fixtures/json/</span><span class="si">$</span><span class="n">path</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">jsonString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">file</span><span class="p">.</span><span class="n">readAsString</span><span class="p">();</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">json</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">jsonString</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// è¼‰å…¥æ¸¬è©¦ç”¨åœ–ç‰‡</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">Uint8List</span><span class="o">&gt;</span><span class="w"> </span><span class="n">loadImageFixture</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">path</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">File</span><span class="p">(</span><span class="s1">&#39;test/fixtures/images/</span><span class="si">$</span><span class="n">path</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">file</span><span class="p">.</span><span class="n">readAsBytes</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ¨¡æ“¬ AssetBundle</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">mockAssetBundle</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">TestDefaultBinaryMessengerBinding</span><span class="p">.</span><span class="n">instance</span><span class="p">.</span><span class="n">defaultBinaryMessenger</span>
<span class="w">        </span><span class="p">.</span><span class="n">setMockMethodCallHandler</span><span class="p">(</span>
<span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="n">MethodChannel</span><span class="p">(</span><span class="s1">&#39;flutter/assets&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="p">(</span><span class="n">MethodCall</span><span class="w"> </span><span class="n">methodCall</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">methodCall</span><span class="p">.</span><span class="n">method</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;load&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">asset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">methodCall</span><span class="p">.</span><span class="n">arguments</span><span class="p">;</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">asset</span><span class="p">.</span><span class="n">startsWith</span><span class="p">(</span><span class="s1">&#39;test/fixtures/&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">final</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">File</span><span class="p">(</span><span class="n">asset</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">file</span><span class="p">.</span><span class="n">readAsBytes</span><span class="p">();</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// test/helpers/widget_test_helpers.dart</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter_test/flutter_test.dart&#39;</span><span class="p">;</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">WidgetTestHelpers</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// å»ºç«‹æ¸¬è©¦ç”¨çš„ MaterialApp wrapper</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">wrapWithMaterialApp</span><span class="p">(</span><span class="n">Widget</span><span class="w"> </span><span class="n">widget</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">      </span><span class="nl">home:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span><span class="nl">body:</span><span class="w"> </span><span class="n">widget</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// å»ºç«‹æ¸¬è©¦ç”¨çš„ä¸»é¡Œ wrapper</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">wrapWithTheme</span><span class="p">(</span><span class="n">Widget</span><span class="w"> </span><span class="n">widget</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="n">ThemeData</span><span class="o">?</span><span class="w"> </span><span class="n">theme</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">      </span><span class="nl">theme:</span><span class="w"> </span><span class="n">theme</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">home:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span><span class="nl">body:</span><span class="w"> </span><span class="n">widget</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// ç­‰å¾…å‹•ç•«å®Œæˆ</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">waitForAnimation</span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">1</span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// å°‹æ‰¾å¸¶æœ‰ç‰¹å®šæ–‡å­—çš„ Widget</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Finder</span><span class="w"> </span><span class="n">findTextContaining</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">byWidgetPredicate</span><span class="p">(</span>
<span class="w">      </span><span class="p">(</span><span class="n">widget</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">widget</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">Text</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">widget</span><span class="p">.</span><span class="n">data</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">widget</span><span class="p">.</span><span class="n">data</span><span class="o">!</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="n">text</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ“‹ æœ€ä½³å¯¦è¸æª¢æŸ¥æ¸…å–®</h2>
<h3>âœ… è³‡æºç®¡ç†</h3>
<ul>
<li>[ ] è³‡æºæª”æ¡ˆä½¿ç”¨æœ‰æ„ç¾©çš„å‘½å</li>
<li>[ ] åœ–ç‰‡æä¾›å¤šç¨®è§£æåº¦ç‰ˆæœ¬</li>
<li>[ ] å¤§å‹è³‡æºæª”æ¡ˆç¶“éå£“ç¸®å„ªåŒ–</li>
<li>[ ] pubspec.yaml ä¸­æ­£ç¢ºé…ç½®æ‰€æœ‰è³‡æº</li>
<li>[ ] åˆªé™¤æœªä½¿ç”¨çš„è³‡æºæª”æ¡ˆ</li>
</ul>
<h3>âœ… å®‰å…¨æ€§</h3>
<ul>
<li>[ ] æ•æ„Ÿè³‡è¨Šä½¿ç”¨ç’°å¢ƒè®Šæ•¸ç®¡ç†</li>
<li>[ ] API é‡‘é‘°ä¸ç¡¬ç·¨ç¢¼åœ¨ç¨‹å¼ç¢¼ä¸­</li>
<li>[ ] ç¶²è·¯é€šè¨Šä½¿ç”¨ HTTPS</li>
<li>[ ] è¨­å®šé©ç•¶çš„ç¶²è·¯å®‰å…¨ç­–ç•¥</li>
<li>[ ] ç”Ÿç”¢ç’°å¢ƒå•Ÿç”¨ç¨‹å¼ç¢¼æ··æ·†</li>
</ul>
<h3>âœ… æ•ˆèƒ½å„ªåŒ–</h3>
<ul>
<li>[ ] åœ–ç‰‡ä½¿ç”¨é©ç•¶çš„è§£æåº¦å’Œæ ¼å¼</li>
<li>[ ] å¯¦ä½œåœ–ç‰‡å»¶é²è¼‰å…¥å’Œå¿«å–</li>
<li>[ ] å­—å‹æª”æ¡ˆé€²è¡Œå­é›†åŒ–</li>
<li>[ ] ç§»é™¤æœªä½¿ç”¨çš„ç¨‹å¼ç¢¼å’Œè³‡æº</li>
<li>[ ] è¨­å®šé©ç•¶çš„å»ºç½®å„ªåŒ–é¸é …</li>
</ul>
<h3>âœ… å¹³å°é…ç½®</h3>
<ul>
<li>[ ] Android æ¬Šé™è¨­å®šæ­£ç¢ºä¸”æœ€å°åŒ–</li>
<li>[ ] iOS Info.plist åŒ…å«å¿…è¦çš„æ¬Šé™èªªæ˜</li>
<li>[ ] æ‡‰ç”¨ç¨‹å¼åœ–ç¤ºè¦†è“‹æ‰€æœ‰å¿…è¦å°ºå¯¸</li>
<li>[ ] å•Ÿå‹•ç•«é¢åœ¨å„å¹³å°æ­£å¸¸é¡¯ç¤º</li>
<li>[ ] Deep Link å’Œ URL Scheme è¨­å®šæ­£ç¢º</li>
</ul>
<h3>âœ… é–‹ç™¼é«”é©—</h3>
<ul>
<li>[ ] ç’°å¢ƒé…ç½®ç®¡ç†å®Œå–„</li>
<li>[ ] æ¸¬è©¦è³‡æ–™çµ„ç¹”è‰¯å¥½</li>
<li>[ ] å»ºç½®è…³æœ¬è‡ªå‹•åŒ–ç¨‹åº¦é«˜</li>
<li>[ ] æ–‡æª”å®Œæ•´ä¸”ä¿æŒæ›´æ–°</li>
<li>[ ] ç‰ˆæœ¬æ§åˆ¶å¿½ç•¥æ•æ„Ÿæª”æ¡ˆ</li>
</ul>
<hr />
<h2>ğŸ¯ å¸¸è¦‹å•é¡Œè§£æ±º</h2>
<h3>1. è³‡æºè¼‰å…¥å¤±æ•—</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// å•é¡Œï¼šImage.asset() ç„¡æ³•è¼‰å…¥åœ–ç‰‡</span>
<span class="c1">// è§£æ±ºæ–¹æ¡ˆï¼šæª¢æŸ¥ pubspec.yaml é…ç½®å’Œæª”æ¡ˆè·¯å¾‘</span>

<span class="c1">// âŒ éŒ¯èª¤çš„é…ç½®</span>
<span class="nl">flutter:</span>
<span class="w">  </span><span class="nl">assets:</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="n">assets</span><span class="o">/</span><span class="n">image</span><span class="o">/</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="err">è·¯å¾‘éŒ¯èª¤</span>

<span class="c1">// âœ… æ­£ç¢ºçš„é…ç½®</span>
<span class="nl">flutter:</span>
<span class="w">  </span><span class="nl">assets:</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="n">assets</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="err">æ­£ç¢ºè·¯å¾‘</span>

<span class="c1">// ç¨‹å¼ç¢¼ä¸­ä½¿ç”¨éŒ¯èª¤è™•ç†</span>
<span class="n">Image</span><span class="p">.</span><span class="n">asset</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;assets/images/logo.png&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nl">errorBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="n">stackTrace</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Failed to load image: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">error</span><span class="p">);</span>
<span class="w">  </span><span class="p">},</span>
<span class="p">)</span>
</code></pre></div>

<h3>2. å­—å‹æœªç”Ÿæ•ˆ</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// å•é¡Œï¼šè‡ªè¨‚å­—å‹æœªé¡¯ç¤º</span>
<span class="c1">// è§£æ±ºæ–¹æ¡ˆï¼š</span>

<span class="c1">// 1. æª¢æŸ¥ pubspec.yaml å­—å‹é…ç½®</span>
<span class="nl">flutter:</span>
<span class="w">  </span><span class="nl">fonts:</span>
<span class="w">    </span><span class="o">-</span><span class="w"> </span><span class="nl">family:</span><span class="w"> </span><span class="n">CustomFont</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="err">ç¢ºä¿</span><span class="w"> </span><span class="n">family</span><span class="w"> </span><span class="err">åç¨±æ­£ç¢º</span>
<span class="w">      </span><span class="nl">fonts:</span>
<span class="w">        </span><span class="o">-</span><span class="w"> </span><span class="nl">asset:</span><span class="w"> </span><span class="n">assets</span><span class="o">/</span><span class="n">fonts</span><span class="o">/</span><span class="n">CustomFont</span><span class="p">.</span><span class="n">ttf</span>

<span class="c1">// 2. é‡æ–°åŸ·è¡Œ flutter clean å’Œ flutter pub get</span>
<span class="c1">// 3. é‡å•Ÿæ‡‰ç”¨ç¨‹å¼</span>

<span class="c1">// 4. åœ¨ç¨‹å¼ç¢¼ä¸­æ­£ç¢ºä½¿ç”¨</span>
<span class="n">Text</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;Custom Font Text&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">    </span><span class="nl">fontFamily:</span><span class="w"> </span><span class="s1">&#39;CustomFont&#39;</span><span class="p">,</span><span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="err">åç¨±å¿…é ˆèˆ‡</span><span class="w"> </span><span class="n">pubspec</span><span class="p">.</span><span class="n">yaml</span><span class="w"> </span><span class="err">ä¸€è‡´</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">)</span>
</code></pre></div>

<h3>3. æ¬Šé™è¢«æ‹’çµ•</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// å•é¡Œï¼šåŸ·è¡Œæ™‚æ¬Šé™è¢«æ‹’çµ•</span>
<span class="c1">// è§£æ±ºæ–¹æ¡ˆï¼š</span>

<span class="c1">// 1. æª¢æŸ¥ AndroidManifest.xml æ¬Šé™å®£å‘Š</span>
<span class="c1">// 2. æª¢æŸ¥ iOS Info.plist æ¬Šé™èªªæ˜</span>
<span class="c1">// 3. ä½¿ç”¨æ¬Šé™è«‹æ±‚å¥—ä»¶</span>

<span class="nl">dependencies:</span>
<span class="w">  </span><span class="nl">permission_handler:</span><span class="w"> </span><span class="o">^</span><span class="m">10.0</span><span class="p">.</span><span class="m">0</span>

<span class="c1">// ç¨‹å¼ç¢¼ä¸­è«‹æ±‚æ¬Šé™</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:permission_handler/permission_handler.dart&#39;</span><span class="p">;</span>

<span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">requestCameraPermission</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">Permission</span><span class="p">.</span><span class="n">camera</span><span class="p">.</span><span class="n">request</span><span class="p">();</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="n">isGranted</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// æ¬Šé™å·²æˆäºˆ</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="n">isDenied</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// æ¬Šé™è¢«æ‹’çµ•</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="n">isPermanentlyDenied</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// æ¬Šé™è¢«æ°¸ä¹…æ‹’çµ•ï¼Œéœ€è¦å¼•å°ç”¨æˆ¶åˆ°è¨­å®šé é¢</span>
<span class="w">    </span><span class="n">openAppSettings</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>4. å»ºç½®éŒ¯èª¤</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># å•é¡Œï¼šå»ºç½®å¤±æ•—æˆ–è³‡æºæœªåŒ…å«</span>
<span class="c1"># è§£æ±ºæ–¹æ¡ˆï¼š</span>

<span class="c1"># 1. æ¸…ç†å»ºç½®å¿«å–</span>
flutter<span class="w"> </span>clean
flutter<span class="w"> </span>pub<span class="w"> </span>get

<span class="c1"># 2. æª¢æŸ¥è³‡æºè·¯å¾‘</span>
flutter<span class="w"> </span>analyze

<span class="c1"># 3. é‡æ–°ç”Ÿæˆè³‡æº</span>
flutter<span class="w"> </span>packages<span class="w"> </span>pub<span class="w"> </span>run<span class="w"> </span>build_runner<span class="w"> </span>build

<span class="c1"># 4. æª¢æŸ¥å¹³å°ç‰¹å®šè¨­å®š</span>
<span class="c1"># Android: æª¢æŸ¥ build.gradle è¨­å®š</span>
<span class="c1"># iOS: æª¢æŸ¥ Info.plist å’Œ Xcode å°ˆæ¡ˆè¨­å®š</span>
</code></pre></div>

<hr />
<p>é€™å€‹å®Œæ•´çš„è³‡æºç®¡ç†èˆ‡é…ç½®æŒ‡å—æ¶µè“‹äº† Flutter é–‹ç™¼ä¸­çš„å„ç¨®è³‡æºé¡å‹å’Œé…ç½®æ–¹å¼ã€‚è¨˜ä½ï¼Œè‰¯å¥½çš„è³‡æºç®¡ç†ä¸åƒ…èƒ½æå‡æ‡‰ç”¨ç¨‹å¼æ•ˆèƒ½ï¼Œé‚„èƒ½è®“é–‹ç™¼éç¨‹æ›´åŠ é †æš¢ã€‚å»ºè­°å°‡é€™ä»½æŒ‡å—ä½œç‚ºå°ˆæ¡ˆé–‹ç™¼çš„åƒè€ƒæ‰‹å†Šï¼Œç¢ºä¿æ¯å€‹å°ˆæ¡ˆéƒ½èƒ½éµå¾ªæœ€ä½³å¯¦è¸ï¼</p>
                    </div>
                </div>
            
                <div class="tab-pane fade " id="3.-widgets" 
                     role="tabpanel" aria-labelledby="3.-widgets-tab">
                    <div class="content-wrapper">
                        <h1>Flutter Widget è§£æé–‹ç™¼æŒ‡å—</h1>
<h2>Widget åŸºç¤æ¦‚å¿µ</h2>
<h3>Widget çš„æœ¬è³ª</h3>
<p>åœ¨ Flutter ä¸­ï¼Œ<strong>ä¸€åˆ‡çš† Widget</strong>ã€‚Widget æ˜¯ Flutter æ‡‰ç”¨ç¨‹å¼çš„åŸºæœ¬æ§‹å»ºå¡Šï¼Œå®ƒå€‘æè¿°äº†ç”¨æˆ¶ç•Œé¢çš„é…ç½®å’Œå¤–è§€ã€‚</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Widget æ˜¯ä¸å¯è®Šçš„æè¿°</span>
<span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Widget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Widget</span><span class="p">({</span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// æ¯å€‹ Widget éƒ½å¿…é ˆå¯¦ç¾ createElement æ–¹æ³•</span>
<span class="w">  </span><span class="n">Element</span><span class="w"> </span><span class="n">createElement</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// ç”¨æ–¼å„ªåŒ–é‡å»ºéç¨‹</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">operator</span><span class="w"> </span><span class="o">==</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">identical</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">other</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">hashCode</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">runtimeType</span><span class="p">.</span><span class="n">hashCode</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3>Widget ç”Ÿå‘½é€±æœŸ</h3>
<p>Flutter ä¸­æœ‰ä¸‰ç¨®æ ¸å¿ƒæ¦‚å¿µï¼š</p>
<ol>
<li><strong>Widget</strong>ï¼šä¸å¯è®Šçš„é…ç½®æè¿°</li>
<li><strong>Element</strong>ï¼šWidget çš„å¯¦ä¾‹åŒ–ï¼Œç®¡ç†ç”Ÿå‘½é€±æœŸ</li>
<li><strong>RenderObject</strong>ï¼šå¯¦éš›çš„æ¸²æŸ“å°è±¡</li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="c1">// StatefulWidget ç”Ÿå‘½é€±æœŸç¤ºä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">MyWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_MyWidgetState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_MyWidgetState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_MyWidgetState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyWidget</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">initState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">initState</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// åˆå§‹åŒ–ç‹€æ…‹ï¼ŒåªåŸ·è¡Œä¸€æ¬¡</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Widget åˆå§‹åŒ–&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">didChangeDependencies</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">didChangeDependencies</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// ä¾è³´ç™¼ç”Ÿè®ŠåŒ–æ™‚èª¿ç”¨</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;ä¾è³´è®ŠåŒ–&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// æ§‹å»º UIï¼Œå¯èƒ½è¢«å¤šæ¬¡èª¿ç”¨</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Hello Flutter&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">didUpdateWidget</span><span class="p">(</span><span class="n">MyWidget</span><span class="w"> </span><span class="n">oldWidget</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">didUpdateWidget</span><span class="p">(</span><span class="n">oldWidget</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Widget é…ç½®æ›´æ–°æ™‚èª¿ç”¨</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Widget æ›´æ–°&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">dispose</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// æ¸…ç†è³‡æº</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Widget éŠ·æ¯€&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>StatelessWidget vs StatefulWidget</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// StatelessWidget - ç„¡ç‹€æ…‹ Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">WelcomeScreen</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">WelcomeScreen</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">title</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">title</span><span class="p">)),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Welcome to Flutter!&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// StatefulWidget - æœ‰ç‹€æ…‹ Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">Counter</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_CounterState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_CounterState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_CounterState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">Counter</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_increment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_count</span><span class="o">++</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Count: </span><span class="si">$</span><span class="n">_count</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_increment</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Increment&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>Widget åˆ†é¡é«”ç³»</h2>
<h3>æŒ‰åŠŸèƒ½åˆ†é¡</h3>
<ol>
<li><strong>åŸºç¤ Widget</strong>ï¼šTextã€Iconã€Image ç­‰</li>
<li><strong>ä½ˆå±€ Widget</strong>ï¼šContainerã€Rowã€Columnã€Stack ç­‰</li>
<li><strong>å®¹å™¨ Widget</strong>ï¼šScaffoldã€AppBarã€Drawer ç­‰</li>
<li><strong>æ»¾å‹• Widget</strong>ï¼šListViewã€GridViewã€ScrollView ç­‰</li>
<li><strong>è¼¸å…¥ Widget</strong>ï¼šTextFieldã€Formã€Checkbox ç­‰</li>
<li><strong>äº’å‹• Widget</strong>ï¼šGestureDetectorã€InkWellã€Button ç­‰</li>
<li><strong>å‹•ç•« Widget</strong>ï¼šAnimatedContainerã€Heroã€Transition ç­‰</li>
<li><strong>è¼”åŠ© Widget</strong>ï¼šBuilderã€Consumerã€Provider ç­‰</li>
</ol>
<h3>æŒ‰æ¸²æŸ“ç‰¹æ€§åˆ†é¡</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// 1. RenderObjectWidget - æœ‰å¯¦éš›æ¸²æŸ“çš„ Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">CustomPaint</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RenderObjectWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">RenderObject</span><span class="w"> </span><span class="n">createRenderObject</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">RenderCustomPaint</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 2. ProxyWidget - ä»£ç†å…¶ä»– Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">InheritedWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ProxyWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ç”¨æ–¼æ•¸æ“šå‚³é</span>
<span class="p">}</span>

<span class="c1">// 3. ComponentWidget - çµ„åˆå…¶ä»– Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">StatelessWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ComponentWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// çµ„åˆå…¶ä»– Widget ä¾†æ§‹å»º UI</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ä½ˆå±€ Widget</h2>
<h3>Container - æœ€å¸¸ç”¨çš„ä½ˆå±€å®¹å™¨</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">ContainerExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">      </span><span class="c1">// å°ºå¯¸ç´„æŸ</span>
<span class="w">      </span><span class="nl">width:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">      </span><span class="nl">height:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">      </span><span class="c1">// é‚Šè·</span>
<span class="w">      </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">      </span><span class="c1">// å…§é‚Šè·</span>
<span class="w">      </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="nl">vertical:</span><span class="w"> </span><span class="m">10</span><span class="p">),</span>
<span class="w">      </span><span class="c1">// è£é£¾</span>
<span class="w">      </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">        </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">        </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">        </span><span class="nl">boxShadow:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">BoxShadow</span><span class="p">(</span>
<span class="w">            </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">.</span><span class="n">withOpacity</span><span class="p">(</span><span class="m">0.5</span><span class="p">),</span>
<span class="w">            </span><span class="nl">spreadRadius:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">            </span><span class="nl">blurRadius:</span><span class="w"> </span><span class="m">5</span><span class="p">,</span>
<span class="w">            </span><span class="nl">offset:</span><span class="w"> </span><span class="n">Offset</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nl">gradient:</span><span class="w"> </span><span class="n">LinearGradient</span><span class="p">(</span>
<span class="w">          </span><span class="nl">colors:</span><span class="w"> </span><span class="p">[</span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">purple</span><span class="p">],</span>
<span class="w">          </span><span class="nl">begin:</span><span class="w"> </span><span class="n">Alignment</span><span class="p">.</span><span class="n">topLeft</span><span class="p">,</span>
<span class="w">          </span><span class="nl">end:</span><span class="w"> </span><span class="n">Alignment</span><span class="p">.</span><span class="n">bottomRight</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="c1">// è®Šæ›</span>
<span class="w">      </span><span class="nl">transform:</span><span class="w"> </span><span class="n">Matrix4</span><span class="p">.</span><span class="n">rotationZ</span><span class="p">(</span><span class="m">0.1</span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;Container Example&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>Row å’Œ Column - ç·šæ€§ä½ˆå±€</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">LinearLayoutExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// Row æ°´å¹³ä½ˆå±€</span>
<span class="w">        </span><span class="n">Row</span><span class="p">(</span>
<span class="w">          </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceEvenly</span><span class="p">,</span>
<span class="w">          </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">              </span><span class="nl">flex:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">              </span><span class="nl">flex:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">)),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">              </span><span class="nl">flex:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">)),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">        </span><span class="c1">// Column å‚ç›´ä½ˆå±€</span>
<span class="w">        </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">          </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">stretch</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">height:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">orange</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Top&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">10</span><span class="p">),</span>
<span class="w">            </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">height:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">purple</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Bottom&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>Stack - å †ç–Šä½ˆå±€</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">StackExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Stack</span><span class="p">(</span>
<span class="w">      </span><span class="nl">alignment:</span><span class="w"> </span><span class="n">Alignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// èƒŒæ™¯</span>
<span class="w">        </span><span class="n">Container</span><span class="p">(</span>
<span class="w">          </span><span class="nl">width:</span><span class="w"> </span><span class="m">300</span><span class="p">,</span>
<span class="w">          </span><span class="nl">height:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">          </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">300</span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="c1">// å®šä½å…ƒç´ </span>
<span class="w">        </span><span class="n">Positioned</span><span class="p">(</span>
<span class="w">          </span><span class="nl">top:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">          </span><span class="nl">left:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">            </span><span class="nl">width:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">            </span><span class="nl">height:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">            </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">Positioned</span><span class="p">(</span>
<span class="w">          </span><span class="nl">bottom:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">          </span><span class="nl">right:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">            </span><span class="nl">width:</span><span class="w"> </span><span class="m">60</span><span class="p">,</span>
<span class="w">            </span><span class="nl">height:</span><span class="w"> </span><span class="m">40</span><span class="p">,</span>
<span class="w">            </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="c1">// å±…ä¸­å…ƒç´ </span>
<span class="w">        </span><span class="n">Container</span><span class="p">(</span>
<span class="w">          </span><span class="nl">width:</span><span class="w"> </span><span class="m">80</span><span class="p">,</span>
<span class="w">          </span><span class="nl">height:</span><span class="w"> </span><span class="m">80</span><span class="p">,</span>
<span class="w">          </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">            </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">,</span>
<span class="w">            </span><span class="nl">shape:</span><span class="w"> </span><span class="n">BoxShape</span><span class="p">.</span><span class="n">circle</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">            </span><span class="n">Icons</span><span class="p">.</span><span class="n">star</span><span class="p">,</span>
<span class="w">            </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">            </span><span class="nl">size:</span><span class="w"> </span><span class="m">40</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>Flex å’Œ Flexible - å½ˆæ€§ä½ˆå±€</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">FlexExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// Flex Widget</span>
<span class="w">        </span><span class="n">Flex</span><span class="p">(</span>
<span class="w">          </span><span class="nl">direction:</span><span class="w"> </span><span class="n">Axis</span><span class="p">.</span><span class="n">horizontal</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">              </span><span class="nl">flex:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">60</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Flex: 2&#39;</span><span class="p">)),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">              </span><span class="nl">flex:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">60</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Flex: 1&#39;</span><span class="p">)),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">              </span><span class="nl">flex:</span><span class="w"> </span><span class="m">3</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">60</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Flex: 3&#39;</span><span class="p">)),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">        </span><span class="c1">// Flexible vs Expanded</span>
<span class="w">        </span><span class="n">Row</span><span class="p">(</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Flexible</span><span class="p">(</span>
<span class="w">              </span><span class="nl">flex:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">60</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">orange</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Flexible&#39;</span><span class="p">)),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">              </span><span class="nl">flex:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">60</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">purple</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Expanded&#39;</span><span class="p">)),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>Wrap - è‡ªå‹•æ›è¡Œä½ˆå±€</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">WrapExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Wrap</span><span class="p">(</span>
<span class="w">      </span><span class="nl">spacing:</span><span class="w"> </span><span class="m">8.0</span><span class="p">,</span><span class="w"> </span><span class="c1">// æ°´å¹³é–“è·</span>
<span class="w">      </span><span class="nl">runSpacing:</span><span class="w"> </span><span class="m">4.0</span><span class="p">,</span><span class="w"> </span><span class="c1">// å‚ç›´é–“è·</span>
<span class="w">      </span><span class="nl">alignment:</span><span class="w"> </span><span class="n">WrapAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="m">15</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Chip</span><span class="p">(</span>
<span class="w">          </span><span class="nl">label:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Item </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">[</span><span class="m">100</span><span class="p">],</span>
<span class="w">          </span><span class="nl">deleteIcon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">close</span><span class="p">,</span><span class="w"> </span><span class="nl">size:</span><span class="w"> </span><span class="m">18</span><span class="p">),</span>
<span class="w">          </span><span class="nl">onDeleted:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Delete item </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">}),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>åŸºç¤ Widget</h2>
<h3>Text - æ–‡å­—é¡¯ç¤º</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">TextExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// åŸºæœ¬æ–‡å­—</span>
<span class="w">        </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Hello Flutter&#39;</span><span class="p">),</span>

<span class="w">        </span><span class="c1">// è‡ªè¨‚æ¨£å¼</span>
<span class="w">        </span><span class="n">Text</span><span class="p">(</span>
<span class="w">          </span><span class="s1">&#39;Styled Text&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">            </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span>
<span class="w">            </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">            </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">            </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">TextDecoration</span><span class="p">.</span><span class="n">underline</span><span class="p">,</span>
<span class="w">            </span><span class="nl">decorationColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">            </span><span class="nl">fontFamily:</span><span class="w"> </span><span class="s1">&#39;Roboto&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nl">letterSpacing:</span><span class="w"> </span><span class="m">2.0</span><span class="p">,</span>
<span class="w">            </span><span class="nl">height:</span><span class="w"> </span><span class="m">1.5</span><span class="p">,</span><span class="w"> </span><span class="c1">// è¡Œé«˜</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="c1">// Rich Text</span>
<span class="w">        </span><span class="n">RichText</span><span class="p">(</span>
<span class="w">          </span><span class="nl">text:</span><span class="w"> </span><span class="n">TextSpan</span><span class="p">(</span>
<span class="w">            </span><span class="nl">text:</span><span class="w"> </span><span class="s1">&#39;Hello &#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nl">style:</span><span class="w"> </span><span class="n">DefaultTextStyle</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">style</span><span class="p">,</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">TextSpan</span><span class="p">(</span>
<span class="w">                </span><span class="nl">text:</span><span class="w"> </span><span class="s1">&#39;Flutter&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">TextSpan</span><span class="p">(</span><span class="nl">text:</span><span class="w"> </span><span class="s1">&#39; World!&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="c1">// æº¢å‡ºè™•ç†</span>
<span class="w">        </span><span class="n">Container</span><span class="p">(</span>
<span class="w">          </span><span class="nl">width:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;This is a very long text that will overflow&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nl">overflow:</span><span class="w"> </span><span class="n">TextOverflow</span><span class="p">.</span><span class="n">ellipsis</span><span class="p">,</span>
<span class="w">            </span><span class="nl">maxLines:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="c1">// é¸æ“‡æ€§æ–‡å­—</span>
<span class="w">        </span><span class="n">SelectableText</span><span class="p">(</span>
<span class="w">          </span><span class="s1">&#39;This text can be selected and copied&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>Image - åœ–ç‰‡é¡¯ç¤º</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">ImageExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// ç¶²è·¯åœ–ç‰‡</span>
<span class="w">        </span><span class="n">Image</span><span class="p">.</span><span class="n">network</span><span class="p">(</span>
<span class="w">          </span><span class="s1">&#39;https://flutter.github.io/assets-for-api-docs/assets/widgets/owl.jpg&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nl">width:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">          </span><span class="nl">height:</span><span class="w"> </span><span class="m">150</span><span class="p">,</span>
<span class="w">          </span><span class="nl">fit:</span><span class="w"> </span><span class="n">BoxFit</span><span class="p">.</span><span class="n">cover</span><span class="p">,</span>
<span class="w">          </span><span class="nl">loadingBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">,</span><span class="w"> </span><span class="n">loadingProgress</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">loadingProgress</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">width:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">              </span><span class="nl">height:</span><span class="w"> </span><span class="m">150</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">CircularProgressIndicator</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">value:</span><span class="w"> </span><span class="n">loadingProgress</span><span class="p">.</span><span class="n">expectedTotalBytes</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span>
<span class="w">                      </span><span class="o">?</span><span class="w"> </span><span class="n">loadingProgress</span><span class="p">.</span><span class="n">cumulativeBytesLoaded</span><span class="w"> </span><span class="o">/</span>
<span class="w">                          </span><span class="n">loadingProgress</span><span class="p">.</span><span class="n">expectedTotalBytes</span><span class="o">!</span>
<span class="w">                      </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nl">errorBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="n">stackTrace</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">width:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">              </span><span class="nl">height:</span><span class="w"> </span><span class="m">150</span><span class="p">,</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">300</span><span class="p">],</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">error</span><span class="p">),</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>

<span class="w">        </span><span class="c1">// æœ¬åœ°è³‡æºåœ–ç‰‡</span>
<span class="w">        </span><span class="n">Image</span><span class="p">.</span><span class="n">asset</span><span class="p">(</span>
<span class="w">          </span><span class="s1">&#39;assets/images/flutter_logo.png&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nl">width:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">          </span><span class="nl">height:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>

<span class="w">        </span><span class="c1">// åœ“å½¢é ­åƒ</span>
<span class="w">        </span><span class="n">CircleAvatar</span><span class="p">(</span>
<span class="w">          </span><span class="nl">radius:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">          </span><span class="nl">backgroundImage:</span><span class="w"> </span><span class="n">NetworkImage</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;https://flutter.github.io/assets-for-api-docs/assets/widgets/owl.jpg&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Avatar&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>

<span class="w">        </span><span class="c1">// è‡ªè¨‚å½¢ç‹€åœ–ç‰‡</span>
<span class="w">        </span><span class="n">ClipRRect</span><span class="p">(</span>
<span class="w">          </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">15</span><span class="p">),</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Image</span><span class="p">.</span><span class="n">network</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;https://flutter.github.io/assets-for-api-docs/assets/widgets/owl.jpg&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nl">width:</span><span class="w"> </span><span class="m">150</span><span class="p">,</span>
<span class="w">            </span><span class="nl">height:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">            </span><span class="nl">fit:</span><span class="w"> </span><span class="n">BoxFit</span><span class="p">.</span><span class="n">cover</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>Icon - åœ–æ¨™é¡¯ç¤º</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">IconExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// Material Icons</span>
<span class="w">        </span><span class="n">Row</span><span class="p">(</span>
<span class="w">          </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceEvenly</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">home</span><span class="p">,</span><span class="w"> </span><span class="nl">size:</span><span class="w"> </span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">),</span>
<span class="w">            </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">favorite</span><span class="p">,</span><span class="w"> </span><span class="nl">size:</span><span class="w"> </span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">),</span>
<span class="w">            </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">settings</span><span class="p">,</span><span class="w"> </span><span class="nl">size:</span><span class="w"> </span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">),</span>
<span class="w">            </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">search</span><span class="p">,</span><span class="w"> </span><span class="nl">size:</span><span class="w"> </span><span class="m">30</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>

<span class="w">        </span><span class="c1">// è‡ªè¨‚åœ–æ¨™æŒ‰éˆ•</span>
<span class="w">        </span><span class="n">Row</span><span class="p">(</span>
<span class="w">          </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceEvenly</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">thumb_up</span><span class="p">),</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Like pressed&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">              </span><span class="nl">iconSize:</span><span class="w"> </span><span class="m">30</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">share</span><span class="p">),</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Share pressed&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">,</span>
<span class="w">              </span><span class="nl">iconSize:</span><span class="w"> </span><span class="m">30</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">bookmark</span><span class="p">),</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Bookmark pressed&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">orange</span><span class="p">,</span>
<span class="w">              </span><span class="nl">iconSize:</span><span class="w"> </span><span class="m">30</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>

<span class="w">        </span><span class="c1">// åœ–æ¨™èˆ‡æ–‡å­—çµ„åˆ</span>
<span class="w">        </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">cloud_download</span><span class="p">,</span><span class="w"> </span><span class="nl">size:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">            </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Download&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">16</span><span class="p">)),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>è¼¸å…¥èˆ‡äº’å‹• Widget</h2>
<h3>TextField - æ–‡å­—è¼¸å…¥</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">TextFieldExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_TextFieldExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_TextFieldExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_TextFieldExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">TextFieldExample</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">TextEditingController</span><span class="w"> </span><span class="n">_controller</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextEditingController</span><span class="p">();</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">TextEditingController</span><span class="w"> </span><span class="n">_passwordController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextEditingController</span><span class="p">();</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">_obscureText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">_inputText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">dispose</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_controller</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="n">_passwordController</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">      </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="c1">// åŸºæœ¬æ–‡å­—è¼¸å…¥æ¡†</span>
<span class="w">          </span><span class="n">TextField</span><span class="p">(</span>
<span class="w">            </span><span class="nl">controller:</span><span class="w"> </span><span class="n">_controller</span><span class="p">,</span>
<span class="w">            </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">              </span><span class="nl">labelText:</span><span class="w"> </span><span class="s1">&#39;Username&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">hintText:</span><span class="w"> </span><span class="s1">&#39;Enter your username&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">prefixIcon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">person</span><span class="p">),</span>
<span class="w">              </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="nl">onChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_inputText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="w">              </span><span class="p">});</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">          </span><span class="c1">// å¯†ç¢¼è¼¸å…¥æ¡†</span>
<span class="w">          </span><span class="n">TextField</span><span class="p">(</span>
<span class="w">            </span><span class="nl">controller:</span><span class="w"> </span><span class="n">_passwordController</span><span class="p">,</span>
<span class="w">            </span><span class="nl">obscureText:</span><span class="w"> </span><span class="n">_obscureText</span><span class="p">,</span>
<span class="w">            </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">              </span><span class="nl">labelText:</span><span class="w"> </span><span class="s1">&#39;Password&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">hintText:</span><span class="w"> </span><span class="s1">&#39;Enter your password&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">prefixIcon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">lock</span><span class="p">),</span>
<span class="w">              </span><span class="nl">suffixIcon:</span><span class="w"> </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">                </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">_obscureText</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Icons</span><span class="p">.</span><span class="n">visibility</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Icons</span><span class="p">.</span><span class="n">visibility_off</span><span class="p">),</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">_obscureText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">_obscureText</span><span class="p">;</span>
<span class="w">                  </span><span class="p">});</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">          </span><span class="c1">// å¤šè¡Œæ–‡å­—è¼¸å…¥æ¡†</span>
<span class="w">          </span><span class="n">TextField</span><span class="p">(</span>
<span class="w">            </span><span class="nl">maxLines:</span><span class="w"> </span><span class="m">4</span><span class="p">,</span>
<span class="w">            </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">              </span><span class="nl">labelText:</span><span class="w"> </span><span class="s1">&#39;Description&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">hintText:</span><span class="w"> </span><span class="s1">&#39;Enter description...&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">alignLabelWithHint:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">              </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">          </span><span class="c1">// æ•¸å­—è¼¸å…¥æ¡†</span>
<span class="w">          </span><span class="n">TextField</span><span class="p">(</span>
<span class="w">            </span><span class="nl">keyboardType:</span><span class="w"> </span><span class="n">TextInputType</span><span class="p">.</span><span class="n">number</span><span class="p">,</span>
<span class="w">            </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">              </span><span class="nl">labelText:</span><span class="w"> </span><span class="s1">&#39;Age&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">prefixIcon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">calendar_today</span><span class="p">),</span>
<span class="w">              </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">          </span><span class="c1">// é¡¯ç¤ºè¼¸å…¥çš„æ–‡å­—</span>
<span class="w">          </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Input: </span><span class="si">$</span><span class="n">_inputText</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>Form - è¡¨å–®é©—è­‰</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">FormExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_FormExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_FormExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_FormExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">FormExample</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">_formKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">FormState</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">_emailController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextEditingController</span><span class="p">();</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">_nameController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextEditingController</span><span class="p">();</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">      </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Form</span><span class="p">(</span>
<span class="w">        </span><span class="nl">key:</span><span class="w"> </span><span class="n">_formKey</span><span class="p">,</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="c1">// å§“åè¼¸å…¥</span>
<span class="w">            </span><span class="n">TextFormField</span><span class="p">(</span>
<span class="w">              </span><span class="nl">controller:</span><span class="w"> </span><span class="n">_nameController</span><span class="p">,</span>
<span class="w">              </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">                </span><span class="nl">labelText:</span><span class="w"> </span><span class="s1">&#39;Full Name&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nl">prefixIcon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">person</span><span class="p">),</span>
<span class="w">                </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="nl">validator:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;Please enter your name&#39;</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;Name must be at least 2 characters&#39;</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">            </span><span class="c1">// é›»å­éƒµä»¶è¼¸å…¥</span>
<span class="w">            </span><span class="n">TextFormField</span><span class="p">(</span>
<span class="w">              </span><span class="nl">controller:</span><span class="w"> </span><span class="n">_emailController</span><span class="p">,</span>
<span class="w">              </span><span class="nl">keyboardType:</span><span class="w"> </span><span class="n">TextInputType</span><span class="p">.</span><span class="n">emailAddress</span><span class="p">,</span>
<span class="w">              </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">                </span><span class="nl">labelText:</span><span class="w"> </span><span class="s1">&#39;Email&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nl">prefixIcon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">email</span><span class="p">),</span>
<span class="w">                </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="nl">validator:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;Please enter your email&#39;</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">RegExp</span><span class="p">(</span><span class="s1">r&#39;^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}).hasMatch(value)) {</span>
<span class="s1">                  return &#39;</span><span class="n">Please</span><span class="w"> </span><span class="n">enter</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">email</span><span class="s1">&#39;;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>

<span class="w">            </span><span class="c1">// æäº¤æŒ‰éˆ•</span>
<span class="w">            </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_formKey</span><span class="p">.</span><span class="n">currentState</span><span class="o">!</span><span class="p">.</span><span class="n">validate</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="c1">// è¡¨å–®é©—è­‰é€šé</span>
<span class="w">                  </span><span class="n">ScaffoldMessenger</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">showSnackBar</span><span class="p">(</span>
<span class="w">                    </span><span class="n">SnackBar</span><span class="p">(</span><span class="nl">content:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Form submitted successfully!&#39;</span><span class="p">)),</span>
<span class="w">                  </span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Submit&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">                </span><span class="nl">minimumSize:</span><span class="w"> </span><span class="n">Size</span><span class="p">(</span><span class="kt">double</span><span class="p">.</span><span class="n">infinity</span><span class="p">,</span><span class="w"> </span><span class="m">50</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>Button - æŒ‰éˆ•ç³»åˆ—</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">ButtonExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">      </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">stretch</span><span class="p">,</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="c1">// ElevatedButton - å‡¸èµ·æŒ‰éˆ•</span>
<span class="w">          </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;ElevatedButton pressed&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Elevated Button&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">              </span><span class="nl">primary:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">              </span><span class="nl">onPrimary:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">              </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">vertical:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">              </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span>
<span class="w">                </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="nl">elevation:</span><span class="w"> </span><span class="m">5</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>

<span class="w">          </span><span class="c1">// OutlinedButton - è¼ªå»“æŒ‰éˆ•</span>
<span class="w">          </span><span class="n">OutlinedButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;OutlinedButton pressed&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Outlined Button&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="nl">style:</span><span class="w"> </span><span class="n">OutlinedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">              </span><span class="nl">primary:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">              </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">vertical:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">              </span><span class="nl">side:</span><span class="w"> </span><span class="n">BorderSide</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span><span class="w"> </span><span class="nl">width:</span><span class="w"> </span><span class="m">2</span><span class="p">),</span>
<span class="w">              </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span>
<span class="w">                </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>

<span class="w">          </span><span class="c1">// TextButton - æ–‡å­—æŒ‰éˆ•</span>
<span class="w">          </span><span class="n">TextButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;TextButton pressed&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Text Button&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">              </span><span class="nl">primary:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">              </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">vertical:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>

<span class="w">          </span><span class="c1">// FloatingActionButton - æµ®å‹•å‹•ä½œæŒ‰éˆ•</span>
<span class="w">          </span><span class="n">FloatingActionButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;FAB pressed&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">add</span><span class="p">),</span>
<span class="w">            </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>

<span class="w">          </span><span class="c1">// IconButton - åœ–æ¨™æŒ‰éˆ•</span>
<span class="w">          </span><span class="n">Row</span><span class="p">(</span>
<span class="w">            </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceEvenly</span><span class="p">,</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Like pressed&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">favorite</span><span class="p">),</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">                </span><span class="nl">iconSize:</span><span class="w"> </span><span class="m">30</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Share pressed&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">share</span><span class="p">),</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">                </span><span class="nl">iconSize:</span><span class="w"> </span><span class="m">30</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;More pressed&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">more_vert</span><span class="p">),</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">,</span>
<span class="w">                </span><span class="nl">iconSize:</span><span class="w"> </span><span class="m">30</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>

<span class="w">          </span><span class="c1">// è‡ªè¨‚æŒ‰éˆ•</span>
<span class="w">          </span><span class="n">Container</span><span class="p">(</span>
<span class="w">            </span><span class="nl">height:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Material</span><span class="p">(</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">gradient</span><span class="p">,</span>
<span class="w">              </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">25</span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">InkWell</span><span class="p">(</span>
<span class="w">                </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">25</span><span class="p">),</span>
<span class="w">                </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Custom button pressed&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">gradient:</span><span class="w"> </span><span class="n">LinearGradient</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">colors:</span><span class="w"> </span><span class="p">[</span><span class="n">Colors</span><span class="p">.</span><span class="n">purple</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">],</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">25</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                      </span><span class="s1">&#39;Custom Gradient Button&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>é¸æ“‡å™¨ Widget</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">SelectionExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_SelectionExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_SelectionExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_SelectionExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">SelectionExample</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">_checkboxValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">_switchValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">_radioValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">;</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">_sliderValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">50.0</span><span class="p">;</span>
<span class="w">  </span><span class="n">RangeValues</span><span class="w"> </span><span class="n">_rangeValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RangeValues</span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="m">80</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">      </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="c1">// Checkbox</span>
<span class="w">          </span><span class="n">CheckboxListTile</span><span class="p">(</span>
<span class="w">            </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Accept Terms and Conditions&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="nl">value:</span><span class="w"> </span><span class="n">_checkboxValue</span><span class="p">,</span>
<span class="w">            </span><span class="nl">onChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_checkboxValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="o">!</span><span class="p">;</span>
<span class="w">              </span><span class="p">});</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nl">controlAffinity:</span><span class="w"> </span><span class="n">ListTileControlAffinity</span><span class="p">.</span><span class="n">leading</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="c1">// Switch</span>
<span class="w">          </span><span class="n">SwitchListTile</span><span class="p">(</span>
<span class="w">            </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Enable Notifications&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="nl">value:</span><span class="w"> </span><span class="n">_switchValue</span><span class="p">,</span>
<span class="w">            </span><span class="nl">onChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_switchValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="w">              </span><span class="p">});</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="c1">// Radio Buttons</span>
<span class="w">          </span><span class="n">Column</span><span class="p">(</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Select Gender:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">16</span><span class="p">)),</span>
<span class="w">              </span><span class="n">RadioListTile</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Male&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">value:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">                </span><span class="nl">groupValue:</span><span class="w"> </span><span class="n">_radioValue</span><span class="p">,</span>
<span class="w">                </span><span class="nl">onChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">_radioValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="o">!</span><span class="p">;</span>
<span class="w">                  </span><span class="p">});</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">RadioListTile</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Female&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">value:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">                </span><span class="nl">groupValue:</span><span class="w"> </span><span class="n">_radioValue</span><span class="p">,</span>
<span class="w">                </span><span class="nl">onChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">_radioValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="o">!</span><span class="p">;</span>
<span class="w">                  </span><span class="p">});</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="c1">// Slider</span>
<span class="w">          </span><span class="n">Column</span><span class="p">(</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Age: </span><span class="si">${</span><span class="n">_sliderValue</span><span class="p">.</span><span class="n">round</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="n">Slider</span><span class="p">(</span>
<span class="w">                </span><span class="nl">value:</span><span class="w"> </span><span class="n">_sliderValue</span><span class="p">,</span>
<span class="w">                </span><span class="nl">min:</span><span class="w"> </span><span class="m">0</span><span class="p">,</span>
<span class="w">                </span><span class="nl">max:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">                </span><span class="nl">divisions:</span><span class="w"> </span><span class="m">10</span><span class="p">,</span>
<span class="w">                </span><span class="nl">label:</span><span class="w"> </span><span class="n">_sliderValue</span><span class="p">.</span><span class="n">round</span><span class="p">().</span><span class="n">toString</span><span class="p">(),</span>
<span class="w">                </span><span class="nl">onChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">_sliderValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="w">                  </span><span class="p">});</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="c1">// Range Slider</span>
<span class="w">          </span><span class="n">Column</span><span class="p">(</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Range: </span><span class="si">${</span><span class="n">_rangeValues</span><span class="p">.</span><span class="n">start</span><span class="p">.</span><span class="n">round</span><span class="p">()</span><span class="si">}</span><span class="s1"> - </span><span class="si">${</span><span class="n">_rangeValues</span><span class="p">.</span><span class="n">end</span><span class="p">.</span><span class="n">round</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="n">RangeSlider</span><span class="p">(</span>
<span class="w">                </span><span class="nl">values:</span><span class="w"> </span><span class="n">_rangeValues</span><span class="p">,</span>
<span class="w">                </span><span class="nl">min:</span><span class="w"> </span><span class="m">0</span><span class="p">,</span>
<span class="w">                </span><span class="nl">max:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">                </span><span class="nl">divisions:</span><span class="w"> </span><span class="m">10</span><span class="p">,</span>
<span class="w">                </span><span class="nl">labels:</span><span class="w"> </span><span class="n">RangeLabels</span><span class="p">(</span>
<span class="w">                  </span><span class="n">_rangeValues</span><span class="p">.</span><span class="n">start</span><span class="p">.</span><span class="n">round</span><span class="p">().</span><span class="n">toString</span><span class="p">(),</span>
<span class="w">                  </span><span class="n">_rangeValues</span><span class="p">.</span><span class="n">end</span><span class="p">.</span><span class="n">round</span><span class="p">().</span><span class="n">toString</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="nl">onChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">values</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">_rangeValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">values</span><span class="p">;</span>
<span class="w">                  </span><span class="p">});</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>GestureDetector - æ‰‹å‹¢åµæ¸¬</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">GestureExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_GestureExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_GestureExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_GestureExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">GestureExample</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">_gestureText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Tap, drag, or pinch me!&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="n">Offset</span><span class="w"> </span><span class="n">_position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Offset</span><span class="p">(</span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Stack</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// åŸºæœ¬æ‰‹å‹¢åµæ¸¬</span>
<span class="w">        </span><span class="n">Center</span><span class="p">(</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">GestureDetector</span><span class="p">(</span>
<span class="w">            </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_gestureText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Tapped!&#39;</span><span class="p">;</span>
<span class="w">              </span><span class="p">});</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nl">onDoubleTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_gestureText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Double Tapped!&#39;</span><span class="p">;</span>
<span class="w">              </span><span class="p">});</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nl">onLongPress:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_gestureText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Long Pressed!&#39;</span><span class="p">;</span>
<span class="w">              </span><span class="p">});</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nl">onPanUpdate:</span><span class="w"> </span><span class="p">(</span><span class="n">details</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_gestureText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Dragging...&#39;</span><span class="p">;</span>
<span class="w">              </span><span class="p">});</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nl">onPanEnd:</span><span class="w"> </span><span class="p">(</span><span class="n">details</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_gestureText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Drag ended&#39;</span><span class="p">;</span>
<span class="w">              </span><span class="p">});</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">width:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">              </span><span class="nl">height:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">              </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">                </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">10</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                  </span><span class="n">_gestureText</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="nl">textAlign:</span><span class="w"> </span><span class="n">TextAlign</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="c1">// å¯æ‹–æ‹½çš„å…ƒç´ </span>
<span class="w">        </span><span class="n">Positioned</span><span class="p">(</span>
<span class="w">          </span><span class="nl">left:</span><span class="w"> </span><span class="n">_position</span><span class="p">.</span><span class="n">dx</span><span class="p">,</span>
<span class="w">          </span><span class="nl">top:</span><span class="w"> </span><span class="n">_position</span><span class="p">.</span><span class="n">dy</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">GestureDetector</span><span class="p">(</span>
<span class="w">            </span><span class="nl">onPanUpdate:</span><span class="w"> </span><span class="p">(</span><span class="n">details</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_position</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">details</span><span class="p">.</span><span class="n">delta</span><span class="p">;</span>
<span class="w">              </span><span class="p">});</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">width:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">              </span><span class="nl">height:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">              </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">                </span><span class="nl">shape:</span><span class="w"> </span><span class="n">BoxShape</span><span class="p">.</span><span class="n">circle</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">                </span><span class="n">Icons</span><span class="p">.</span><span class="n">drag_indicator</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>Material Design Widget</h2>
<h3>Scaffold - æ‡‰ç”¨ç¨‹å¼éª¨æ¶</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">ScaffoldExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_ScaffoldExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_ScaffoldExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_ScaffoldExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">ScaffoldExample</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">_selectedIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="c1">// æ‡‰ç”¨ç¨‹å¼æ¬„</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Flutter App&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">        </span><span class="nl">elevation:</span><span class="w"> </span><span class="m">4</span><span class="p">,</span>
<span class="w">        </span><span class="nl">actions:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">search</span><span class="p">),</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Search pressed&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">more_vert</span><span class="p">),</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;More pressed&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>

<span class="w">      </span><span class="c1">// ä¸»è¦å…§å®¹</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">IndexedStack</span><span class="p">(</span>
<span class="w">        </span><span class="nl">index:</span><span class="w"> </span><span class="n">_selectedIndex</span><span class="p">,</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Home Page&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">))),</span>
<span class="w">          </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Search Page&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">))),</span>
<span class="w">          </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Profile Page&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">))),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>

<span class="w">      </span><span class="c1">// æŠ½å±œ</span>
<span class="w">      </span><span class="nl">drawer:</span><span class="w"> </span><span class="n">Drawer</span><span class="p">(</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListView</span><span class="p">(</span>
<span class="w">          </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">zero</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">DrawerHeader</span><span class="p">(</span>
<span class="w">              </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">                </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="n">CircleAvatar</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">radius:</span><span class="w"> </span><span class="m">30</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">backgroundImage:</span><span class="w"> </span><span class="n">NetworkImage</span><span class="p">(</span>
<span class="w">                      </span><span class="s1">&#39;https://flutter.github.io/assets-for-api-docs/assets/widgets/owl.jpg&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">10</span><span class="p">),</span>
<span class="w">                  </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                    </span><span class="s1">&#39;John Doe&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span><span class="w"> </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                    </span><span class="s1">&#39;john.doe@example.com&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white70</span><span class="p">,</span><span class="w"> </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">14</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">],</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">              </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">home</span><span class="p">),</span>
<span class="w">              </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Home&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
<span class="w">                </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="n">_selectedIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">                </span><span class="p">});</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">              </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">settings</span><span class="p">),</span>
<span class="w">              </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Settings&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">              </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">logout</span><span class="p">),</span>
<span class="w">              </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Logout&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>

<span class="w">      </span><span class="c1">// åº•éƒ¨å°èˆªæ¬„</span>
<span class="w">      </span><span class="nl">bottomNavigationBar:</span><span class="w"> </span><span class="n">BottomNavigationBar</span><span class="p">(</span>
<span class="w">        </span><span class="nl">currentIndex:</span><span class="w"> </span><span class="n">_selectedIndex</span><span class="p">,</span>
<span class="w">        </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_selectedIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="w">          </span><span class="p">});</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nl">items:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">BottomNavigationBarItem</span><span class="p">(</span>
<span class="w">            </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">home</span><span class="p">),</span>
<span class="w">            </span><span class="nl">label:</span><span class="w"> </span><span class="s1">&#39;Home&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="n">BottomNavigationBarItem</span><span class="p">(</span>
<span class="w">            </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">search</span><span class="p">),</span>
<span class="w">            </span><span class="nl">label:</span><span class="w"> </span><span class="s1">&#39;Search&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="n">BottomNavigationBarItem</span><span class="p">(</span>
<span class="w">            </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">person</span><span class="p">),</span>
<span class="w">            </span><span class="nl">label:</span><span class="w"> </span><span class="s1">&#39;Profile&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>

<span class="w">      </span><span class="c1">// æµ®å‹•å‹•ä½œæŒ‰éˆ•</span>
<span class="w">      </span><span class="nl">floatingActionButton:</span><span class="w"> </span><span class="n">FloatingActionButton</span><span class="p">(</span>
<span class="w">        </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">ScaffoldMessenger</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">showSnackBar</span><span class="p">(</span>
<span class="w">            </span><span class="n">SnackBar</span><span class="p">(</span>
<span class="w">              </span><span class="nl">content:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;FAB pressed!&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="nl">action:</span><span class="w"> </span><span class="n">SnackBarAction</span><span class="p">(</span>
<span class="w">                </span><span class="nl">label:</span><span class="w"> </span><span class="s1">&#39;Undo&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Undo pressed&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">add</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>

<span class="w">      </span><span class="c1">// æµ®å‹•æŒ‰éˆ•ä½ç½®</span>
<span class="w">      </span><span class="nl">floatingActionButtonLocation:</span><span class="w"> </span><span class="n">FloatingActionButtonLocation</span><span class="p">.</span><span class="n">centerDocked</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>Card - å¡ç‰‡</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">CardExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ListView</span><span class="p">(</span>
<span class="w">      </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// åŸºæœ¬å¡ç‰‡</span>
<span class="w">        </span><span class="n">Card</span><span class="p">(</span>
<span class="w">          </span><span class="nl">elevation:</span><span class="w"> </span><span class="m">4</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">            </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">              </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">              </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                  </span><span class="s1">&#39;Basic Card&#39;</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;This is a basic card with some content.&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">        </span><span class="c1">// åœ–ç‰‡å¡ç‰‡</span>
<span class="w">        </span><span class="n">Card</span><span class="p">(</span>
<span class="w">          </span><span class="nl">elevation:</span><span class="w"> </span><span class="m">6</span><span class="p">,</span>
<span class="w">          </span><span class="nl">clipBehavior:</span><span class="w"> </span><span class="n">Clip</span><span class="p">.</span><span class="n">antiAlias</span><span class="p">,</span>
<span class="w">          </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span>
<span class="w">            </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">12</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">Image</span><span class="p">.</span><span class="n">network</span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;https://flutter.github.io/assets-for-api-docs/assets/widgets/owl.jpg&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">                </span><span class="nl">width:</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">infinity</span><span class="p">,</span>
<span class="w">                </span><span class="nl">fit:</span><span class="w"> </span><span class="n">BoxFit</span><span class="p">.</span><span class="n">cover</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">                </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                      </span><span class="s1">&#39;Image Card&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">                    </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                      </span><span class="s1">&#39;This card contains an image with some descriptive text below it.&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">600</span><span class="p">]),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">                    </span><span class="n">Row</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceBetween</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="n">TextButton</span><span class="p">(</span>
<span class="w">                          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Share pressed&#39;</span><span class="p">),</span>
<span class="w">                          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;SHARE&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                        </span><span class="n">TextButton</span><span class="p">(</span>
<span class="w">                          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Learn More pressed&#39;</span><span class="p">),</span>
<span class="w">                          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;LEARN MORE&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                      </span><span class="p">],</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">],</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">        </span><span class="c1">// åˆ—è¡¨å¡ç‰‡</span>
<span class="w">        </span><span class="n">Card</span><span class="p">(</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">            </span><span class="nl">leading:</span><span class="w"> </span><span class="n">CircleAvatar</span><span class="p">(</span>
<span class="w">              </span><span class="nl">backgroundImage:</span><span class="w"> </span><span class="n">NetworkImage</span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;https://flutter.github.io/assets-for-api-docs/assets/widgets/owl.jpg&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;List Tile Card&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="nl">subtitle:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;This is a card with a list tile&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">more_vert</span><span class="p">),</span>
<span class="w">            </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Card tapped&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>Dialog - å°è©±æ¡†</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">DialogExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="c1">// è­¦å‘Šå°è©±æ¡†</span>
<span class="w">          </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">showDialog</span><span class="p">(</span>
<span class="w">                </span><span class="nl">context:</span><span class="w"> </span><span class="n">context</span><span class="p">,</span>
<span class="w">                </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">AlertDialog</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Warning&#39;</span><span class="p">),</span>
<span class="w">                  </span><span class="nl">content:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Are you sure you want to delete this item?&#39;</span><span class="p">),</span>
<span class="w">                  </span><span class="nl">actions:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="n">TextButton</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">),</span>
<span class="w">                      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Cancel&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="n">TextButton</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
<span class="w">                        </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Item deleted&#39;</span><span class="p">);</span>
<span class="w">                      </span><span class="p">},</span>
<span class="w">                      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Delete&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">],</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Show Alert Dialog&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">          </span><span class="c1">// è‡ªè¨‚å°è©±æ¡†</span>
<span class="w">          </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">showDialog</span><span class="p">(</span>
<span class="w">                </span><span class="nl">context:</span><span class="w"> </span><span class="n">context</span><span class="p">,</span>
<span class="w">                </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Dialog</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">12</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">20</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">height:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">                          </span><span class="n">Icons</span><span class="p">.</span><span class="n">check_circle</span><span class="p">,</span>
<span class="w">                          </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">,</span>
<span class="w">                          </span><span class="nl">size:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">                        </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                          </span><span class="s1">&#39;Success!&#39;</span><span class="p">,</span>
<span class="w">                          </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">                        </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Operation completed successfully.&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">                        </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">),</span>
<span class="w">                          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;OK&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                      </span><span class="p">],</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Show Custom Dialog&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">          </span><span class="c1">// åº•éƒ¨è¡¨å–®</span>
<span class="w">          </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">showModalBottomSheet</span><span class="p">(</span>
<span class="w">                </span><span class="nl">context:</span><span class="w"> </span><span class="n">context</span><span class="p">,</span>
<span class="w">                </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">vertical</span><span class="p">(</span><span class="nl">top:</span><span class="w"> </span><span class="n">Radius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">20</span><span class="p">)),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">20</span><span class="p">),</span>
<span class="w">                  </span><span class="nl">height:</span><span class="w"> </span><span class="m">300</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                      </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                        </span><span class="s1">&#39;Bottom Sheet&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                      </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">                      </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">photo</span><span class="p">),</span>
<span class="w">                        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Gallery&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                          </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
<span class="w">                          </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Gallery selected&#39;</span><span class="p">);</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                      </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">camera_alt</span><span class="p">),</span>
<span class="w">                        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Camera&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                          </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
<span class="w">                          </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Camera selected&#39;</span><span class="p">);</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                      </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">file_copy</span><span class="p">),</span>
<span class="w">                        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;File&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                          </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
<span class="w">                          </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;File selected&#39;</span><span class="p">);</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Show Bottom Sheet&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>æ»¾å‹• Widget</h2>
<h3>ListView - åˆ—è¡¨è¦–åœ–</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">ListViewExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;Item </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// åŸºæœ¬åˆ—è¡¨</span>
<span class="w">        </span><span class="n">Container</span><span class="p">(</span>
<span class="w">          </span><span class="nl">height:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListView</span><span class="p">(</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">person</span><span class="p">),</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;John Doe&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">subtitle:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Software Developer&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">arrow_forward_ios</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">person</span><span class="p">),</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Jane Smith&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">subtitle:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Designer&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">arrow_forward_ios</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">person</span><span class="p">),</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Bob Johnson&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">subtitle:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Project Manager&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">arrow_forward_ios</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">Divider</span><span class="p">(),</span>

<span class="w">        </span><span class="c1">// ListView.builder - å‹•æ…‹ç”Ÿæˆ</span>
<span class="w">        </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
<span class="w">            </span><span class="nl">itemCount:</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="n">length</span><span class="p">,</span>
<span class="w">            </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="k">return</span><span class="w"> </span><span class="n">Card</span><span class="p">(</span>
<span class="w">                </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span><span class="w"> </span><span class="nl">vertical:</span><span class="w"> </span><span class="m">4</span><span class="p">),</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">leading:</span><span class="w"> </span><span class="n">CircleAvatar</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">${</span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]),</span>
<span class="w">                  </span><span class="nl">subtitle:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Description for </span><span class="si">${</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                  </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">delete</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Delete </span><span class="si">${</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Tapped </span><span class="si">${</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>GridView - ç¶²æ ¼è¦–åœ–</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">GridViewExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// å›ºå®šæ•¸é‡çš„ç¶²æ ¼</span>
<span class="w">        </span><span class="n">Container</span><span class="p">(</span>
<span class="w">          </span><span class="nl">height:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">GridView</span><span class="p">.</span><span class="n">count</span><span class="p">(</span>
<span class="w">            </span><span class="nl">crossAxisCount:</span><span class="w"> </span><span class="m">3</span><span class="p">,</span>
<span class="w">            </span><span class="nl">crossAxisSpacing:</span><span class="w"> </span><span class="m">4</span><span class="p">,</span>
<span class="w">            </span><span class="nl">mainAxisSpacing:</span><span class="w"> </span><span class="m">4</span><span class="p">,</span>
<span class="w">            </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="m">9</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">[(</span><span class="n">index</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="m">9</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="p">],</span>
<span class="w">                  </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                    </span><span class="s1">&#39;</span><span class="si">${</span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">);</span>
<span class="w">            </span><span class="p">}),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">Divider</span><span class="p">(),</span>

<span class="w">        </span><span class="c1">// å‹•æ…‹ç¶²æ ¼</span>
<span class="w">        </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">GridView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
<span class="w">            </span><span class="nl">gridDelegate:</span><span class="w"> </span><span class="n">SliverGridDelegateWithFixedCrossAxisCount</span><span class="p">(</span>
<span class="w">              </span><span class="nl">crossAxisCount:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">              </span><span class="nl">crossAxisSpacing:</span><span class="w"> </span><span class="m">8</span><span class="p">,</span>
<span class="w">              </span><span class="nl">mainAxisSpacing:</span><span class="w"> </span><span class="m">8</span><span class="p">,</span>
<span class="w">              </span><span class="nl">childAspectRatio:</span><span class="w"> </span><span class="m">1.5</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">            </span><span class="nl">itemCount:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">            </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="k">return</span><span class="w"> </span><span class="n">Card</span><span class="p">(</span>
<span class="w">                </span><span class="nl">elevation:</span><span class="w"> </span><span class="m">4</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">                      </span><span class="n">Icons</span><span class="p">.</span><span class="n">image</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">size:</span><span class="w"> </span><span class="m">40</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">,</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">                    </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                      </span><span class="s1">&#39;Item </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                      </span><span class="s1">&#39;Description&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">],</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>PageView - é é¢è¦–åœ–</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">PageViewExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_PageViewExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_PageViewExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_PageViewExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">PageViewExample</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">PageController</span><span class="w"> </span><span class="n">_pageController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PageController</span><span class="p">();</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">_currentPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>

<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Color</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">    </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">,</span>
<span class="w">    </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">    </span><span class="n">Colors</span><span class="p">.</span><span class="n">orange</span><span class="p">,</span>
<span class="w">    </span><span class="n">Colors</span><span class="p">.</span><span class="n">purple</span><span class="p">,</span>
<span class="w">  </span><span class="p">];</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// é é¢æŒ‡ç¤ºå™¨</span>
<span class="w">        </span><span class="n">Container</span><span class="p">(</span>
<span class="w">          </span><span class="nl">height:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">            </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="n">_colors</span><span class="p">.</span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">4</span><span class="p">),</span>
<span class="w">                </span><span class="nl">width:</span><span class="w"> </span><span class="m">12</span><span class="p">,</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">12</span><span class="p">,</span>
<span class="w">                </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">shape:</span><span class="w"> </span><span class="n">BoxShape</span><span class="p">.</span><span class="n">circle</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">color:</span><span class="w"> </span><span class="n">_currentPage</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">);</span>
<span class="w">            </span><span class="p">}),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="c1">// é é¢è¦–åœ–</span>
<span class="w">        </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">PageView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
<span class="w">            </span><span class="nl">controller:</span><span class="w"> </span><span class="n">_pageController</span><span class="p">,</span>
<span class="w">            </span><span class="nl">itemCount:</span><span class="w"> </span><span class="n">_colors</span><span class="p">.</span><span class="n">length</span><span class="p">,</span>
<span class="w">            </span><span class="nl">onPageChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_currentPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>
<span class="w">              </span><span class="p">});</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">                </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">color:</span><span class="w"> </span><span class="n">_colors</span><span class="p">[</span><span class="n">index</span><span class="p">],</span>
<span class="w">                  </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                      </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">                        </span><span class="n">Icons</span><span class="p">.</span><span class="n">star</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">size:</span><span class="w"> </span><span class="m">80</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                      </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">                      </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                        </span><span class="s1">&#39;Page </span><span class="si">${</span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                          </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                          </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span>
<span class="w">                          </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="c1">// å°èˆªæŒ‰éˆ•</span>
<span class="w">        </span><span class="n">Row</span><span class="p">(</span>
<span class="w">          </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceEvenly</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_currentPage</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span>
<span class="w">                  </span><span class="o">?</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                      </span><span class="n">_pageController</span><span class="p">.</span><span class="n">previousPage</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">duration:</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">milliseconds:</span><span class="w"> </span><span class="m">300</span><span class="p">),</span>
<span class="w">                        </span><span class="nl">curve:</span><span class="w"> </span><span class="n">Curves</span><span class="p">.</span><span class="n">easeInOut</span><span class="p">,</span>
<span class="w">                      </span><span class="p">);</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                  </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Previous&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_currentPage</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">_colors</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span>
<span class="w">                  </span><span class="o">?</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                      </span><span class="n">_pageController</span><span class="p">.</span><span class="n">nextPage</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">duration:</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">milliseconds:</span><span class="w"> </span><span class="m">300</span><span class="p">),</span>
<span class="w">                        </span><span class="nl">curve:</span><span class="w"> </span><span class="n">Curves</span><span class="p">.</span><span class="n">easeInOut</span><span class="p">,</span>
<span class="w">                      </span><span class="p">);</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                  </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Next&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>å‹•ç•« Widget</h2>
<h3>AnimatedContainer - å‹•ç•«å®¹å™¨</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">AnimatedContainerExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_AnimatedContainerExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_AnimatedContainerExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_AnimatedContainerExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">AnimatedContainerExample</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">_width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">;</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">;</span>
<span class="w">  </span><span class="n">Color</span><span class="w"> </span><span class="n">_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">;</span>
<span class="w">  </span><span class="n">BorderRadius</span><span class="w"> </span><span class="n">_borderRadius</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8</span><span class="p">);</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_animateContainer</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">random</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Random</span><span class="p">();</span>
<span class="w">      </span><span class="n">_width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="p">.</span><span class="n">nextDouble</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">200</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">50</span><span class="p">;</span>
<span class="w">      </span><span class="n">_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="p">.</span><span class="n">nextDouble</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">200</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">50</span><span class="p">;</span>
<span class="w">      </span><span class="n">_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="n">fromRGBO</span><span class="p">(</span>
<span class="w">        </span><span class="n">random</span><span class="p">.</span><span class="n">nextInt</span><span class="p">(</span><span class="m">256</span><span class="p">),</span>
<span class="w">        </span><span class="n">random</span><span class="p">.</span><span class="n">nextInt</span><span class="p">(</span><span class="m">256</span><span class="p">),</span>
<span class="w">        </span><span class="n">random</span><span class="p">.</span><span class="n">nextInt</span><span class="p">(</span><span class="m">256</span><span class="p">),</span>
<span class="w">        </span><span class="m">1</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">      </span><span class="n">_borderRadius</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="n">nextDouble</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">50</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">AnimatedContainer</span><span class="p">(</span>
<span class="w">          </span><span class="nl">duration:</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">1</span><span class="p">),</span>
<span class="w">          </span><span class="nl">curve:</span><span class="w"> </span><span class="n">Curves</span><span class="p">.</span><span class="n">elasticOut</span><span class="p">,</span>
<span class="w">          </span><span class="nl">width:</span><span class="w"> </span><span class="n">_width</span><span class="p">,</span>
<span class="w">          </span><span class="nl">height:</span><span class="w"> </span><span class="n">_height</span><span class="p">,</span>
<span class="w">          </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">            </span><span class="nl">color:</span><span class="w"> </span><span class="n">_color</span><span class="p">,</span>
<span class="w">            </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">_borderRadius</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;Animated&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">32</span><span class="p">),</span>

<span class="w">        </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_animateContainer</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Animate Container&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>Hero - è‹±é›„å‹•ç•«</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">HeroExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">GridView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
<span class="w">      </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">      </span><span class="nl">gridDelegate:</span><span class="w"> </span><span class="n">SliverGridDelegateWithFixedCrossAxisCount</span><span class="p">(</span>
<span class="w">        </span><span class="nl">crossAxisCount:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">        </span><span class="nl">crossAxisSpacing:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span>
<span class="w">        </span><span class="nl">mainAxisSpacing:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">itemCount:</span><span class="w"> </span><span class="m">10</span><span class="p">,</span>
<span class="w">      </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">GestureDetector</span><span class="p">(</span>
<span class="w">          </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Navigator</span><span class="p">.</span><span class="n">push</span><span class="p">(</span>
<span class="w">              </span><span class="n">context</span><span class="p">,</span>
<span class="w">              </span><span class="n">MaterialPageRoute</span><span class="p">(</span>
<span class="w">                </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">HeroDetailPage</span><span class="p">(</span><span class="nl">index:</span><span class="w"> </span><span class="n">index</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Hero</span><span class="p">(</span>
<span class="w">            </span><span class="nl">tag:</span><span class="w"> </span><span class="s1">&#39;hero-</span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">[(</span><span class="n">index</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="m">9</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="p">],</span>
<span class="w">                </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                  </span><span class="s1">&#39;Item </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HeroDetailPage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">HeroDetailPage</span><span class="p">({</span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">index</span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Detail </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Hero</span><span class="p">(</span>
<span class="w">          </span><span class="nl">tag:</span><span class="w"> </span><span class="s1">&#39;hero-</span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">            </span><span class="nl">width:</span><span class="w"> </span><span class="m">300</span><span class="p">,</span>
<span class="w">            </span><span class="nl">height:</span><span class="w"> </span><span class="m">300</span><span class="p">,</span>
<span class="w">            </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">[(</span><span class="n">index</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="m">9</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="p">],</span>
<span class="w">              </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;Detail </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>AnimationController - è‡ªè¨‚å‹•ç•«</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">CustomAnimationExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_CustomAnimationExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_CustomAnimationExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_CustomAnimationExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">CustomAnimationExample</span><span class="o">&gt;</span>
<span class="w">    </span><span class="kd">with</span><span class="w"> </span><span class="n">TickerProviderStateMixin</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">AnimationController</span><span class="w"> </span><span class="n">_rotationController</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">AnimationController</span><span class="w"> </span><span class="n">_scaleController</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">Animation</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_rotationAnimation</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">Animation</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_scaleAnimation</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">initState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">initState</span><span class="p">();</span>

<span class="w">    </span><span class="n">_rotationController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AnimationController</span><span class="p">(</span>
<span class="w">      </span><span class="nl">duration:</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">2</span><span class="p">),</span>
<span class="w">      </span><span class="nl">vsync:</span><span class="w"> </span><span class="k">this</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="n">_scaleController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AnimationController</span><span class="p">(</span>
<span class="w">      </span><span class="nl">duration:</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">milliseconds:</span><span class="w"> </span><span class="m">500</span><span class="p">),</span>
<span class="w">      </span><span class="nl">vsync:</span><span class="w"> </span><span class="k">this</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="n">_rotationAnimation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Tween</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">      </span><span class="nl">begin:</span><span class="w"> </span><span class="m">0</span><span class="p">,</span>
<span class="w">      </span><span class="nl">end:</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">pi</span><span class="p">,</span>
<span class="w">    </span><span class="p">).</span><span class="n">animate</span><span class="p">(</span><span class="n">CurvedAnimation</span><span class="p">(</span>
<span class="w">      </span><span class="nl">parent:</span><span class="w"> </span><span class="n">_rotationController</span><span class="p">,</span>
<span class="w">      </span><span class="nl">curve:</span><span class="w"> </span><span class="n">Curves</span><span class="p">.</span><span class="n">linear</span><span class="p">,</span>
<span class="w">    </span><span class="p">));</span>

<span class="w">    </span><span class="n">_scaleAnimation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Tween</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">      </span><span class="nl">begin:</span><span class="w"> </span><span class="m">1.0</span><span class="p">,</span>
<span class="w">      </span><span class="nl">end:</span><span class="w"> </span><span class="m">1.5</span><span class="p">,</span>
<span class="w">    </span><span class="p">).</span><span class="n">animate</span><span class="p">(</span><span class="n">CurvedAnimation</span><span class="p">(</span>
<span class="w">      </span><span class="nl">parent:</span><span class="w"> </span><span class="n">_scaleController</span><span class="p">,</span>
<span class="w">      </span><span class="nl">curve:</span><span class="w"> </span><span class="n">Curves</span><span class="p">.</span><span class="n">elasticOut</span><span class="p">,</span>
<span class="w">    </span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">dispose</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_rotationController</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="n">_scaleController</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">AnimatedBuilder</span><span class="p">(</span>
<span class="w">          </span><span class="nl">animation:</span><span class="w"> </span><span class="n">_rotationAnimation</span><span class="p">,</span>
<span class="w">          </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Transform</span><span class="p">.</span><span class="n">rotate</span><span class="p">(</span>
<span class="w">              </span><span class="nl">angle:</span><span class="w"> </span><span class="n">_rotationAnimation</span><span class="p">.</span><span class="n">value</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">AnimatedBuilder</span><span class="p">(</span>
<span class="w">                </span><span class="nl">animation:</span><span class="w"> </span><span class="n">_scaleAnimation</span><span class="p">,</span>
<span class="w">                </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="k">return</span><span class="w"> </span><span class="n">Transform</span><span class="p">.</span><span class="n">scale</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">scale:</span><span class="w"> </span><span class="n">_scaleAnimation</span><span class="p">.</span><span class="n">value</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">width:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">height:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">                        </span><span class="n">Icons</span><span class="p">.</span><span class="n">star</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">size:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">);</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">32</span><span class="p">),</span>

<span class="w">        </span><span class="n">Row</span><span class="p">(</span>
<span class="w">          </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceEvenly</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_rotationController</span><span class="p">.</span><span class="n">repeat</span><span class="p">();</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Rotate&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_rotationController</span><span class="p">.</span><span class="n">stop</span><span class="p">();</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Stop&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_scaleController</span><span class="p">.</span><span class="n">forward</span><span class="p">().</span><span class="n">then</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="n">_scaleController</span><span class="p">.</span><span class="n">reverse</span><span class="p">();</span>
<span class="w">                </span><span class="p">});</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Scale&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ç‹€æ…‹ç®¡ç† Widget</h2>
<h3>InheritedWidget - æ•¸æ“šå‚³é</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">CounterInheritedWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">InheritedWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">VoidCallback</span><span class="w"> </span><span class="n">onIncrement</span><span class="p">;</span>

<span class="w">  </span><span class="n">CounterInheritedWidget</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">count</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">onIncrement</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">child</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="nl">child:</span><span class="w"> </span><span class="n">child</span><span class="p">);</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">CounterInheritedWidget</span><span class="o">?</span><span class="w"> </span><span class="n">of</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">dependOnInheritedWidgetOfExactType</span><span class="o">&lt;</span><span class="n">CounterInheritedWidget</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">updateShouldNotify</span><span class="p">(</span><span class="n">CounterInheritedWidget</span><span class="w"> </span><span class="n">oldWidget</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">oldWidget</span><span class="p">.</span><span class="n">count</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">InheritedWidgetExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_InheritedWidgetExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_InheritedWidgetExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_InheritedWidgetExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">InheritedWidgetExample</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_increment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_count</span><span class="o">++</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CounterInheritedWidget</span><span class="p">(</span>
<span class="w">      </span><span class="nl">count:</span><span class="w"> </span><span class="n">_count</span><span class="p">,</span>
<span class="w">      </span><span class="nl">onIncrement:</span><span class="w"> </span><span class="n">_increment</span><span class="p">,</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">CounterDisplay</span><span class="p">(),</span>
<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">          </span><span class="n">CounterButton</span><span class="p">(),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">CounterDisplay</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CounterInheritedWidget</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">      </span><span class="s1">&#39;Count: </span><span class="si">${</span><span class="n">counter</span><span class="o">?</span><span class="p">.</span><span class="n">count</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="m">0</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">CounterButton</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CounterInheritedWidget</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">      </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">counter</span><span class="o">?</span><span class="p">.</span><span class="n">onIncrement</span><span class="p">,</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Increment&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>ValueNotifier - è¼•é‡ç´šç‹€æ…‹ç®¡ç†</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">ValueNotifierExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_ValueNotifierExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_ValueNotifierExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_ValueNotifierExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">ValueNotifierExample</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">ValueNotifier</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ValueNotifier</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">ValueNotifier</span><span class="o">&lt;</span><span class="n">Color</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ValueNotifier</span><span class="o">&lt;</span><span class="n">Color</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">dispose</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_counter</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="n">_color</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// ç›£è½è¨ˆæ•¸å™¨è®ŠåŒ–</span>
<span class="w">        </span><span class="n">ValueListenableBuilder</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">          </span><span class="nl">valueListenable:</span><span class="w"> </span><span class="n">_counter</span><span class="p">,</span>
<span class="w">          </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;Counter: </span><span class="si">$</span><span class="n">value</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">        </span><span class="c1">// ç›£è½é¡è‰²è®ŠåŒ–</span>
<span class="w">        </span><span class="n">ValueListenableBuilder</span><span class="o">&lt;</span><span class="n">Color</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">          </span><span class="nl">valueListenable:</span><span class="w"> </span><span class="n">_color</span><span class="p">,</span>
<span class="w">          </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">width:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">              </span><span class="nl">height:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">              </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">color</span><span class="p">,</span>
<span class="w">                </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">50</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">                </span><span class="n">Icons</span><span class="p">.</span><span class="n">favorite</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                </span><span class="nl">size:</span><span class="w"> </span><span class="m">40</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>

<span class="w">        </span><span class="c1">// æ“ä½œæŒ‰éˆ•</span>
<span class="w">        </span><span class="n">Row</span><span class="p">(</span>
<span class="w">          </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceEvenly</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_counter</span><span class="p">.</span><span class="n">value</span><span class="o">++</span><span class="p">;</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Increment&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_counter</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Reset&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kd">final</span><span class="w"> </span><span class="n">colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">,</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">orange</span><span class="p">];</span>
<span class="w">                </span><span class="n">_color</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">colors</span><span class="p">[</span><span class="n">Random</span><span class="p">().</span><span class="n">nextInt</span><span class="p">(</span><span class="n">colors</span><span class="p">.</span><span class="n">length</span><span class="p">)];</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Change Color&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>StreamBuilder - ç•°æ­¥æ•¸æ“šæµ</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">StreamBuilderExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_StreamBuilderExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_StreamBuilderExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_StreamBuilderExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">StreamBuilderExample</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">Stream</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_numberStream</span><span class="p">;</span>
<span class="w">  </span><span class="n">StreamController</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_messageController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StreamController</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">initState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">initState</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// å‰µå»ºä¸€å€‹æ¯ç§’éå¢çš„æ•¸å­—æµ</span>
<span class="w">    </span><span class="n">_numberStream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Stream</span><span class="p">.</span><span class="n">periodic</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">count</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">count</span><span class="p">).</span><span class="n">take</span><span class="p">(</span><span class="m">60</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">dispose</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_messageController</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_addMessage</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_messageController</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">      </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="c1">// æ•¸å­—è¨ˆæ™‚å™¨</span>
<span class="w">          </span><span class="n">StreamBuilder</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">            </span><span class="nl">stream:</span><span class="w"> </span><span class="n">_numberStream</span><span class="p">,</span>
<span class="w">            </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">snapshot</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">snapshot</span><span class="p">.</span><span class="n">hasError</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Error: </span><span class="si">${</span><span class="n">snapshot</span><span class="p">.</span><span class="n">error</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">              </span><span class="p">}</span>

<span class="w">              </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">snapshot</span><span class="p">.</span><span class="n">connectionState</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ConnectionState</span><span class="p">.</span><span class="n">waiting</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">CircularProgressIndicator</span><span class="p">();</span>
<span class="w">              </span><span class="p">}</span>

<span class="w">              </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">snapshot</span><span class="p">.</span><span class="n">hasData</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;No data&#39;</span><span class="p">);</span>
<span class="w">              </span><span class="p">}</span>

<span class="w">              </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">20</span><span class="p">),</span>
<span class="w">                </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">10</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                  </span><span class="s1">&#39;Timer: </span><span class="si">${</span><span class="n">snapshot</span><span class="p">.</span><span class="n">data</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>

<span class="w">          </span><span class="c1">// æ¶ˆæ¯æµ</span>
<span class="w">          </span><span class="n">Container</span><span class="p">(</span>
<span class="w">            </span><span class="nl">height:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">            </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">              </span><span class="nl">border:</span><span class="w"> </span><span class="n">Border</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">),</span>
<span class="w">              </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">StreamBuilder</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">              </span><span class="nl">stream:</span><span class="w"> </span><span class="n">_messageController</span><span class="p">.</span><span class="n">stream</span><span class="p">,</span>
<span class="w">              </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">snapshot</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">ListView</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">                  </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">snapshot</span><span class="p">.</span><span class="n">hasData</span><span class="p">)</span>
<span class="w">                      </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">only</span><span class="p">(</span><span class="nl">bottom:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">                        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">12</span><span class="p">),</span>
<span class="w">                        </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">                          </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">200</span><span class="p">],</span>
<span class="w">                          </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                          </span><span class="s1">&#39;</span><span class="si">${</span><span class="n">DateTime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">toString</span><span class="p">().</span><span class="n">substring</span><span class="p">(</span><span class="m">11</span><span class="p">,</span><span class="w"> </span><span class="m">19</span><span class="p">)</span><span class="si">}</span><span class="s1">: </span><span class="si">${</span><span class="n">snapshot</span><span class="p">.</span><span class="n">data</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                  </span><span class="p">],</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">          </span><span class="c1">// æ“ä½œæŒ‰éˆ•</span>
<span class="w">          </span><span class="n">Row</span><span class="p">(</span>
<span class="w">            </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceEvenly</span><span class="p">,</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_addMessage</span><span class="p">(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Say Hello&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_addMessage</span><span class="p">(</span><span class="s1">&#39;Good morning!&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Good Morning&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_addMessage</span><span class="p">(</span><span class="s1">&#39;Goodbye!&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Goodbye&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>è‡ªè¨‚ Widget é–‹ç™¼</h2>
<h3>å‰µå»ºå¯é‡ç”¨çš„çµ„ä»¶</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// è‡ªè¨‚æŒ‰éˆ•çµ„ä»¶</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">CustomButton</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">VoidCallback</span><span class="o">?</span><span class="w"> </span><span class="n">onPressed</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Color</span><span class="o">?</span><span class="w"> </span><span class="n">backgroundColor</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Color</span><span class="o">?</span><span class="w"> </span><span class="n">textColor</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">IconData</span><span class="o">?</span><span class="w"> </span><span class="n">icon</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">isLoading</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">CustomButton</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">text</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">onPressed</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">backgroundColor</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">textColor</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">icon</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">      </span><span class="nl">width:</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">infinity</span><span class="p">,</span>
<span class="w">      </span><span class="nl">height:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">        </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">isLoading</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">onPressed</span><span class="p">,</span>
<span class="w">        </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">          </span><span class="nl">primary:</span><span class="w"> </span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">Theme</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">primaryColor</span><span class="p">,</span>
<span class="w">          </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span>
<span class="w">            </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">12</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="nl">elevation:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">isLoading</span>
<span class="w">            </span><span class="o">?</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(</span>
<span class="w">                </span><span class="nl">width:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">CircularProgressIndicator</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">strokeWidth:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">valueColor:</span><span class="w"> </span><span class="n">AlwaysStoppedAnimation</span><span class="o">&lt;</span><span class="n">Color</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">                    </span><span class="n">textColor</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">)</span>
<span class="w">            </span><span class="o">:</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">                </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">icon</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">...[</span>
<span class="w">                    </span><span class="n">Icon</span><span class="p">(</span><span class="n">icon</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">textColor</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">),</span>
<span class="w">                    </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">width:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">                  </span><span class="p">],</span>
<span class="w">                  </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                    </span><span class="n">text</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">color:</span><span class="w"> </span><span class="n">textColor</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">],</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// è‡ªè¨‚è¼¸å…¥æ¡†çµ„ä»¶</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">CustomTextField</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">label</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">hint</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">IconData</span><span class="o">?</span><span class="w"> </span><span class="n">prefixIcon</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">obscureText</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">TextInputType</span><span class="w"> </span><span class="n">keyboardType</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="kt">String</span><span class="o">?</span><span class="p">)</span><span class="o">?</span><span class="w"> </span><span class="n">validator</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span><span class="o">?</span><span class="w"> </span><span class="n">onChanged</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">TextEditingController</span><span class="o">?</span><span class="w"> </span><span class="n">controller</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">CustomTextField</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">label</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">hint</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">prefixIcon</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">obscureText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">keyboardType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextInputType</span><span class="p">.</span><span class="n">text</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">validator</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">onChanged</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">controller</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_CustomTextFieldState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_CustomTextFieldState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_CustomTextFieldState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">CustomTextField</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">_obscureText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">initState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">initState</span><span class="p">();</span>
<span class="w">    </span><span class="n">_obscureText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">widget</span><span class="p">.</span><span class="n">obscureText</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">Text</span><span class="p">(</span>
<span class="w">          </span><span class="n">widget</span><span class="p">.</span><span class="n">label</span><span class="p">,</span>
<span class="w">          </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">            </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">14</span><span class="p">,</span>
<span class="w">            </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">w500</span><span class="p">,</span>
<span class="w">            </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">700</span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">        </span><span class="n">TextFormField</span><span class="p">(</span>
<span class="w">          </span><span class="nl">controller:</span><span class="w"> </span><span class="n">widget</span><span class="p">.</span><span class="n">controller</span><span class="p">,</span>
<span class="w">          </span><span class="nl">obscureText:</span><span class="w"> </span><span class="n">_obscureText</span><span class="p">,</span>
<span class="w">          </span><span class="nl">keyboardType:</span><span class="w"> </span><span class="n">widget</span><span class="p">.</span><span class="n">keyboardType</span><span class="p">,</span>
<span class="w">          </span><span class="nl">validator:</span><span class="w"> </span><span class="n">widget</span><span class="p">.</span><span class="n">validator</span><span class="p">,</span>
<span class="w">          </span><span class="nl">onChanged:</span><span class="w"> </span><span class="n">widget</span><span class="p">.</span><span class="n">onChanged</span><span class="p">,</span>
<span class="w">          </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">            </span><span class="nl">hintText:</span><span class="w"> </span><span class="n">widget</span><span class="p">.</span><span class="n">hint</span><span class="p">,</span>
<span class="w">            </span><span class="nl">prefixIcon:</span><span class="w"> </span><span class="n">widget</span><span class="p">.</span><span class="n">prefixIcon</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span>
<span class="w">                </span><span class="o">?</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">widget</span><span class="p">.</span><span class="n">prefixIcon</span><span class="p">)</span><span class="w"> </span>
<span class="w">                </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">            </span><span class="nl">suffixIcon:</span><span class="w"> </span><span class="n">widget</span><span class="p">.</span><span class="n">obscureText</span>
<span class="w">                </span><span class="o">?</span><span class="w"> </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">                      </span><span class="n">_obscureText</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Icons</span><span class="p">.</span><span class="n">visibility_off</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Icons</span><span class="p">.</span><span class="n">visibility</span><span class="p">,</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                      </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">_obscureText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">_obscureText</span><span class="p">;</span>
<span class="w">                      </span><span class="p">});</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                  </span><span class="p">)</span>
<span class="w">                </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">            </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(</span>
<span class="w">              </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">12</span><span class="p">),</span>
<span class="w">              </span><span class="nl">borderSide:</span><span class="w"> </span><span class="n">BorderSide</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">300</span><span class="p">]</span><span class="o">!</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="nl">focusedBorder:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(</span>
<span class="w">              </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">12</span><span class="p">),</span>
<span class="w">              </span><span class="nl">borderSide:</span><span class="w"> </span><span class="n">BorderSide</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Theme</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">primaryColor</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="nl">filled:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="nl">fillColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">50</span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// è‡ªè¨‚å¡ç‰‡çµ„ä»¶</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">CustomCard</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">EdgeInsetsGeometry</span><span class="o">?</span><span class="w"> </span><span class="n">padding</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Color</span><span class="o">?</span><span class="w"> </span><span class="n">backgroundColor</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">elevation</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">VoidCallback</span><span class="o">?</span><span class="w"> </span><span class="n">onTap</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">CustomCard</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">child</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">padding</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">backgroundColor</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">elevation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">onTap</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Card</span><span class="p">(</span>
<span class="w">      </span><span class="nl">elevation:</span><span class="w"> </span><span class="n">elevation</span><span class="p">,</span>
<span class="w">      </span><span class="nl">color:</span><span class="w"> </span><span class="n">backgroundColor</span><span class="p">,</span>
<span class="w">      </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span>
<span class="w">        </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">12</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">InkWell</span><span class="p">(</span>
<span class="w">        </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">12</span><span class="p">),</span>
<span class="w">        </span><span class="nl">onTap:</span><span class="w"> </span><span class="n">onTap</span><span class="p">,</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">          </span><span class="nl">padding:</span><span class="w"> </span><span class="n">padding</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">child</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨è‡ªè¨‚çµ„ä»¶çš„ç¤ºä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">CustomWidgetExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_CustomWidgetExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_CustomWidgetExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_CustomWidgetExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">CustomWidgetExample</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">_formKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">FormState</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">_emailController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextEditingController</span><span class="p">();</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">_passwordController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextEditingController</span><span class="p">();</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">_isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Custom Widgets&#39;</span><span class="p">)),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Form</span><span class="p">(</span>
<span class="w">          </span><span class="nl">key:</span><span class="w"> </span><span class="n">_formKey</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">CustomCard</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="n">CustomTextField</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">label:</span><span class="w"> </span><span class="s1">&#39;Email&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">hint:</span><span class="w"> </span><span class="s1">&#39;Enter your email&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">prefixIcon:</span><span class="w"> </span><span class="n">Icons</span><span class="p">.</span><span class="n">email</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">keyboardType:</span><span class="w"> </span><span class="n">TextInputType</span><span class="p">.</span><span class="n">emailAddress</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">controller:</span><span class="w"> </span><span class="n">_emailController</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">validator:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="o">?</span><span class="p">.</span><span class="n">isEmpty</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                          </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;Please enter your email&#39;</span><span class="p">;</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">                      </span><span class="p">},</span>
<span class="w">                    </span><span class="p">),</span>

<span class="w">                    </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">                    </span><span class="n">CustomTextField</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">label:</span><span class="w"> </span><span class="s1">&#39;Password&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">hint:</span><span class="w"> </span><span class="s1">&#39;Enter your password&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">prefixIcon:</span><span class="w"> </span><span class="n">Icons</span><span class="p">.</span><span class="n">lock</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">obscureText:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">controller:</span><span class="w"> </span><span class="n">_passwordController</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">validator:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="o">?</span><span class="p">.</span><span class="n">isEmpty</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                          </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;Please enter your password&#39;</span><span class="p">;</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="o">!</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                          </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;Password must be at least 6 characters&#39;</span><span class="p">;</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">                      </span><span class="p">},</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">],</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>

<span class="w">              </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>

<span class="w">              </span><span class="n">CustomButton</span><span class="p">(</span>
<span class="w">                </span><span class="nl">text:</span><span class="w"> </span><span class="s1">&#39;Login&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icons</span><span class="p">.</span><span class="n">login</span><span class="p">,</span>
<span class="w">                </span><span class="nl">isLoading:</span><span class="w"> </span><span class="n">_isLoading</span><span class="p">,</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_formKey</span><span class="p">.</span><span class="n">currentState</span><span class="o">!</span><span class="p">.</span><span class="n">validate</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                      </span><span class="n">_isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">                    </span><span class="p">});</span>

<span class="w">                    </span><span class="c1">// æ¨¡æ“¬ç™»å…¥éç¨‹</span>
<span class="w">                    </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">2</span><span class="p">));</span>

<span class="w">                    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                      </span><span class="n">_isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">                    </span><span class="p">});</span>

<span class="w">                    </span><span class="n">ScaffoldMessenger</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">showSnackBar</span><span class="p">(</span>
<span class="w">                      </span><span class="n">SnackBar</span><span class="p">(</span><span class="nl">content:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Login successful!&#39;</span><span class="p">)),</span>
<span class="w">                    </span><span class="p">);</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">              </span><span class="p">),</span>

<span class="w">              </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">              </span><span class="n">CustomButton</span><span class="p">(</span>
<span class="w">                </span><span class="nl">text:</span><span class="w"> </span><span class="s1">&#39;Sign Up&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">,</span>
<span class="w">                </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icons</span><span class="p">.</span><span class="n">person_add</span><span class="p">,</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Sign up pressed&#39;</span><span class="p">);</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>RenderObject è‡ªè¨‚æ¸²æŸ“</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// è‡ªè¨‚æ¸²æŸ“å°è±¡</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">CustomPainter</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">CustomPainter</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">paint</span><span class="p">(</span><span class="n">Canvas</span><span class="w"> </span><span class="n">canvas</span><span class="p">,</span><span class="w"> </span><span class="n">Size</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">paint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Paint</span><span class="p">()</span>
<span class="w">      </span><span class="p">..</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span>
<span class="w">      </span><span class="p">..</span><span class="n">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PaintingStyle</span><span class="p">.</span><span class="n">fill</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// ç¹ªè£½åœ“å½¢</span>
<span class="w">    </span><span class="n">canvas</span><span class="p">.</span><span class="n">drawCircle</span><span class="p">(</span>
<span class="w">      </span><span class="n">Offset</span><span class="p">(</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">2</span><span class="p">),</span>
<span class="w">      </span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">4</span><span class="p">,</span>
<span class="w">      </span><span class="n">paint</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="c1">// ç¹ªè£½ç·šæ¢</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">linePaint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Paint</span><span class="p">()</span>
<span class="w">      </span><span class="p">..</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span>
<span class="w">      </span><span class="p">..</span><span class="n">strokeWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">;</span>

<span class="w">    </span><span class="n">canvas</span><span class="p">.</span><span class="n">drawLine</span><span class="p">(</span>
<span class="w">      </span><span class="n">Offset</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">),</span>
<span class="w">      </span><span class="n">Offset</span><span class="p">(</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">),</span>
<span class="w">      </span><span class="n">linePaint</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="n">canvas</span><span class="p">.</span><span class="n">drawLine</span><span class="p">(</span>
<span class="w">      </span><span class="n">Offset</span><span class="p">(</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">),</span>
<span class="w">      </span><span class="n">Offset</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">),</span>
<span class="w">      </span><span class="n">linePaint</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">shouldRepaint</span><span class="p">(</span><span class="kd">covariant</span><span class="w"> </span><span class="n">CustomPainter</span><span class="w"> </span><span class="n">oldDelegate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">CustomPaintWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">      </span><span class="nl">width:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">      </span><span class="nl">height:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">CustomPaint</span><span class="p">(</span>
<span class="w">        </span><span class="nl">painter:</span><span class="w"> </span><span class="n">CustomPainter</span><span class="p">(),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;Custom Paint&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">              </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>æ€§èƒ½å„ªåŒ–ç­–ç•¥</h2>
<h3>Widget é‡å»ºå„ªåŒ–</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ä½¿ç”¨ const å»ºæ§‹å­</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">OptimizedWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">OptimizedWidget</span><span class="p">({</span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Static Text&#39;</span><span class="p">),</span><span class="w"> </span><span class="c1">// const constructor</span>
<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span><span class="w">   </span><span class="c1">// const constructor</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// åˆ†é›¢å¯è®Šå’Œä¸å¯è®Šéƒ¨åˆ†</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">SeparatedWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_SeparatedWidgetState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_SeparatedWidgetState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_SeparatedWidgetState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">SeparatedWidget</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">_counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// ä¸è®Šçš„éƒ¨åˆ†ä½¿ç”¨ const</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">          </span><span class="s1">&#39;This text never changes&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="c1">// å¯è®Šçš„éƒ¨åˆ†å–®ç¨åˆ†é›¢</span>
<span class="w">        </span><span class="n">CounterDisplay</span><span class="p">(</span><span class="nl">counter:</span><span class="w"> </span><span class="n">_counter</span><span class="p">),</span>

<span class="w">        </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">_counter</span><span class="o">++</span><span class="p">;</span>
<span class="w">            </span><span class="p">});</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Increment&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">CounterDisplay</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">counter</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">CounterDisplay</span><span class="p">({</span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">counter</span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;CounterDisplay rebuilt&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// åªæœ‰ç•¶ counter æ”¹è®Šæ™‚æ‰æœƒé‡å»º</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">      </span><span class="s1">&#39;Counter: </span><span class="si">$</span><span class="n">counter</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>ListView æ€§èƒ½å„ªåŒ–</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">OptimizedListView</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="m">10000</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;Item </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ListView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
<span class="w">      </span><span class="c1">// ä½¿ç”¨ itemExtent æé«˜æ»¾å‹•æ€§èƒ½</span>
<span class="w">      </span><span class="nl">itemExtent:</span><span class="w"> </span><span class="m">80</span><span class="p">,</span>
<span class="w">      </span><span class="c1">// ç·©å­˜ç¯„åœ</span>
<span class="w">      </span><span class="nl">cacheExtent:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">      </span><span class="nl">itemCount:</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="n">length</span><span class="p">,</span>
<span class="w">      </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ListItem</span><span class="p">(</span>
<span class="w">          </span><span class="nl">key:</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]),</span><span class="w"> </span><span class="c1">// ä½¿ç”¨ ValueKey å„ªåŒ–</span>
<span class="w">          </span><span class="nl">title:</span><span class="w"> </span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">],</span>
<span class="w">          </span><span class="nl">index:</span><span class="w"> </span><span class="n">index</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">ListItem</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">ListItem</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">title</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">index</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">      </span><span class="nl">height:</span><span class="w"> </span><span class="m">80</span><span class="p">,</span>
<span class="w">      </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span><span class="w"> </span><span class="nl">vertical:</span><span class="w"> </span><span class="m">4</span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Card</span><span class="p">(</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">          </span><span class="nl">leading:</span><span class="w"> </span><span class="n">CircleAvatar</span><span class="p">(</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">${</span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">title</span><span class="p">),</span>
<span class="w">          </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">arrow_forward_ios</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>åœ–ç‰‡æ€§èƒ½å„ªåŒ–</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">OptimizedImageWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">imageUrl</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">OptimizedImageWidget</span><span class="p">({</span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">imageUrl</span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">      </span><span class="nl">width:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">      </span><span class="nl">height:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">ClipRRect</span><span class="p">(</span>
<span class="w">        </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">12</span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Image</span><span class="p">.</span><span class="n">network</span><span class="p">(</span>
<span class="w">          </span><span class="n">imageUrl</span><span class="p">,</span>
<span class="w">          </span><span class="nl">width:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">          </span><span class="nl">height:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">          </span><span class="nl">fit:</span><span class="w"> </span><span class="n">BoxFit</span><span class="p">.</span><span class="n">cover</span><span class="p">,</span>
<span class="w">          </span><span class="c1">// æ€§èƒ½å„ªåŒ–é…ç½®</span>
<span class="w">          </span><span class="nl">filterQuality:</span><span class="w"> </span><span class="n">FilterQuality</span><span class="p">.</span><span class="n">medium</span><span class="p">,</span>
<span class="w">          </span><span class="nl">loadingBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">,</span><span class="w"> </span><span class="n">loadingProgress</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">loadingProgress</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">width:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">              </span><span class="nl">height:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">200</span><span class="p">],</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">CircularProgressIndicator</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">value:</span><span class="w"> </span><span class="n">loadingProgress</span><span class="p">.</span><span class="n">expectedTotalBytes</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span>
<span class="w">                      </span><span class="o">?</span><span class="w"> </span><span class="n">loadingProgress</span><span class="p">.</span><span class="n">cumulativeBytesLoaded</span><span class="w"> </span><span class="o">/</span>
<span class="w">                          </span><span class="n">loadingProgress</span><span class="p">.</span><span class="n">expectedTotalBytes</span><span class="o">!</span>
<span class="w">                      </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nl">errorBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="n">stackTrace</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">width:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">              </span><span class="nl">height:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">300</span><span class="p">],</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="nl">size:</span><span class="w"> </span><span class="m">50</span><span class="p">),</span>
<span class="w">            </span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="c1">// ä½¿ç”¨ç·©å­˜</span>
<span class="w">          </span><span class="nl">cacheWidth:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">          </span><span class="nl">cacheHeight:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>æœ€ä½³å¯¦è¸èˆ‡è¨­è¨ˆæ¨¡å¼</h2>
<h3>çµ„ä»¶çµ„åˆæ¨¡å¼</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// åŸºç¤çµ„ä»¶</span>
<span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">BaseButton</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">VoidCallback</span><span class="o">?</span><span class="w"> </span><span class="n">onPressed</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">enabled</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">BaseButton</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">text</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">onPressed</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ä¸»è¦æŒ‰éˆ•</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">PrimaryButton</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BaseButton</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">PrimaryButton</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">VoidCallback</span><span class="o">?</span><span class="w"> </span><span class="n">onPressed</span><span class="p">,</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="nl">text:</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">onPressed</span><span class="p">,</span><span class="w"> </span><span class="nl">enabled:</span><span class="w"> </span><span class="n">enabled</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">      </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">onPressed</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">      </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">        </span><span class="nl">primary:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">vertical:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">        </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8</span><span class="p">)),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">)),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// æ¬¡è¦æŒ‰éˆ•</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">SecondaryButton</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">BaseButton</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">SecondaryButton</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">VoidCallback</span><span class="o">?</span><span class="w"> </span><span class="n">onPressed</span><span class="p">,</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="nl">text:</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">onPressed</span><span class="p">,</span><span class="w"> </span><span class="nl">enabled:</span><span class="w"> </span><span class="n">enabled</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">OutlinedButton</span><span class="p">(</span>
<span class="w">      </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">onPressed</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">      </span><span class="nl">style:</span><span class="w"> </span><span class="n">OutlinedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">        </span><span class="nl">side:</span><span class="w"> </span><span class="n">BorderSide</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">),</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">vertical:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">        </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8</span><span class="p">)),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">)),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>Builder æ¨¡å¼</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">DialogBuilder</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">_title</span><span class="p">;</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">_content</span><span class="p">;</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_actions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="w">  </span><span class="n">DialogBuilder</span><span class="w"> </span><span class="n">setTitle</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">title</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">DialogBuilder</span><span class="w"> </span><span class="n">setContent</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">content</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">content</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">DialogBuilder</span><span class="w"> </span><span class="n">addAction</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="n">VoidCallback</span><span class="w"> </span><span class="n">onPressed</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_actions</span><span class="p">.</span><span class="n">add</span><span class="p">(</span>
<span class="w">      </span><span class="n">TextButton</span><span class="p">(</span>
<span class="w">        </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">onPressed</span><span class="p">,</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">text</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">AlertDialog</span><span class="p">(</span>
<span class="w">      </span><span class="nl">title:</span><span class="w"> </span><span class="n">_title</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">_title</span><span class="o">!</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">      </span><span class="nl">content:</span><span class="w"> </span><span class="n">_content</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">_content</span><span class="o">!</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">      </span><span class="nl">actions:</span><span class="w"> </span><span class="n">_actions</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">show</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">showDialog</span><span class="p">(</span>
<span class="w">      </span><span class="nl">context:</span><span class="w"> </span><span class="n">context</span><span class="p">,</span>
<span class="w">      </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">build</span><span class="p">(),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="kt">void</span><span class="w"> </span><span class="n">showCustomDialog</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">DialogBuilder</span><span class="p">()</span>
<span class="w">      </span><span class="p">.</span><span class="n">setTitle</span><span class="p">(</span><span class="s1">&#39;Confirmation&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="n">setContent</span><span class="p">(</span><span class="s1">&#39;Are you sure you want to delete this item?&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="n">addAction</span><span class="p">(</span><span class="s1">&#39;Cancel&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">))</span>
<span class="w">      </span><span class="p">.</span><span class="n">addAction</span><span class="p">(</span><span class="s1">&#39;Delete&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
<span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Item deleted&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">})</span>
<span class="w">      </span><span class="p">.</span><span class="n">show</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3>éŸ¿æ‡‰å¼è¨­è¨ˆ</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">ResponsiveWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">mobile</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">tablet</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">desktop</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">ResponsiveWidget</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">mobile</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">tablet</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">desktop</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">LayoutBuilder</span><span class="p">(</span>
<span class="w">      </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">constraints</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">constraints</span><span class="p">.</span><span class="n">maxWidth</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">600</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">mobile</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">constraints</span><span class="p">.</span><span class="n">maxWidth</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">1200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">tablet</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">desktop</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">ResponsiveLayout</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ResponsiveWidget</span><span class="p">(</span>
<span class="w">      </span><span class="nl">mobile:</span><span class="w"> </span><span class="n">MobileLayout</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">tablet:</span><span class="w"> </span><span class="n">TabletLayout</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">desktop:</span><span class="w"> </span><span class="n">DesktopLayout</span><span class="p">(),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MobileLayout</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">Container</span><span class="p">(</span>
<span class="w">          </span><span class="nl">height:</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">          </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Mobile Header&#39;</span><span class="p">)),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListView</span><span class="p">(</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="k">return</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Mobile Item </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="p">);</span>
<span class="w">            </span><span class="p">}),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">TabletLayout</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">Container</span><span class="p">(</span>
<span class="w">          </span><span class="nl">width:</span><span class="w"> </span><span class="m">250</span><span class="p">,</span>
<span class="w">          </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">200</span><span class="p">],</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListView</span><span class="p">(</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="k">return</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Sidebar Item </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="p">);</span>
<span class="w">            </span><span class="p">}),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Tablet Header&#39;</span><span class="p">)),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">GridView</span><span class="p">.</span><span class="n">count</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">crossAxisCount:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">children:</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="n">Card</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Item </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">)),</span>
<span class="w">                    </span><span class="p">);</span>
<span class="w">                  </span><span class="p">}),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">DesktopLayout</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">Container</span><span class="p">(</span>
<span class="w">          </span><span class="nl">width:</span><span class="w"> </span><span class="m">250</span><span class="p">,</span>
<span class="w">          </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">200</span><span class="p">],</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">100</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Navigation&#39;</span><span class="p">)),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListView</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">children:</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Nav Item </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="p">);</span>
<span class="w">                  </span><span class="p">}),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">80</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">[</span><span class="m">100</span><span class="p">],</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Desktop Header&#39;</span><span class="p">)),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">GridView</span><span class="p">.</span><span class="n">count</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">crossAxisCount:</span><span class="w"> </span><span class="m">4</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">children:</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="m">40</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="n">Card</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Item </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">)),</span>
<span class="w">                    </span><span class="p">);</span>
<span class="w">                  </span><span class="p">}),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">Container</span><span class="p">(</span>
<span class="w">          </span><span class="nl">width:</span><span class="w"> </span><span class="m">300</span><span class="p">,</span>
<span class="w">          </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">100</span><span class="p">],</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                </span><span class="nl">height:</span><span class="w"> </span><span class="m">80</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">[</span><span class="m">100</span><span class="p">],</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Sidebar&#39;</span><span class="p">)),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListView</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">children:</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="m">15</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Side Item </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="p">);</span>
<span class="w">                  </span><span class="p">}),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>ä¸»é¡Œèˆ‡æ¨£å¼ç®¡ç†</h3>
<div class="codehilite"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">AppTheme</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="n">primaryColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Color</span><span class="p">(</span><span class="mh">0xFF2196F3</span><span class="p">);</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="n">secondaryColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Color</span><span class="p">(</span><span class="mh">0xFF03DAC6</span><span class="p">);</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="n">errorColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Color</span><span class="p">(</span><span class="mh">0xFFB00020</span><span class="p">);</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">ThemeData</span><span class="w"> </span><span class="n">lightTheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">    </span><span class="nl">primarySwatch:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">    </span><span class="nl">primaryColor:</span><span class="w"> </span><span class="n">primaryColor</span><span class="p">,</span>
<span class="w">    </span><span class="nl">brightness:</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">light</span><span class="p">,</span>
<span class="w">    </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">    </span><span class="nl">scaffoldBackgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">50</span><span class="p">],</span>

<span class="w">    </span><span class="c1">// æ–‡å­—ä¸»é¡Œ</span>
<span class="w">    </span><span class="nl">textTheme:</span><span class="w"> </span><span class="n">TextTheme</span><span class="p">(</span>
<span class="w">      </span><span class="nl">headline1:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">32</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black87</span><span class="p">),</span>
<span class="w">      </span><span class="nl">headline2:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black87</span><span class="p">),</span>
<span class="w">      </span><span class="nl">headline3:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">w600</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black87</span><span class="p">),</span>
<span class="w">      </span><span class="nl">bodyText1:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black87</span><span class="p">),</span>
<span class="w">      </span><span class="nl">bodyText2:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">14</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black54</span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>

<span class="w">    </span><span class="c1">// æŒ‰éˆ•ä¸»é¡Œ</span>
<span class="w">    </span><span class="nl">elevatedButtonTheme:</span><span class="w"> </span><span class="n">ElevatedButtonThemeData</span><span class="p">(</span>
<span class="w">      </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">        </span><span class="nl">primary:</span><span class="w"> </span><span class="n">primaryColor</span><span class="p">,</span>
<span class="w">        </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8</span><span class="p">)),</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">vertical:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>

<span class="w">    </span><span class="c1">// å¡ç‰‡ä¸»é¡Œ</span>
<span class="w">    </span><span class="nl">cardTheme:</span><span class="w"> </span><span class="n">CardTheme</span><span class="p">(</span>
<span class="w">      </span><span class="nl">elevation:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">      </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">12</span><span class="p">)),</span>
<span class="w">      </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span><span class="w"> </span><span class="nl">vertical:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>

<span class="w">    </span><span class="c1">// è¼¸å…¥æ¡†ä¸»é¡Œ</span>
<span class="w">    </span><span class="nl">inputDecorationTheme:</span><span class="w"> </span><span class="n">InputDecorationTheme</span><span class="p">(</span>
<span class="w">      </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(</span>
<span class="w">        </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">        </span><span class="nl">borderSide:</span><span class="w"> </span><span class="n">BorderSide</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">300</span><span class="p">]</span><span class="o">!</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">focusedBorder:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(</span>
<span class="w">        </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">        </span><span class="nl">borderSide:</span><span class="w"> </span><span class="n">BorderSide</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">primaryColor</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">filled:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nl">fillColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">50</span><span class="p">],</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">ThemeData</span><span class="w"> </span><span class="n">darkTheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">    </span><span class="nl">primarySwatch:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">    </span><span class="nl">primaryColor:</span><span class="w"> </span><span class="n">primaryColor</span><span class="p">,</span>
<span class="w">    </span><span class="nl">brightness:</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">dark</span><span class="p">,</span>
<span class="w">    </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Color</span><span class="p">(</span><span class="mh">0xFF121212</span><span class="p">),</span>
<span class="w">    </span><span class="nl">scaffoldBackgroundColor:</span><span class="w"> </span><span class="n">Color</span><span class="p">(</span><span class="mh">0xFF121212</span><span class="p">),</span>

<span class="w">    </span><span class="nl">textTheme:</span><span class="w"> </span><span class="n">TextTheme</span><span class="p">(</span>
<span class="w">      </span><span class="nl">headline1:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">32</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">),</span>
<span class="w">      </span><span class="nl">headline2:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">),</span>
<span class="w">      </span><span class="nl">headline3:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">w600</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">),</span>
<span class="w">      </span><span class="nl">bodyText1:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white70</span><span class="p">),</span>
<span class="w">      </span><span class="nl">bodyText2:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">14</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white60</span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>

<span class="w">    </span><span class="nl">cardTheme:</span><span class="w"> </span><span class="n">CardTheme</span><span class="p">(</span>
<span class="w">      </span><span class="nl">elevation:</span><span class="w"> </span><span class="m">4</span><span class="p">,</span>
<span class="w">      </span><span class="nl">color:</span><span class="w"> </span><span class="n">Color</span><span class="p">(</span><span class="mh">0xFF1E1E1E</span><span class="p">),</span>
<span class="w">      </span><span class="nl">shape:</span><span class="w"> </span><span class="n">RoundedRectangleBorder</span><span class="p">(</span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">12</span><span class="p">)),</span>
<span class="w">      </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span><span class="w"> </span><span class="nl">vertical:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨ä¸»é¡Œçš„ç¤ºä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ThemedApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">      </span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;Flutter Themed App&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">theme:</span><span class="w"> </span><span class="n">AppTheme</span><span class="p">.</span><span class="n">lightTheme</span><span class="p">,</span>
<span class="w">      </span><span class="nl">darkTheme:</span><span class="w"> </span><span class="n">AppTheme</span><span class="p">.</span><span class="n">darkTheme</span><span class="p">,</span>
<span class="w">      </span><span class="nl">home:</span><span class="w"> </span><span class="n">ThemedHomePage</span><span class="p">(),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">ThemedHomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">theme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Theme</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Themed App&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">stretch</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;Primary Headline&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">theme</span><span class="p">.</span><span class="n">textTheme</span><span class="p">.</span><span class="n">headline1</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;Secondary Headline&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">theme</span><span class="p">.</span><span class="n">textTheme</span><span class="p">.</span><span class="n">headline2</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;This is body text that follows the theme configuration.&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">theme</span><span class="p">.</span><span class="n">textTheme</span><span class="p">.</span><span class="n">bodyText1</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>

<span class="w">            </span><span class="n">Card</span><span class="p">(</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">                </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                      </span><span class="s1">&#39;Themed Card&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">style:</span><span class="w"> </span><span class="n">theme</span><span class="p">.</span><span class="n">textTheme</span><span class="p">.</span><span class="n">headline3</span><span class="p">,</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">                    </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                      </span><span class="s1">&#39;This card uses the theme configuration.&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">style:</span><span class="w"> </span><span class="n">theme</span><span class="p">.</span><span class="n">textTheme</span><span class="p">.</span><span class="n">bodyText2</span><span class="p">,</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">],</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>

<span class="w">            </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{},</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Themed Button&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">            </span><span class="n">TextField</span><span class="p">(</span>
<span class="w">              </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">                </span><span class="nl">labelText:</span><span class="w"> </span><span class="s1">&#39;Themed Input&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nl">hintText:</span><span class="w"> </span><span class="s1">&#39;Enter text here...&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>åœ‹éš›åŒ–èˆ‡æœ¬åœ°åŒ–</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// å¤šèªè¨€æ”¯æ´</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">AppLocalizations</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Locale</span><span class="w"> </span><span class="n">locale</span><span class="p">;</span>

<span class="w">  </span><span class="n">AppLocalizations</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">locale</span><span class="p">);</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">AppLocalizations</span><span class="o">?</span><span class="w"> </span><span class="n">of</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Localizations</span><span class="p">.</span><span class="n">of</span><span class="o">&lt;</span><span class="n">AppLocalizations</span><span class="o">&gt;</span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">AppLocalizations</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">LocalizationsDelegate</span><span class="o">&lt;</span><span class="n">AppLocalizations</span><span class="o">&gt;</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span>
<span class="w">      </span><span class="n">_AppLocalizationsDelegate</span><span class="p">();</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Locale</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supportedLocales</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;zh&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TW&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;ja&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;JP&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="p">];</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">_localizedValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s1">&#39;en&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s1">&#39;app_title&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Flutter App&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;welcome&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Welcome&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;hello&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Hello&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;settings&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Settings&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;profile&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Profile&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;logout&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Logout&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;save&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Save&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;cancel&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Cancel&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;delete&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Delete&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;confirm&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Confirm&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s1">&#39;zh&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s1">&#39;app_title&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Flutter æ‡‰ç”¨ç¨‹å¼&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;welcome&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;æ­¡è¿&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;hello&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ä½ å¥½&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;settings&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;è¨­å®š&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;profile&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;å€‹äººè³‡æ–™&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;logout&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ç™»å‡º&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;save&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ä¿å­˜&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;cancel&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;å–æ¶ˆ&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;delete&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;åˆªé™¤&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;confirm&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ç¢ºèª&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="s1">&#39;ja&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s1">&#39;app_title&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Flutterã‚¢ãƒ—ãƒª&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;welcome&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ã‚ˆã†ã“ã&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;hello&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ã“ã‚“ã«ã¡ã¯&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;settings&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;è¨­å®š&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;profile&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;logout&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;save&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ä¿å­˜&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;cancel&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ã‚­ãƒ£ãƒ³ã‚»ãƒ«&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;delete&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;å‰Šé™¤&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;confirm&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ç¢ºèª&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">getText</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">key</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_localizedValues</span><span class="p">[</span><span class="n">locale</span><span class="p">.</span><span class="n">languageCode</span><span class="p">]</span><span class="o">?</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">key</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">appTitle</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getText</span><span class="p">(</span><span class="s1">&#39;app_title&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">welcome</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getText</span><span class="p">(</span><span class="s1">&#39;welcome&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">hello</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getText</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getText</span><span class="p">(</span><span class="s1">&#39;settings&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getText</span><span class="p">(</span><span class="s1">&#39;profile&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">logout</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getText</span><span class="p">(</span><span class="s1">&#39;logout&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getText</span><span class="p">(</span><span class="s1">&#39;save&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">cancel</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getText</span><span class="p">(</span><span class="s1">&#39;cancel&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">delete</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getText</span><span class="p">(</span><span class="s1">&#39;delete&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">confirm</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getText</span><span class="p">(</span><span class="s1">&#39;confirm&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_AppLocalizationsDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">LocalizationsDelegate</span><span class="o">&lt;</span><span class="n">AppLocalizations</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">_AppLocalizationsDelegate</span><span class="p">();</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isSupported</span><span class="p">(</span><span class="n">Locale</span><span class="w"> </span><span class="n">locale</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">AppLocalizations</span><span class="p">.</span><span class="n">supportedLocales</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="n">locale</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">AppLocalizations</span><span class="o">&gt;</span><span class="w"> </span><span class="n">load</span><span class="p">(</span><span class="n">Locale</span><span class="w"> </span><span class="n">locale</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">AppLocalizations</span><span class="p">(</span><span class="n">locale</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">shouldReload</span><span class="p">(</span><span class="n">_AppLocalizationsDelegate</span><span class="w"> </span><span class="n">old</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// åœ‹éš›åŒ–æ‡‰ç”¨ç¨‹å¼</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">InternationalizedApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">      </span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;Internationalized App&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">localizationsDelegates:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">AppLocalizations</span><span class="p">.</span><span class="n">delegate</span><span class="p">,</span>
<span class="w">        </span><span class="n">GlobalMaterialLocalizations</span><span class="p">.</span><span class="n">delegate</span><span class="p">,</span>
<span class="w">        </span><span class="n">GlobalWidgetsLocalizations</span><span class="p">.</span><span class="n">delegate</span><span class="p">,</span>
<span class="w">        </span><span class="n">GlobalCupertinoLocalizations</span><span class="p">.</span><span class="n">delegate</span><span class="p">,</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nl">supportedLocales:</span><span class="w"> </span><span class="n">AppLocalizations</span><span class="p">.</span><span class="n">supportedLocales</span><span class="p">,</span>
<span class="w">      </span><span class="nl">home:</span><span class="w"> </span><span class="n">LocalizedHomePage</span><span class="p">(),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">LocalizedHomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_LocalizedHomePageState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_LocalizedHomePageState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_LocalizedHomePageState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">LocalizedHomePage</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Locale</span><span class="w"> </span><span class="n">_currentLocale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_changeLocale</span><span class="p">(</span><span class="n">Locale</span><span class="w"> </span><span class="n">locale</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_currentLocale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">locale</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">localizations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AppLocalizations</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="o">!</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">localizations</span><span class="p">.</span><span class="n">appTitle</span><span class="p">),</span>
<span class="w">        </span><span class="nl">actions:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">PopupMenuButton</span><span class="o">&lt;</span><span class="n">Locale</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">          </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">language</span><span class="p">),</span>
<span class="w">          </span><span class="nl">onSelected:</span><span class="w"> </span><span class="n">_changeLocale</span><span class="p">,</span>
<span class="w">          </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">PopupMenuItem</span><span class="p">(</span>
<span class="w">              </span><span class="nl">value:</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;English&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">PopupMenuItem</span><span class="p">(</span>
<span class="w">              </span><span class="nl">value:</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;zh&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TW&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ç¹é«”ä¸­æ–‡&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">PopupMenuItem</span><span class="p">(</span>
<span class="w">              </span><span class="nl">value:</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;ja&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;JP&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;æ—¥æœ¬èª&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">stretch</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="n">localizations</span><span class="p">.</span><span class="n">welcome</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="n">localizations</span><span class="p">.</span><span class="n">hello</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>

<span class="w">            </span><span class="n">Card</span><span class="p">(</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">                </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">settings</span><span class="p">),</span>
<span class="w">                      </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">localizations</span><span class="p">.</span><span class="n">settings</span><span class="p">),</span>
<span class="w">                      </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">arrow_forward_ios</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">person</span><span class="p">),</span>
<span class="w">                      </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">localizations</span><span class="p">.</span><span class="n">profile</span><span class="p">),</span>
<span class="w">                      </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">arrow_forward_ios</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">logout</span><span class="p">),</span>
<span class="w">                      </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">localizations</span><span class="p">.</span><span class="n">logout</span><span class="p">),</span>
<span class="w">                      </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">arrow_forward_ios</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">],</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>

<span class="w">            </span><span class="n">Row</span><span class="p">(</span>
<span class="w">              </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceEvenly</span><span class="p">,</span>
<span class="w">              </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{},</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">localizations</span><span class="p">.</span><span class="n">save</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="n">OutlinedButton</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{},</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">localizations</span><span class="p">.</span><span class="n">cancel</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="n">TextButton</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{},</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">localizations</span><span class="p">.</span><span class="n">delete</span><span class="p">),</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span><span class="nl">primary:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>éŒ¯èª¤è™•ç†èˆ‡ç•°å¸¸ç®¡ç†</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// å…¨åŸŸéŒ¯èª¤è™•ç†</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ErrorHandler</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">handleError</span><span class="p">(</span><span class="kt">dynamic</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="n">StackTrace</span><span class="o">?</span><span class="w"> </span><span class="n">stackTrace</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Error: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Stack trace: </span><span class="si">$</span><span class="n">stackTrace</span><span class="s1">&#39;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// é€™è£¡å¯ä»¥æ·»åŠ æ—¥èªŒè¨˜éŒ„ã€éŒ¯èª¤å ±å‘Šç­‰åŠŸèƒ½</span>
<span class="w">    </span><span class="c1">// ä¾‹å¦‚ï¼šFirebase Crashlytics, Sentry ç­‰</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// éŒ¯èª¤é‚Šç•Œ Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ErrorBoundary</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="kt">dynamic</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="o">?</span><span class="w"> </span><span class="n">errorBuilder</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">ErrorBoundary</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">child</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">errorBuilder</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_ErrorBoundaryState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_ErrorBoundaryState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_ErrorBoundaryState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">ErrorBoundary</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">dynamic</span><span class="w"> </span><span class="n">_error</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_error</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">widget</span><span class="p">.</span><span class="n">errorBuilder</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">widget</span><span class="p">.</span><span class="n">errorBuilder</span><span class="o">!</span><span class="p">(</span><span class="n">_error</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">        </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Error&#39;</span><span class="p">)),</span>
<span class="w">        </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">            </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="nl">size:</span><span class="w"> </span><span class="m">64</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">),</span>
<span class="w">              </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">              </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;Something went wrong&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">              </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                </span><span class="n">_error</span><span class="p">.</span><span class="n">toString</span><span class="p">(),</span>
<span class="w">                </span><span class="nl">textAlign:</span><span class="w"> </span><span class="n">TextAlign</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>
<span class="w">              </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">_error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">                  </span><span class="p">});</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Retry&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">widget</span><span class="p">.</span><span class="n">child</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">didChangeDependencies</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">didChangeDependencies</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// æ•ç²å­ Widget çš„éŒ¯èª¤</span>
<span class="w">    </span><span class="n">FlutterError</span><span class="p">.</span><span class="n">onError</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">FlutterErrorDetails</span><span class="w"> </span><span class="n">details</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">details</span><span class="p">.</span><span class="n">exception</span><span class="p">;</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">      </span><span class="n">ErrorHandler</span><span class="p">.</span><span class="n">handleError</span><span class="p">(</span><span class="n">details</span><span class="p">.</span><span class="n">exception</span><span class="p">,</span><span class="w"> </span><span class="n">details</span><span class="p">.</span><span class="n">stack</span><span class="p">);</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ç•°æ­¥æ“ä½œéŒ¯èª¤è™•ç†</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">AsyncOperationWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_AsyncOperationWidgetState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_AsyncOperationWidgetState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_AsyncOperationWidgetState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">AsyncOperationWidget</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">_isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">_error</span><span class="p">;</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">_data</span><span class="p">;</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_performAsyncOperation</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">      </span><span class="n">_error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// æ¨¡æ“¬ç•°æ­¥æ“ä½œ</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">2</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// éš¨æ©Ÿç”¢ç”ŸéŒ¯èª¤ä¾†æ¼”ç¤ºéŒ¯èª¤è™•ç†</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Random</span><span class="p">().</span><span class="n">nextBool</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">Exception</span><span class="p">(</span><span class="s1">&#39;Random error occurred&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Operation completed successfully at </span><span class="si">${</span><span class="n">DateTime</span><span class="p">.</span><span class="n">now</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="n">_isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="n">stackTrace</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="n">toString</span><span class="p">();</span>
<span class="w">        </span><span class="n">_isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="n">ErrorHandler</span><span class="p">.</span><span class="n">handleError</span><span class="p">(</span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="n">stackTrace</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">      </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_isLoading</span><span class="p">)</span>
<span class="w">            </span><span class="n">Column</span><span class="p">(</span>
<span class="w">              </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">CircularProgressIndicator</span><span class="p">(),</span>
<span class="w">                </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Loading...&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">          </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_error</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
<span class="w">            </span><span class="n">Column</span><span class="p">(</span>
<span class="w">              </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="nl">size:</span><span class="w"> </span><span class="m">48</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">),</span>
<span class="w">                </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                  </span><span class="s1">&#39;Error occurred:&#39;</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                  </span><span class="n">_error</span><span class="o">!</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">textAlign:</span><span class="w"> </span><span class="n">TextAlign</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">                </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_performAsyncOperation</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Retry&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">          </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_data</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
<span class="w">            </span><span class="n">Column</span><span class="p">(</span>
<span class="w">              </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">check_circle</span><span class="p">,</span><span class="w"> </span><span class="nl">size:</span><span class="w"> </span><span class="m">48</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">),</span>
<span class="w">                </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                  </span><span class="s1">&#39;Success!&#39;</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">16</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span><span class="n">_data</span><span class="o">!</span><span class="p">),</span>
<span class="w">                </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">                </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_performAsyncOperation</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Run Again&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">          </span><span class="k">else</span>
<span class="w">            </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_performAsyncOperation</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Start Async Operation&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>æ¸¬è©¦ç­–ç•¥</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// Widget æ¸¬è©¦ç¤ºä¾‹</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter_test/flutter_test.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;Custom Button Tests&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;CustomButton displays correct text&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="n">buttonText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Test Button&#39;</span><span class="p">;</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">        </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">          </span><span class="nl">home:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">CustomButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">text:</span><span class="w"> </span><span class="n">buttonText</span><span class="p">,</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">buttonText</span><span class="p">),</span><span class="w"> </span><span class="n">findsOneWidget</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;CustomButton calls onPressed when tapped&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kt">bool</span><span class="w"> </span><span class="n">wasPressed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">        </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">          </span><span class="nl">home:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">CustomButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">text:</span><span class="w"> </span><span class="s1">&#39;Test Button&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">wasPressed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">tap</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">CustomButton</span><span class="p">));</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pump</span><span class="p">();</span>

<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">wasPressed</span><span class="p">,</span><span class="w"> </span><span class="n">isTrue</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;CustomButton shows loading indicator when isLoading is true&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">        </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">          </span><span class="nl">home:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">CustomButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">text:</span><span class="w"> </span><span class="s1">&#39;Loading Button&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">isLoading:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">CircularProgressIndicator</span><span class="p">),</span><span class="w"> </span><span class="n">findsOneWidget</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;Loading Button&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">findsNothing</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;Counter Widget Tests&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;Counter increments correctly&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">        </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">          </span><span class="nl">home:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Counter</span><span class="p">(),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;Count: 0&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">findsOneWidget</span><span class="p">);</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">tap</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;Increment&#39;</span><span class="p">));</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pump</span><span class="p">();</span>

<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;Count: 1&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">findsOneWidget</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// å–®å…ƒæ¸¬è©¦ç¤ºä¾‹</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:test/test.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;Utility Functions&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;Email validation works correctly&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">isValidEmail</span><span class="p">(</span><span class="s1">&#39;test@example.com&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">isTrue</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">isValidEmail</span><span class="p">(</span><span class="s1">&#39;invalid-email&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">isFalse</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">isValidEmail</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">isFalse</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;Password strength calculation&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">calculatePasswordStrength</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">PasswordStrength</span><span class="p">.</span><span class="n">weak</span><span class="p">));</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">calculatePasswordStrength</span><span class="p">(</span><span class="s1">&#39;password123&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">PasswordStrength</span><span class="p">.</span><span class="n">medium</span><span class="p">));</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">calculatePasswordStrength</span><span class="p">(</span><span class="s1">&#39;StrongP@ssw0rd!&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">PasswordStrength</span><span class="p">.</span><span class="n">strong</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>

<span class="kt">bool</span><span class="w"> </span><span class="n">isValidEmail</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">email</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="n">r</span><span class="s1">&#39;^[</span><span class="se">\w</span><span class="s1">-</span><span class="err">\</span><span class="s1">.]+@([</span><span class="se">\w</span><span class="s1">-]+</span><span class="err">\</span><span class="s1">.)+[</span><span class="se">\w</span><span class="s1">-]{2,4}).hasMatch(email);</span>
<span class="p">}</span>

<span class="n">enum</span><span class="w"> </span><span class="n">PasswordStrength</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">weak</span><span class="p">,</span><span class="w"> </span><span class="n">medium</span><span class="p">,</span><span class="w"> </span><span class="n">strong</span><span class="w"> </span><span class="p">}</span>

<span class="n">PasswordStrength</span><span class="w"> </span><span class="n">calculatePasswordStrength</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">password</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">password</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">6</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">PasswordStrength</span><span class="p">.</span><span class="n">weak</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">password</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">10</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">PasswordStrength</span><span class="p">.</span><span class="n">medium</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">PasswordStrength</span><span class="p">.</span><span class="n">strong</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ç¸½çµ</h2>
<p>æœ¬æŒ‡å—æ¶µè“‹äº† Flutter Widget é–‹ç™¼çš„å„å€‹æ–¹é¢ï¼Œå¾åŸºç¤æ¦‚å¿µåˆ°é«˜ç´šæŠ€å·§ï¼š</p>
<h3>æ ¸å¿ƒæ¦‚å¿µ</h3>
<ul>
<li><strong>Widget æ¨¹çµæ§‹</strong>ï¼šç†è§£ Widgetã€Elementã€RenderObject çš„é—œä¿‚</li>
<li><strong>ç‹€æ…‹ç®¡ç†</strong>ï¼šStatelessWidget vs StatefulWidget çš„é¸æ“‡</li>
<li><strong>ç”Ÿå‘½é€±æœŸ</strong>ï¼šæŒæ¡ Widget çš„å®Œæ•´ç”Ÿå‘½é€±æœŸ</li>
</ul>
<h3>ä½ˆå±€ç³»çµ±</h3>
<ul>
<li><strong>Flex ä½ˆå±€</strong>ï¼šRowã€Columnã€Flex çš„éˆæ´»é‹ç”¨</li>
<li><strong>å †ç–Šä½ˆå±€</strong>ï¼šStackã€Positioned çš„å®šä½æ§åˆ¶</li>
<li><strong>éŸ¿æ‡‰å¼è¨­è¨ˆ</strong>ï¼šé©é…ä¸åŒè¢å¹•å°ºå¯¸çš„ç­–ç•¥</li>
</ul>
<h3>æ€§èƒ½å„ªåŒ–</h3>
<ul>
<li><strong>Widget é‡å»ºå„ªåŒ–</strong>ï¼šä½¿ç”¨ constã€åˆ†é›¢å¯è®Šéƒ¨åˆ†</li>
<li><strong>åˆ—è¡¨æ€§èƒ½</strong>ï¼šListView çš„æœ€ä½³å¯¦è¸</li>
<li><strong>è¨˜æ†¶é«”ç®¡ç†</strong>ï¼šæ­£ç¢ºè™•ç†è³‡æºé‡‹æ”¾</li>
</ul>
<h3>é–‹ç™¼å¯¦è¸</h3>
<ul>
<li><strong>çµ„ä»¶è¨­è¨ˆ</strong>ï¼šå‰µå»ºå¯é‡ç”¨ã€å¯ç¶­è­·çš„çµ„ä»¶</li>
<li><strong>éŒ¯èª¤è™•ç†</strong>ï¼šå»ºç«‹å®Œå–„çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶</li>
<li><strong>æ¸¬è©¦ç­–ç•¥</strong>ï¼šç¢ºä¿ä»£ç¢¼å“è³ªçš„æ¸¬è©¦æ–¹æ³•</li>
</ul>
<h3>è¨­è¨ˆæ¨¡å¼</h3>
<ul>
<li><strong>Builder æ¨¡å¼</strong>ï¼šéˆæ´»æ§‹å»ºè¤‡é›œ Widget</li>
<li><strong>çµ„åˆæ¨¡å¼</strong>ï¼šçµ„ä»¶çš„åˆç†çµ„ç¹”</li>
<li><strong>ä¸»é¡Œç®¡ç†</strong>ï¼šçµ±ä¸€çš„è¦–è¦ºè¨­è¨ˆç³»çµ±</li>
</ul>
<p>æŒæ¡é€™äº›æ¦‚å¿µå’ŒæŠ€å·§ï¼Œèƒ½å¤ å¹«åŠ©é–‹ç™¼è€…æ§‹å»ºé«˜å“è³ªã€é«˜æ€§èƒ½çš„ Flutter æ‡‰ç”¨ç¨‹å¼ã€‚è¨˜ä½ï¼Œå„ªç§€çš„ Flutter é–‹ç™¼ä¸åƒ…åœ¨æ–¼äº†è§£å„ç¨® Widgetï¼Œæ›´åœ¨æ–¼ç†è§£å¦‚ä½•åˆç†çµ„ç¹”å’Œå„ªåŒ–å®ƒå€‘ï¼Œå‰µé€ å‡ºè‰²çš„ç”¨æˆ¶é«”é©—ã€‚</p>
                    </div>
                </div>
            
                <div class="tab-pane fade " id="4.-data-type" 
                     role="tabpanel" aria-labelledby="4.-data-type-tab">
                    <div class="content-wrapper">
                        <h1>Flutter Dart è³‡æ–™å‹åˆ¥èˆ‡å‡½æ•¸å®Œå…¨æŒ‡å—</h1>
<h2>ğŸ¯ æ¦‚å¿µé‡æ¸…</h2>
<p>åœ¨ Dart ä¸­ï¼Œ<code>void</code>ã€<code>Future&lt;void&gt;</code>ã€<code>bool</code>ã€<code>List&lt;String&gt;</code>ã€<code>String</code> é€™äº›<strong>ä¸æ˜¯å‡½æ•¸</strong>ï¼Œè€Œæ˜¯<strong>è³‡æ–™å‹åˆ¥</strong>ï¼ˆData Typesï¼‰ã€‚å®ƒå€‘ç”¨ä¾†å‘Šè¨´ç¨‹å¼ï¼š</p>
<ul>
<li>è®Šæ•¸å¯ä»¥å„²å­˜ä»€éº¼é¡å‹çš„è³‡æ–™</li>
<li>å‡½æ•¸æœƒå›å‚³ä»€éº¼é¡å‹çš„å€¼</li>
<li>åƒæ•¸æœŸæœ›æ¥æ”¶ä»€éº¼é¡å‹çš„è³‡æ–™</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="c1">// é€™äº›æ˜¯å‹åˆ¥å®£å‘Šï¼Œä¸æ˜¯å‡½æ•¸ï¼</span>
<span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Flutter&#39;</span><span class="p">;</span><span class="w">           </span><span class="c1">// String å‹åˆ¥çš„è®Šæ•¸</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isVisible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">             </span><span class="c1">// bool å‹åˆ¥çš„è®Šæ•¸  </span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B&#39;</span><span class="p">];</span><span class="w">   </span><span class="c1">// List&lt;String&gt; å‹åˆ¥çš„è®Šæ•¸</span>

<span class="c1">// åœ¨å‡½æ•¸ä¸­ä½¿ç”¨å‹åˆ¥</span>
<span class="kt">String</span><span class="w"> </span><span class="n">getName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">                 </span><span class="c1">// å›å‚³ String å‹åˆ¥</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;Flutter Developer&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">printMessage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">              </span><span class="c1">// ä¸å›å‚³ä»»ä½•å€¼ï¼ˆvoidï¼‰</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Hello World&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ“ Dart åŸºæœ¬è³‡æ–™å‹åˆ¥</h2>
<h3>1. <strong>åŸºæœ¬å‹åˆ¥</strong></h3>
<h4><code>int</code> - æ•´æ•¸</h4>
<div class="codehilite"><pre><span></span><code><span class="c1">// æ•´æ•¸å‹åˆ¥</span>
<span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">25</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="m">10</span><span class="p">;</span>

<span class="c1">// å¸¸ç”¨æ“ä½œ</span>
<span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">20</span><span class="p">;</span><span class="w">        </span><span class="c1">// åŠ æ³•</span>
<span class="kt">int</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">15</span><span class="p">;</span><span class="w"> </span><span class="c1">// æ¸›æ³•</span>
<span class="kt">int</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">6</span><span class="p">;</span><span class="w">      </span><span class="c1">// ä¹˜æ³•</span>
<span class="kt">int</span><span class="w"> </span><span class="n">quotient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="o">~/</span><span class="w"> </span><span class="m">3</span><span class="p">;</span><span class="w">   </span><span class="c1">// æ•´æ•¸é™¤æ³• = 6</span>
<span class="kt">int</span><span class="w"> </span><span class="n">remainder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="m">3</span><span class="p">;</span><span class="w">   </span><span class="c1">// é¤˜æ•¸ = 2</span>

<span class="n">print</span><span class="p">(</span><span class="s1">&#39;å¹´é½¡ï¼š</span><span class="si">$</span><span class="n">age</span><span class="s1">&#39;</span><span class="p">);</span><span class="w">        </span><span class="c1">// å­—ä¸²æ’å€¼</span>
<span class="n">print</span><span class="p">(</span><span class="s1">&#39;åˆ†æ•¸æ˜¯å¦åŠæ ¼ï¼š</span><span class="si">${</span><span class="n">score</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">60</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// æ¯”è¼ƒé‹ç®—</span>
</code></pre></div>

<h4><code>double</code> - æµ®é»æ•¸</h4>
<div class="codehilite"><pre><span></span><code><span class="c1">// æµ®é»æ•¸å‹åˆ¥</span>
<span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">175.5</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">weight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">68.2</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">pi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3.14159</span><span class="p">;</span>

<span class="c1">// æ•¸å­¸é‹ç®—</span>
<span class="kt">double</span><span class="w"> </span><span class="n">bmi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">weight</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">((</span><span class="n">height</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">height</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">100</span><span class="p">));</span>
<span class="kt">double</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pi</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">5</span><span class="p">;</span><span class="w"> </span><span class="c1">// åœ“é¢ç©</span>

<span class="c1">// ç²¾åº¦æ§åˆ¶</span>
<span class="kt">double</span><span class="w"> </span><span class="n">rounded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="n">bmi</span><span class="p">.</span><span class="n">toStringAsFixed</span><span class="p">(</span><span class="m">2</span><span class="p">));</span><span class="w"> </span><span class="c1">// ä¿ç•™å…©ä½å°æ•¸</span>

<span class="n">print</span><span class="p">(</span><span class="s1">&#39;BMI: </span><span class="si">${</span><span class="n">bmi</span><span class="p">.</span><span class="n">toStringAsFixed</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
</code></pre></div>

<h4><code>String</code> - å­—ä¸²</h4>
<div class="codehilite"><pre><span></span><code><span class="c1">// å­—ä¸²å®£å‘Šæ–¹å¼</span>
<span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Flutter Developer&#39;</span><span class="p">;</span>
<span class="kt">String</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;æ‡‰ç”¨ç¨‹å¼é–‹ç™¼è€…&quot;</span><span class="p">;</span>
<span class="kt">String</span><span class="w"> </span><span class="n">multiLine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">é€™æ˜¯å¤šè¡Œå­—ä¸²</span>
<span class="s1">å¯ä»¥åŒ…å«æ›è¡Œ</span>
<span class="s1">éå¸¸æ–¹ä¾¿</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">;</span>

<span class="c1">// å­—ä¸²æ“ä½œ</span>
<span class="kt">String</span><span class="w"> </span><span class="n">firstName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;John&#39;</span><span class="p">;</span>
<span class="kt">String</span><span class="w"> </span><span class="n">lastName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Doe&#39;</span><span class="p">;</span>
<span class="kt">String</span><span class="w"> </span><span class="n">fullName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;</span><span class="si">$</span><span class="n">firstName</span><span class="s1"> </span><span class="si">$</span><span class="n">lastName</span><span class="s1">&#39;</span><span class="p">;</span><span class="w">        </span><span class="c1">// å­—ä¸²æ’å€¼</span>
<span class="kt">String</span><span class="w"> </span><span class="n">upperName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fullName</span><span class="p">.</span><span class="n">toUpperCase</span><span class="p">();</span><span class="w">       </span><span class="c1">// è½‰å¤§å¯«</span>
<span class="kt">String</span><span class="w"> </span><span class="n">lowerName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fullName</span><span class="p">.</span><span class="n">toLowerCase</span><span class="p">();</span><span class="w">       </span><span class="c1">// è½‰å°å¯«</span>

<span class="c1">// å­—ä¸²æ–¹æ³•</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isEmpty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">;</span><span class="w">                     </span><span class="c1">// æª¢æŸ¥æ˜¯å¦ç‚ºç©º</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;Flutter&#39;</span><span class="p">);</span><span class="w">       </span><span class="c1">// åŒ…å«æª¢æŸ¥</span>
<span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w">                        </span><span class="c1">// å­—ä¸²é•·åº¦</span>
<span class="kt">String</span><span class="w"> </span><span class="n">substring</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="n">substring</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">7</span><span class="p">);</span><span class="w">        </span><span class="c1">// å­å­—ä¸²</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">words</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">);</span><span class="w">           </span><span class="c1">// åˆ†å‰²å­—ä¸²</span>

<span class="c1">// å­—ä¸²æ¯”è¼ƒ</span>
<span class="kt">String</span><span class="w"> </span><span class="n">str1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Hello&#39;</span><span class="p">;</span>
<span class="kt">String</span><span class="w"> </span><span class="n">str2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;hello&#39;</span><span class="p">;</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isEqual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">str2</span><span class="p">;</span><span class="w">                     </span><span class="c1">// false (å¤§å°å¯«æ•æ„Ÿ)</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isEqualIgnoreCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str1</span><span class="p">.</span><span class="n">toLowerCase</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">str2</span><span class="p">.</span><span class="n">toLowerCase</span><span class="p">();</span><span class="w"> </span><span class="c1">// true</span>

<span class="n">print</span><span class="p">(</span><span class="s1">&#39;å…¨åï¼š</span><span class="si">$</span><span class="n">fullName</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="n">print</span><span class="p">(</span><span class="s1">&#39;åŒ…å« Flutterï¼š</span><span class="si">$</span><span class="n">contains</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="n">print</span><span class="p">(</span><span class="s1">&#39;å­—ä¸²é•·åº¦ï¼š</span><span class="si">$</span><span class="n">length</span><span class="s1">&#39;</span><span class="p">);</span>
</code></pre></div>

<h4><code>bool</code> - å¸ƒæ—å€¼</h4>
<div class="codehilite"><pre><span></span><code><span class="c1">// å¸ƒæ—å€¼åªæœ‰å…©å€‹å€¼ï¼štrue æˆ– false</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isLoggedIn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isAdmin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isVisible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>

<span class="c1">// é‚è¼¯é‹ç®—</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">result1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">   </span><span class="c1">// AND é‹ç®— = false</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">result2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">   </span><span class="c1">// OR é‹ç®— = true</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">result3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="kc">true</span><span class="p">;</span><span class="w">           </span><span class="c1">// NOT é‹ç®— = false</span>

<span class="c1">// æ¢ä»¶åˆ¤æ–·</span>
<span class="kt">int</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">85</span><span class="p">;</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isPassed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">60</span><span class="p">;</span><span class="w">    </span><span class="c1">// true</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isExcellent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">90</span><span class="p">;</span><span class="w"> </span><span class="c1">// false</span>

<span class="c1">// åœ¨æ¢ä»¶èªå¥ä¸­ä½¿ç”¨</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isLoggedIn</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">isAdmin</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æ­¡è¿ç®¡ç†å“¡&#39;</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isLoggedIn</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æ­¡è¿ä½¿ç”¨è€…&#39;</span><span class="p">);</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;è«‹å…ˆç™»å…¥&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ä¸‰å…ƒé‹ç®—å­</span>
<span class="kt">String</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">isLoggedIn</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;å·²ç™»å…¥&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;æœªç™»å…¥&#39;</span><span class="p">;</span>
</code></pre></div>

<h3>2. <strong>é›†åˆå‹åˆ¥</strong></h3>
<h4><code>List&lt;T&gt;</code> - é™£åˆ—/æ¸…å–®</h4>
<div class="codehilite"><pre><span></span><code><span class="c1">// List å®£å‘Šæ–¹å¼</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fruits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;è˜‹æœ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;é¦™è•‰&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ©˜å­&#39;</span><span class="p">];</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">];</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="w"> </span><span class="n">flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">];</span>

<span class="c1">// ç©º List</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">emptyList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">emptyList2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">[];</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">emptyList3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">.</span><span class="n">empty</span><span class="p">(</span><span class="nl">growable:</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>

<span class="c1">// List æ“ä½œ</span>
<span class="n">fruits</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;è‘¡è„&#39;</span><span class="p">);</span><span class="w">                    </span><span class="c1">// æ–°å¢å…ƒç´ </span>
<span class="n">fruits</span><span class="p">.</span><span class="n">addAll</span><span class="p">([</span><span class="s1">&#39;èŠ’æœ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;é³³æ¢¨&#39;</span><span class="p">]);</span><span class="w">        </span><span class="c1">// æ–°å¢å¤šå€‹å…ƒç´ </span>
<span class="n">fruits</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;å¥‡ç•°æœ&#39;</span><span class="p">);</span><span class="w">            </span><span class="c1">// åœ¨æŒ‡å®šä½ç½®æ’å…¥</span>
<span class="n">fruits</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;é¦™è•‰&#39;</span><span class="p">);</span><span class="w">                 </span><span class="c1">// ç§»é™¤ç‰¹å®šå…ƒç´ </span>
<span class="n">fruits</span><span class="p">.</span><span class="n">removeAt</span><span class="p">(</span><span class="m">0</span><span class="p">);</span><span class="w">                   </span><span class="c1">// ç§»é™¤æŒ‡å®šä½ç½®å…ƒç´ </span>
<span class="n">fruits</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span><span class="w">                       </span><span class="c1">// æ¸…ç©ºæ‰€æœ‰å…ƒç´ </span>

<span class="c1">// List å±¬æ€§</span>
<span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fruits</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w">           </span><span class="c1">// å–å¾—é•·åº¦</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isEmpty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fruits</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">;</span><span class="w">        </span><span class="c1">// æª¢æŸ¥æ˜¯å¦ç‚ºç©º</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isNotEmpty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fruits</span><span class="p">.</span><span class="n">isNotEmpty</span><span class="p">;</span><span class="w">  </span><span class="c1">// æª¢æŸ¥æ˜¯å¦éç©º</span>
<span class="kt">String</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fruits</span><span class="p">.</span><span class="n">first</span><span class="p">;</span><span class="w">          </span><span class="c1">// ç¬¬ä¸€å€‹å…ƒç´ </span>
<span class="kt">String</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fruits</span><span class="p">.</span><span class="n">last</span><span class="p">;</span><span class="w">            </span><span class="c1">// æœ€å¾Œä¸€å€‹å…ƒç´ </span>

<span class="c1">// List éæ­·</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">fruit</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fruits</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æ°´æœï¼š</span><span class="si">$</span><span class="n">fruit</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">fruits</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;ç¬¬ </span><span class="si">${</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="si">}</span><span class="s1"> å€‹æ°´æœï¼š</span><span class="si">${</span><span class="n">fruits</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">fruits</span><span class="p">.</span><span class="n">forEach</span><span class="p">((</span><span class="n">fruit</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;ä½¿ç”¨ forEachï¼š</span><span class="si">$</span><span class="n">fruit</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// List è½‰æ›</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">upperFruits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fruits</span><span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">fruit</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">fruit</span><span class="p">.</span><span class="n">toUpperCase</span><span class="p">()).</span><span class="n">toList</span><span class="p">();</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">longNames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fruits</span><span class="p">.</span><span class="n">where</span><span class="p">((</span><span class="n">fruit</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">fruit</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">2</span><span class="p">).</span><span class="n">toList</span><span class="p">();</span>

<span class="c1">// ç¯„ä¾‹ï¼šå»ºç«‹è³¼ç‰©æ¸…å–® Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ShoppingList</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;ç‰›å¥¶&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;éºµåŒ…&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;é›è›‹&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;è˜‹æœ&#39;</span><span class="p">];</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ListView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
<span class="w">      </span><span class="nl">itemCount:</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="n">length</span><span class="p">,</span>
<span class="w">      </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">          </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">shopping_cart</span><span class="p">),</span>
<span class="w">          </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]),</span>
<span class="w">          </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">delete</span><span class="p">),</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="c1">// ç§»é™¤é …ç›®çš„é‚è¼¯</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h4><code>Map&lt;K, V&gt;</code> - å­—å…¸/å°æ˜ </h4>
<div class="codehilite"><pre><span></span><code><span class="c1">// Map å®£å‘Šæ–¹å¼</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">userInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;å¼µå°æ˜&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;email&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ming@example.com&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;phone&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;0912-345-678&#39;</span>
<span class="p">};</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">scores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;åœ‹æ–‡&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">85</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;è‹±æ–‡&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">92</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;æ•¸å­¸&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">78</span>
<span class="p">};</span>

<span class="c1">// ç©º Map</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">emptyMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">emptyMap2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;</span><span class="p">{};</span>

<span class="c1">// Map æ“ä½œ</span>
<span class="n">userInfo</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;å°åŒ—å¸‚ä¿¡ç¾©å€&#39;</span><span class="p">;</span><span class="w">     </span><span class="c1">// æ–°å¢/æ›´æ–°</span>
<span class="n">userInfo</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">);</span><span class="w">               </span><span class="c1">// ç§»é™¤</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">hasEmail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userInfo</span><span class="p">.</span><span class="n">containsKey</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// æª¢æŸ¥éµæ˜¯å¦å­˜åœ¨</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">hasValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userInfo</span><span class="p">.</span><span class="n">containsValue</span><span class="p">(</span><span class="s1">&#39;å¼µå°æ˜&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// æª¢æŸ¥å€¼æ˜¯å¦å­˜åœ¨</span>

<span class="c1">// Map å±¬æ€§å’Œæ–¹æ³•</span>
<span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userInfo</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w">           </span><span class="c1">// å–å¾—å¤§å°</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isEmpty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userInfo</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">;</span><span class="w">        </span><span class="c1">// æª¢æŸ¥æ˜¯å¦ç‚ºç©º</span>
<span class="n">Iterable</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userInfo</span><span class="p">.</span><span class="n">keys</span><span class="p">;</span><span class="w">  </span><span class="c1">// å–å¾—æ‰€æœ‰éµ</span>
<span class="n">Iterable</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userInfo</span><span class="p">.</span><span class="n">values</span><span class="p">;</span><span class="w"> </span><span class="c1">// å–å¾—æ‰€æœ‰å€¼</span>

<span class="c1">// Map éæ­·</span>
<span class="n">userInfo</span><span class="p">.</span><span class="n">forEach</span><span class="p">((</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">key</span><span class="s1">: </span><span class="si">$</span><span class="n">value</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="p">});</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">userInfo</span><span class="p">.</span><span class="n">keys</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">key</span><span class="s1">: </span><span class="si">${</span><span class="n">userInfo</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// å®‰å…¨å–å€¼ï¼ˆé¿å… nullï¼‰</span>
<span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userInfo</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">];</span><span class="w">      </span><span class="c1">// å¯èƒ½ç‚º null</span>
<span class="kt">String</span><span class="w"> </span><span class="n">emailSafe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userInfo</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;æœªè¨­å®š&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// æä¾›é è¨­å€¼</span>

<span class="c1">// ç¯„ä¾‹ï¼šä½¿ç”¨è€…è¨­å®š Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UserProfile</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s1">&#39;avatar&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;assets/images/avatar.png&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;å¼µå°æ˜&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;age&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">25</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;isVip&#39;</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;joinDate&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">DateTime</span><span class="p">(</span><span class="m">2023</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">15</span><span class="p">),</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">CircleAvatar</span><span class="p">(</span>
<span class="w">          </span><span class="nl">backgroundImage:</span><span class="w"> </span><span class="n">AssetImage</span><span class="p">(</span><span class="n">profile</span><span class="p">[</span><span class="s1">&#39;avatar&#39;</span><span class="p">]),</span>
<span class="w">          </span><span class="nl">radius:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">        </span><span class="n">Text</span><span class="p">(</span>
<span class="w">          </span><span class="n">profile</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
<span class="w">          </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;å¹´é½¡ï¼š</span><span class="si">${</span><span class="n">profile</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">profile</span><span class="p">[</span><span class="s1">&#39;isVip&#39;</span><span class="p">])</span><span class="w"> </span>
<span class="w">          </span><span class="n">Chip</span><span class="p">(</span>
<span class="w">            </span><span class="nl">label:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;VIP æœƒå“¡&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">gold</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h4><code>Set&lt;T&gt;</code> - é›†åˆï¼ˆä¸é‡è¤‡å…ƒç´ ï¼‰</h4>
<div class="codehilite"><pre><span></span><code><span class="c1">// Set å®£å‘Š</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">uniqueFruits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;è˜‹æœ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;é¦™è•‰&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ©˜å­&#39;</span><span class="p">};</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">uniqueNumbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">};</span><span class="w"> </span><span class="c1">// é‡è¤‡çš„ 3 åªæœƒä¿ç•™ä¸€å€‹</span>

<span class="c1">// Set æ“ä½œ</span>
<span class="n">uniqueFruits</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;è‘¡è„&#39;</span><span class="p">);</span><span class="w">               </span><span class="c1">// æ–°å¢</span>
<span class="n">uniqueFruits</span><span class="p">.</span><span class="n">addAll</span><span class="p">([</span><span class="s1">&#39;èŠ’æœ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;è˜‹æœ&#39;</span><span class="p">]);</span><span class="w">   </span><span class="c1">// æ–°å¢å¤šå€‹ï¼ˆé‡è¤‡çš„æœƒè¢«å¿½ç•¥ï¼‰</span>
<span class="n">uniqueFruits</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;é¦™è•‰&#39;</span><span class="p">);</span><span class="w">            </span><span class="c1">// ç§»é™¤</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uniqueFruits</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;è˜‹æœ&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// æª¢æŸ¥æ˜¯å¦åŒ…å«</span>

<span class="c1">// Set é‹ç®—</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">set1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">};</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">set2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">};</span>

<span class="n">Set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">union</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">set1</span><span class="p">.</span><span class="n">union</span><span class="p">(</span><span class="n">set2</span><span class="p">);</span><span class="w">           </span><span class="c1">// è¯é›† {1, 2, 3, 4, 5, 6}</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">intersection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">set1</span><span class="p">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">set2</span><span class="p">);</span><span class="w"> </span><span class="c1">// äº¤é›† {3, 4}</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">set1</span><span class="p">.</span><span class="n">difference</span><span class="p">(</span><span class="n">set2</span><span class="p">);</span><span class="w">     </span><span class="c1">// å·®é›† {1, 2}</span>

<span class="c1">// è½‰æ›</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fruitList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uniqueFruits</span><span class="p">.</span><span class="n">toList</span><span class="p">();</span><span class="w"> </span><span class="c1">// Set è½‰ List</span>
<span class="n">Set</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fruitSet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fruitList</span><span class="p">.</span><span class="n">toSet</span><span class="p">();</span><span class="w">       </span><span class="c1">// List è½‰ Setï¼ˆå»é‡è¤‡ï¼‰</span>
</code></pre></div>

<hr />
<h2>ğŸ”„ å‡½æ•¸èˆ‡å›å‚³å‹åˆ¥</h2>
<h3>1. <strong>void - ç„¡å›å‚³å€¼</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// void è¡¨ç¤ºå‡½æ•¸ä¸å›å‚³ä»»ä½•å€¼</span>
<span class="kt">void</span><span class="w"> </span><span class="n">printWelcome</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æ­¡è¿ä½¿ç”¨ Flutter æ‡‰ç”¨ç¨‹å¼ï¼&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// æ²’æœ‰ return èªå¥ï¼Œæˆ–è€… return; ï¼ˆä¸å›å‚³å€¼ï¼‰</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">updateUserInfo</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æ›´æ–°ä½¿ç”¨è€…è³‡è¨Šï¼š</span><span class="si">$</span><span class="n">name</span><span class="s1">, </span><span class="si">$</span><span class="n">age</span><span class="s1"> æ­²&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// åŸ·è¡Œæ›´æ–°é‚è¼¯ï¼Œä½†ä¸å›å‚³çµæœ</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">showDialog</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">showDialog</span><span class="p">(</span>
<span class="w">    </span><span class="nl">context:</span><span class="w"> </span><span class="n">context</span><span class="p">,</span>
<span class="w">    </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">AlertDialog</span><span class="p">(</span>
<span class="w">      </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;æç¤º&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="nl">content:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">message</span><span class="p">),</span>
<span class="w">      </span><span class="nl">actions:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">TextButton</span><span class="p">(</span>
<span class="w">          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">),</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ç¢ºå®š&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// åœ¨ Widget ä¸­çš„ä½¿ç”¨</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">MyWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_handleButtonPress</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// void å‡½æ•¸</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æŒ‰éˆ•è¢«é»æ“Šäº†&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// åŸ·è¡ŒæŸäº›å‹•ä½œï¼Œä½†ä¸éœ€è¦å›å‚³å€¼</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">      </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_handleButtonPress</span><span class="p">,</span><span class="w"> </span><span class="c1">// å‚³é void å‡½æ•¸</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;é»æ“Šæˆ‘&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>2. <strong>å…·é«”å‹åˆ¥å›å‚³</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// String å›å‚³å‹åˆ¥</span>
<span class="kt">String</span><span class="w"> </span><span class="n">getUserName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;å¼µå°æ˜&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">String</span><span class="w"> </span><span class="n">formatDate</span><span class="p">(</span><span class="n">DateTime</span><span class="w"> </span><span class="n">date</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;</span><span class="si">${</span><span class="n">date</span><span class="p">.</span><span class="n">year</span><span class="si">}</span><span class="s1">å¹´</span><span class="si">${</span><span class="n">date</span><span class="p">.</span><span class="n">month</span><span class="si">}</span><span class="s1">æœˆ</span><span class="si">${</span><span class="n">date</span><span class="p">.</span><span class="n">day</span><span class="si">}</span><span class="s1">æ—¥&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// int å›å‚³å‹åˆ¥</span>
<span class="kt">int</span><span class="w"> </span><span class="n">calculateAge</span><span class="p">(</span><span class="n">DateTime</span><span class="w"> </span><span class="n">birthDate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">DateTime</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">now</span><span class="p">();</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="p">.</span><span class="n">year</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">birthDate</span><span class="p">.</span><span class="n">year</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">month</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">birthDate</span><span class="p">.</span><span class="n">month</span><span class="w"> </span><span class="o">||</span><span class="w"> </span>
<span class="w">      </span><span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">month</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">birthDate</span><span class="p">.</span><span class="n">month</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">now</span><span class="p">.</span><span class="n">day</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">birthDate</span><span class="p">.</span><span class="n">day</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">age</span><span class="o">--</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">age</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// bool å›å‚³å‹åˆ¥</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">isEmailValid</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">email</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="s1">r&#39;^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$&#39;</span><span class="p">).</span><span class="n">hasMatch</span><span class="p">(</span><span class="n">email</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span><span class="w"> </span><span class="n">isAdult</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">18</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// List å›å‚³å‹åˆ¥</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getWeekdays</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;æ˜ŸæœŸä¸€&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ˜ŸæœŸäºŒ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ˜ŸæœŸä¸‰&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ˜ŸæœŸå››&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ˜ŸæœŸäº”&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ˜ŸæœŸå…­&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ˜ŸæœŸæ—¥&#39;</span><span class="p">];</span>
<span class="p">}</span>

<span class="n">List</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">generateNumbers</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Map å›å‚³å‹åˆ¥</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createUserData</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">email</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;age&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">age</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;email&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">email</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;createdAt&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">toIso8601String</span><span class="p">(),</span>
<span class="w">    </span><span class="s1">&#39;isActive&#39;</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">}</span>

<span class="c1">// å¯¦éš›ä½¿ç”¨ç¯„ä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UserService</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// å–å¾—ä½¿ç”¨è€…é¡¯ç¤ºåç¨±</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">getDisplayName</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">String</span><span class="w"> </span><span class="n">firstName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;firstName&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="kt">String</span><span class="w"> </span><span class="n">lastName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;lastName&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;</span><span class="si">$</span><span class="n">lastName</span><span class="s1"> </span><span class="si">$</span><span class="n">firstName</span><span class="s1">&#39;</span><span class="p">.</span><span class="n">trim</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æª¢æŸ¥ä½¿ç”¨è€…æ¬Šé™</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">hasPermission</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">permission</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">permissions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">.</span><span class="n">from</span><span class="p">(</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;permissions&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="p">[]);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">permissions</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="n">permission</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// å–å¾—ä½¿ç”¨è€…çš„æœ‹å‹æ¸…å–®</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getFriendNames</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">friends</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;</span><span class="p">.</span><span class="n">from</span><span class="p">(</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;friends&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="p">[]);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">friends</span><span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">friend</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">friend</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">String</span><span class="p">).</span><span class="n">toList</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>3. <strong>Future<T> - ç•°æ­¥å›å‚³å‹åˆ¥</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// Future&lt;void&gt; - ç•°æ­¥æ“ä½œä½†ä¸å›å‚³å€¼</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">loadUserData</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;é–‹å§‹è¼‰å…¥ä½¿ç”¨è€…è³‡æ–™...&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">2</span><span class="p">));</span><span class="w"> </span><span class="c1">// æ¨¡æ“¬ç¶²è·¯å»¶é²</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;ä½¿ç”¨è€…è³‡æ–™è¼‰å…¥å®Œæˆ&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// ä¸å›å‚³ä»»ä½•å€¼ï¼Œåªæ˜¯åŸ·è¡Œç•°æ­¥æ“ä½œ</span>
<span class="p">}</span>

<span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">saveToDatabase</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// æ¨¡æ“¬å„²å­˜åˆ°è³‡æ–™åº«</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">milliseconds:</span><span class="w"> </span><span class="m">500</span><span class="p">));</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;è³‡æ–™å·²å„²å­˜ï¼š</span><span class="si">$</span><span class="n">data</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Future&lt;String&gt; - ç•°æ­¥å›å‚³å­—ä¸²</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fetchUserName</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// æ¨¡æ“¬ API å‘¼å«</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">1</span><span class="p">));</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;ä½¿ç”¨è€…_</span><span class="si">$</span><span class="n">userId</span><span class="s1">&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">Future</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">downloadFile</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">url</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;é–‹å§‹ä¸‹è¼‰ï¼š</span><span class="si">$</span><span class="n">url</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">3</span><span class="p">));</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/downloads/file_</span><span class="si">${</span><span class="n">DateTime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">millisecondsSinceEpoch</span><span class="si">}</span><span class="s1">.zip&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Future&lt;bool&gt; - ç•°æ­¥å›å‚³å¸ƒæ—å€¼</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="w"> </span><span class="n">authenticateUser</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">password</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">1</span><span class="p">));</span><span class="w"> </span><span class="c1">// æ¨¡æ“¬é©—è­‰éç¨‹</span>

<span class="w">  </span><span class="c1">// ç°¡å–®çš„é©—è­‰é‚è¼¯</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">username</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;123456&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">Future</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="w"> </span><span class="n">checkNetworkConnection</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// æª¢æŸ¥ç¶²è·¯é€£ç·šç‹€æ…‹</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">milliseconds:</span><span class="w"> </span><span class="m">200</span><span class="p">));</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w"> </span><span class="c1">// å‡è¨­æœ‰ç¶²è·¯é€£ç·š</span>
<span class="p">}</span>

<span class="c1">// Future&lt;List&lt;T&gt;&gt; - ç•°æ­¥å›å‚³åˆ—è¡¨</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">fetchNotifications</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">2</span><span class="p">));</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s1">&#39;æ‚¨æœ‰æ–°çš„è¨Šæ¯&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;ç³»çµ±ç¶­è­·é€šçŸ¥&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;å¥½å‹é‚€è«‹&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;æ´»å‹•æé†’&#39;</span>
<span class="w">  </span><span class="p">];</span>
<span class="p">}</span>

<span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">fetchProducts</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">1</span><span class="p">));</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;iPhone 15&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;price&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">30900</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;iPad Air&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;price&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">19900</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;MacBook Pro&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;price&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">65900</span><span class="p">},</span>
<span class="w">  </span><span class="p">];</span>
<span class="p">}</span>

<span class="c1">// Future&lt;Map&lt;K, V&gt;&gt; - ç•°æ­¥å›å‚³å°æ˜ </span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">fetchWeatherData</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">city</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">milliseconds:</span><span class="w"> </span><span class="m">800</span><span class="p">));</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s1">&#39;city&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">city</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;temperature&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">25.6</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;humidity&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">65</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;condition&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;æ™´æœ—&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;forecast&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;ä»Šæ—¥æ™´&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ˜æ—¥é™°&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;å¾Œæ—¥é›¨&#39;</span><span class="p">],</span>
<span class="w">    </span><span class="s1">&#39;lastUpdated&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">toIso8601String</span><span class="p">(),</span>
<span class="w">  </span><span class="p">};</span>
<span class="p">}</span>

<span class="c1">// åœ¨ Widget ä¸­ä½¿ç”¨ Future</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">AsyncDataWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_AsyncDataWidgetState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_AsyncDataWidgetState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_AsyncDataWidgetState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">AsyncDataWidget</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">userName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">notifications</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">initState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">initState</span><span class="p">();</span>
<span class="w">    </span><span class="n">_loadData</span><span class="p">();</span><span class="w"> </span><span class="c1">// åœ¨åˆå§‹åŒ–æ™‚è¼‰å…¥è³‡æ–™</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// è¼‰å…¥è³‡æ–™çš„ç•°æ­¥æ–¹æ³•</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_loadData</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// ä¸¦è¡ŒåŸ·è¡Œå¤šå€‹ç•°æ­¥æ“ä½œ</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">wait</span><span class="p">([</span>
<span class="w">        </span><span class="n">fetchUserName</span><span class="p">(</span><span class="s1">&#39;user123&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="n">fetchNotifications</span><span class="p">(),</span>
<span class="w">      </span><span class="p">]);</span>

<span class="w">      </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">userName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">results</span><span class="p">[</span><span class="m">0</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">String</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifications</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">results</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">        </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;è¼‰å…¥è³‡æ–™æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼š</span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// é‡æ–°æ•´ç†è³‡æ–™</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_refreshData</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">_loadData</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isLoading</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">CircularProgressIndicator</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">RefreshIndicator</span><span class="p">(</span>
<span class="w">      </span><span class="nl">onRefresh:</span><span class="w"> </span><span class="n">_refreshData</span><span class="p">,</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;æ­¡è¿ï¼Œ</span><span class="si">$</span><span class="n">userName</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">          </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;é€šçŸ¥ (</span><span class="si">${</span><span class="n">notifications</span><span class="p">.</span><span class="n">length</span><span class="si">}</span><span class="s1">)ï¼š&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
<span class="w">              </span><span class="nl">itemCount:</span><span class="w"> </span><span class="n">notifications</span><span class="p">.</span><span class="n">length</span><span class="p">,</span>
<span class="w">              </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">notifications</span><span class="p">),</span>
<span class="w">                  </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">notifications</span><span class="p">[</span><span class="n">index</span><span class="p">]),</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ç•°æ­¥æ“ä½œçš„éŒ¯èª¤è™•ç†</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ApiService</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// å¸¶éŒ¯èª¤è™•ç†çš„ç•°æ­¥æ–¹æ³•</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;?&gt;</span><span class="w"> </span><span class="n">loginUser</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">password</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// æ¨¡æ“¬ç™»å…¥ API å‘¼å«</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">2</span><span class="p">));</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">email</span><span class="p">.</span><span class="n">isEmpty</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">password</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">Exception</span><span class="p">(</span><span class="s1">&#39;é›»å­éƒµä»¶å’Œå¯†ç¢¼ä¸èƒ½ç‚ºç©º&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">isEmailValid</span><span class="p">(</span><span class="n">email</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">Exception</span><span class="p">(</span><span class="s1">&#39;é›»å­éƒµä»¶æ ¼å¼ä¸æ­£ç¢º&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="kt">bool</span><span class="w"> </span><span class="n">isAuthenticated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">authenticateUser</span><span class="p">(</span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">isAuthenticated</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">Exception</span><span class="p">(</span><span class="s1">&#39;é›»å­éƒµä»¶æˆ–å¯†ç¢¼éŒ¯èª¤&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s1">&#39;success&#39;</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;user&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="s1">&#39;email&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">email</span><span class="p">,</span>
<span class="w">          </span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;å¼µå°æ˜&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="s1">&#39;token&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;jwt_token_here&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;ç™»å…¥å¤±æ•—ï¼š</span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s1">&#39;success&#39;</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;error&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="n">toString</span><span class="p">(),</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// ä½¿ç”¨ async/await è™•ç†å¤šå€‹ç•°æ­¥æ“ä½œ</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="w"> </span><span class="n">updateUserProfile</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">userId</span><span class="p">,</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">profileData</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// 1. é©—è­‰è³‡æ–™</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">profileData</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">Exception</span><span class="p">(</span><span class="s1">&#39;æ›´æ–°è³‡æ–™ä¸èƒ½ç‚ºç©º&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="c1">// 2. ä¸Šå‚³é ­åƒï¼ˆå¦‚æœæœ‰ï¼‰</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">profileData</span><span class="p">.</span><span class="n">containsKey</span><span class="p">(</span><span class="s1">&#39;avatar&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">String</span><span class="w"> </span><span class="n">avatarUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">uploadAvatar</span><span class="p">(</span><span class="n">profileData</span><span class="p">[</span><span class="s1">&#39;avatar&#39;</span><span class="p">]);</span>
<span class="w">        </span><span class="n">profileData</span><span class="p">[</span><span class="s1">&#39;avatarUrl&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">avatarUrl</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="c1">// 3. æ›´æ–°ä½¿ç”¨è€…è³‡æ–™</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">updateDatabase</span><span class="p">(</span><span class="n">userId</span><span class="p">,</span><span class="w"> </span><span class="n">profileData</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// 4. æ¸…é™¤å¿«å–</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">clearUserCache</span><span class="p">(</span><span class="n">userId</span><span class="p">);</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æ›´æ–°å€‹äººè³‡æ–™å¤±æ•—ï¼š</span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// è¼”åŠ©æ–¹æ³•</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">uploadAvatar</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">imagePath</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">1</span><span class="p">));</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;https://cdn.example.com/avatars/user_avatar.jpg&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">updateDatabase</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">userId</span><span class="p">,</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">milliseconds:</span><span class="w"> </span><span class="m">500</span><span class="p">));</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;è³‡æ–™åº«å·²æ›´æ–°ï¼šä½¿ç”¨è€… </span><span class="si">$</span><span class="n">userId</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">clearUserCache</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">milliseconds:</span><span class="w"> </span><span class="m">100</span><span class="p">));</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;å¿«å–å·²æ¸…é™¤ï¼šä½¿ç”¨è€… </span><span class="si">$</span><span class="n">userId</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ”§ é¡å‹å®‰å…¨èˆ‡ Null Safety</h2>
<h3>1. <strong>å¯ç‚ºç©ºçš„å‹åˆ¥ï¼ˆNullable Typesï¼‰</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// å¯ç‚ºç©ºçš„å‹åˆ¥ï¼ˆåœ¨å‹åˆ¥å¾ŒåŠ  ?ï¼‰</span>
<span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">nullableName</span><span class="p">;</span><span class="w">           </span><span class="c1">// å¯ä»¥æ˜¯ String æˆ– null</span>
<span class="kt">int</span><span class="o">?</span><span class="w"> </span><span class="n">nullableAge</span><span class="p">;</span><span class="w">               </span><span class="c1">// å¯ä»¥æ˜¯ int æˆ– null</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;?</span><span class="w"> </span><span class="n">nullableList</span><span class="p">;</span><span class="w">     </span><span class="c1">// å¯ä»¥æ˜¯ List&lt;String&gt; æˆ– null</span>

<span class="c1">// ä¸å¯ç‚ºç©ºçš„å‹åˆ¥ï¼ˆé è¨­ï¼‰</span>
<span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Flutter&#39;</span><span class="p">;</span><span class="w">        </span><span class="c1">// å¿…é ˆæœ‰å€¼ï¼Œä¸èƒ½æ˜¯ null</span>
<span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">25</span><span class="p">;</span><span class="w">                   </span><span class="c1">// å¿…é ˆæœ‰å€¼ï¼Œä¸èƒ½æ˜¯ null</span>

<span class="c1">// æª¢æŸ¥å’Œä½¿ç”¨å¯ç‚ºç©ºçš„å€¼</span>
<span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">getUserName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// å¯èƒ½å›å‚³ null</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">handleUserName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getUserName</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// æ–¹æ³•1ï¼šä½¿ç”¨ if æª¢æŸ¥</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;ä½¿ç”¨è€…åç¨±ï¼š</span><span class="si">$</span><span class="n">name</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;åç¨±é•·åº¦ï¼š</span><span class="si">${</span><span class="n">name</span><span class="p">.</span><span class="n">length</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// å®‰å…¨å­˜å–</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ–¹æ³•2ï¼šä½¿ç”¨ null-aware é‹ç®—å­</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;åç¨±é•·åº¦ï¼š</span><span class="si">${</span><span class="n">name</span><span class="o">?</span><span class="p">.</span><span class="n">length</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span><span class="w">      </span><span class="c1">// å¦‚æœ name ç‚º nullï¼Œçµæœç‚º null</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;ä½¿ç”¨è€…åç¨±ï¼š</span><span class="si">${</span><span class="n">name</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s2">&quot;è¨ªå®¢&quot;</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span><span class="w">   </span><span class="c1">// å¦‚æœ name ç‚º nullï¼Œä½¿ç”¨é è¨­å€¼</span>

<span class="w">  </span><span class="c1">// æ–¹æ³•3ï¼šå¼·åˆ¶æ–·è¨€ï¼ˆéœ€ç¢ºä¿ä¸ç‚º nullï¼‰</span>
<span class="w">  </span><span class="c1">// print(&#39;åç¨±é•·åº¦ï¼š${name!.length}&#39;);   // å±éšªï¼å¦‚æœ name ç‚º null æœƒæ‹‹å‡ºç•°å¸¸</span>
<span class="p">}</span>

<span class="c1">// å¯¦éš›æ‡‰ç”¨ç¯„ä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UserProfile</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">                    </span><span class="c1">// å¿…å¡«</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">;</span><span class="w">                        </span><span class="c1">// å¿…å¡«</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">email</span><span class="p">;</span><span class="w">                  </span><span class="c1">// å¯é¸</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">phone</span><span class="p">;</span><span class="w">                  </span><span class="c1">// å¯é¸</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;?</span><span class="w"> </span><span class="n">hobbies</span><span class="p">;</span><span class="w">          </span><span class="c1">// å¯é¸</span>

<span class="w">  </span><span class="n">UserProfile</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w">           </span><span class="c1">// å¿…é ˆæä¾›</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">age</span><span class="p">,</span><span class="w">            </span><span class="c1">// å¿…é ˆæä¾›</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">email</span><span class="p">,</span><span class="w">                   </span><span class="c1">// å¯é¸åƒæ•¸</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">phone</span><span class="p">,</span><span class="w">                   </span><span class="c1">// å¯é¸åƒæ•¸</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">hobbies</span><span class="p">,</span><span class="w">                 </span><span class="c1">// å¯é¸åƒæ•¸</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// å®‰å…¨å–å¾—é›»å­éƒµä»¶</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">getEmailDisplay</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;æœªè¨­å®š&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// å®‰å…¨å–å¾—æ„›å¥½æ•¸é‡</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">getHobbyCount</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">hobbies</span><span class="o">?</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æª¢æŸ¥æ˜¯å¦æœ‰è¯çµ¡è³‡è¨Š</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">hasContactInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>2. <strong>å‹åˆ¥è½‰æ›èˆ‡æª¢æŸ¥</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// å‹åˆ¥æª¢æŸ¥</span>
<span class="kt">dynamic</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Hello World&#39;</span><span class="p">;</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;é€™æ˜¯å­—ä¸²ï¼š</span><span class="si">$</span><span class="n">value</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;é•·åº¦ï¼š</span><span class="si">${</span><span class="n">value</span><span class="p">.</span><span class="n">length</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// è‡ªå‹•è½‰å‹ï¼Œå¯ä»¥å®‰å…¨ä½¿ç”¨ String æ–¹æ³•</span>
<span class="p">}</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="k">is</span><span class="o">!</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;é€™ä¸æ˜¯æ•´æ•¸&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// å®‰å…¨çš„å‹åˆ¥è½‰æ›</span>
<span class="kt">String</span><span class="w"> </span><span class="n">convertToString</span><span class="p">(</span><span class="kt">dynamic</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">toString</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="kt">double</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">toString</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;unknown&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨ as é€²è¡Œå¼·åˆ¶è½‰å‹ï¼ˆéœ€è¦ç¢ºä¿å‹åˆ¥æ­£ç¢ºï¼‰</span>
<span class="kt">Object</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Flutter&#39;</span><span class="p">;</span>
<span class="kt">String</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">String</span><span class="p">;</span><span class="w">  </span><span class="c1">// å¼·åˆ¶è½‰ç‚º String</span>

<span class="c1">// å®‰å…¨çš„è½‰å‹ï¼ˆå¦‚æœè½‰å‹å¤±æ•—æœƒå›å‚³ nullï¼‰</span>
<span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">safeStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">String</span><span class="o">?</span><span class="p">;</span>

<span class="c1">// æ³›å‹å‹åˆ¥è½‰æ›</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dynamicList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;banana&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;orange&#39;</span><span class="p">];</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stringList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dynamicList</span><span class="p">.</span><span class="n">cast</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">();</span><span class="w"> </span><span class="c1">// è½‰ç‚º String åˆ—è¡¨</span>

<span class="c1">// å¾ JSON è§£æçš„å¯¦éš›ç¯„ä¾‹</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">jsonData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;å¼µå°æ˜&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;age&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">25</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;isActive&#39;</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;scores&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="m">85</span><span class="p">,</span><span class="w"> </span><span class="m">92</span><span class="p">,</span><span class="w"> </span><span class="m">78</span><span class="p">],</span>
<span class="w">  </span><span class="s1">&#39;profile&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s1">&#39;email&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ming@example.com&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="s1">&#39;phone&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;0912-345-678&#39;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">JsonParser</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">getString</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">json</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="kt">String</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">json</span><span class="p">[</span><span class="n">key</span><span class="p">];</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">defaultValue</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">getInt</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">json</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="kt">int</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">json</span><span class="p">[</span><span class="n">key</span><span class="p">];</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="kt">double</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">toInt</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">int</span><span class="p">.</span><span class="n">tryParse</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">defaultValue</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">defaultValue</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">getBool</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">json</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="kt">bool</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">json</span><span class="p">[</span><span class="n">key</span><span class="p">];</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">defaultValue</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">json</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">key</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">json</span><span class="p">[</span><span class="n">key</span><span class="p">];</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">List</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">cast</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">[];</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨ç¯„ä¾‹</span>
<span class="kt">void</span><span class="w"> </span><span class="n">parseUserData</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JsonParser</span><span class="p">.</span><span class="n">getString</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JsonParser</span><span class="p">.</span><span class="n">getInt</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;age&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isActive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JsonParser</span><span class="p">.</span><span class="n">getBool</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;isActive&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">scores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JsonParser</span><span class="p">.</span><span class="n">getList</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">jsonData</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;scores&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;å§“åï¼š</span><span class="si">$</span><span class="n">name</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;å¹´é½¡ï¼š</span><span class="si">$</span><span class="n">age</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;ç‹€æ…‹ï¼š</span><span class="si">${</span><span class="n">isActive</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;æ´»èº&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;éæ´»èº&quot;</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æˆç¸¾ï¼š</span><span class="si">$</span><span class="n">scores</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ¯ å‡½æ•¸åƒæ•¸å‹åˆ¥</h2>
<h3>1. <strong>å¿…è¦åƒæ•¸ï¼ˆRequired Parametersï¼‰</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ä½ç½®åƒæ•¸ï¼ˆé †åºå¾ˆé‡è¦ï¼‰</span>
<span class="kt">String</span><span class="w"> </span><span class="n">createFullName</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">firstName</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">lastName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;</span><span class="si">$</span><span class="n">firstName</span><span class="s1"> </span><span class="si">$</span><span class="n">lastName</span><span class="s1">&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="n">add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨æ–¹å¼</span>
<span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createFullName</span><span class="p">(</span><span class="s1">&#39;John&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Doe&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">// å¿…é ˆæŒ‰é †åºå‚³å…¥</span>
<span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">20</span><span class="p">);</span><span class="w">                        </span><span class="c1">// ç¬¬ä¸€å€‹åƒæ•¸æ˜¯ aï¼Œç¬¬äºŒå€‹æ˜¯ b</span>

<span class="c1">// å…·åå¿…è¦åƒæ•¸ï¼ˆä½¿ç”¨ required é—œéµå­—ï¼‰</span>
<span class="n">Widget</span><span class="w"> </span><span class="n">createButton</span><span class="p">({</span>
<span class="w">  </span><span class="kd">required</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w">           </span><span class="c1">// å¿…é ˆæä¾›</span>
<span class="w">  </span><span class="kd">required</span><span class="w"> </span><span class="n">VoidCallback</span><span class="w"> </span><span class="n">onPressed</span><span class="p">,</span><span class="w"> </span><span class="c1">// å¿…é ˆæä¾›</span>
<span class="w">  </span><span class="kd">required</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="n">backgroundColor</span><span class="p">,</span><span class="w">  </span><span class="c1">// å¿…é ˆæä¾›</span>
<span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">onPressed</span><span class="p">,</span>
<span class="w">    </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span><span class="nl">primary:</span><span class="w"> </span><span class="n">backgroundColor</span><span class="p">),</span>
<span class="w">    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">text</span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨å…·åå¿…è¦åƒæ•¸</span>
<span class="n">Widget</span><span class="w"> </span><span class="n">button</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createButton</span><span class="p">(</span>
<span class="w">  </span><span class="nl">text:</span><span class="w"> </span><span class="s1">&#39;é»æ“Šæˆ‘&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æŒ‰éˆ•è¢«é»æ“Š&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div>

<h3>2. <strong>å¯é¸åƒæ•¸ï¼ˆOptional Parametersï¼‰</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ä½ç½®å¯é¸åƒæ•¸ï¼ˆç”¨ [] åŒ…åœï¼‰</span>
<span class="kt">String</span><span class="w"> </span><span class="n">greetUser</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">greeting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ä½ å¥½&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">greeting</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">&#39; </span><span class="si">$</span><span class="n">title</span><span class="s1">&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">greeting</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">&#39; </span><span class="si">$</span><span class="n">name</span><span class="s1">&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">greeting</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">&#39;ï¼Œæ‚¨ä»Šå¹´ </span><span class="si">$</span><span class="n">age</span><span class="s1"> æ­²&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">greeting</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨æ–¹å¼</span>
<span class="kt">String</span><span class="w"> </span><span class="n">msg1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">greetUser</span><span class="p">(</span><span class="s1">&#39;å°æ˜&#39;</span><span class="p">);</span><span class="w">                    </span><span class="c1">// ä½ å¥½ å°æ˜</span>
<span class="kt">String</span><span class="w"> </span><span class="n">msg2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">greetUser</span><span class="p">(</span><span class="s1">&#39;å°æ˜&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;å…ˆç”Ÿ&#39;</span><span class="p">);</span><span class="w">             </span><span class="c1">// ä½ å¥½ å…ˆç”Ÿ å°æ˜</span>
<span class="kt">String</span><span class="w"> </span><span class="n">msg3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">greetUser</span><span class="p">(</span><span class="s1">&#39;å°æ˜&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;å…ˆç”Ÿ&#39;</span><span class="p">,</span><span class="w"> </span><span class="m">25</span><span class="p">);</span><span class="w">         </span><span class="c1">// ä½ å¥½ å…ˆç”Ÿ å°æ˜ï¼Œæ‚¨ä»Šå¹´ 25 æ­²</span>
<span class="kt">String</span><span class="w"> </span><span class="n">msg4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">greetUser</span><span class="p">(</span><span class="s1">&#39;å°æ˜&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="m">30</span><span class="p">);</span><span class="w">         </span><span class="c1">// ä½ å¥½ å°æ˜ï¼Œæ‚¨ä»Šå¹´ 30 æ­²</span>

<span class="c1">// å…·åå¯é¸åƒæ•¸ï¼ˆç”¨ {} åŒ…åœï¼‰</span>
<span class="n">Widget</span><span class="w"> </span><span class="n">createCard</span><span class="p">({</span>
<span class="w">  </span><span class="kd">required</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">title</span><span class="p">,</span><span class="w">           </span><span class="c1">// å¿…è¦åƒæ•¸</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">subtitle</span><span class="p">,</span><span class="w">               </span><span class="c1">// å¯é¸åƒæ•¸</span>
<span class="w">  </span><span class="n">Color</span><span class="w"> </span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span><span class="w"> </span><span class="c1">// æœ‰é è¨­å€¼çš„å¯é¸åƒæ•¸</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">elevation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2.0</span><span class="p">,</span><span class="w">         </span><span class="c1">// æœ‰é è¨­å€¼çš„å¯é¸åƒæ•¸</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isEnabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">          </span><span class="c1">// æœ‰é è¨­å€¼çš„å¯é¸åƒæ•¸</span>
<span class="w">  </span><span class="n">VoidCallback</span><span class="o">?</span><span class="w"> </span><span class="n">onTap</span><span class="p">,</span><span class="w">           </span><span class="c1">// å¯é¸åƒæ•¸</span>
<span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">Card</span><span class="p">(</span>
<span class="w">    </span><span class="nl">color:</span><span class="w"> </span><span class="n">backgroundColor</span><span class="p">,</span>
<span class="w">    </span><span class="nl">elevation:</span><span class="w"> </span><span class="n">elevation</span><span class="p">,</span>
<span class="w">    </span><span class="nl">child:</span><span class="w"> </span><span class="n">InkWell</span><span class="p">(</span>
<span class="w">      </span><span class="nl">onTap:</span><span class="w"> </span><span class="n">isEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">onTap</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="n">title</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">,</span>
<span class="w">                </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">isEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">subtitle</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">...[</span>
<span class="w">              </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">              </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                </span><span class="n">subtitle</span><span class="p">,</span>
<span class="w">                </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">14</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">color:</span><span class="w"> </span><span class="n">isEnabled</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">600</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">400</span><span class="p">],</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨å…·åå¯é¸åƒæ•¸ï¼ˆå¯ä»¥ä»»æ„é †åºï¼‰</span>
<span class="n">Widget</span><span class="w"> </span><span class="n">card1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createCard</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;åŸºæœ¬å¡ç‰‡&#39;</span><span class="p">);</span>

<span class="n">Widget</span><span class="w"> </span><span class="n">card2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createCard</span><span class="p">(</span>
<span class="w">  </span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;é€²éšå¡ç‰‡&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nl">subtitle:</span><span class="w"> </span><span class="s1">&#39;é€™æ˜¯å‰¯æ¨™é¡Œ&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">[</span><span class="m">50</span><span class="p">],</span>
<span class="w">  </span><span class="nl">elevation:</span><span class="w"> </span><span class="m">4.0</span><span class="p">,</span>
<span class="p">);</span>

<span class="n">Widget</span><span class="w"> </span><span class="n">card3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createCard</span><span class="p">(</span>
<span class="w">  </span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;äº’å‹•å¡ç‰‡&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;å¡ç‰‡è¢«é»æ“Š&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="nl">isEnabled:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">[</span><span class="m">100</span><span class="p">],</span>
<span class="p">);</span>
</code></pre></div>

<h3>3. <strong>å‡½æ•¸å‹åˆ¥åƒæ•¸</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// å‡½æ•¸ä½œç‚ºåƒæ•¸</span>
<span class="kt">void</span><span class="w"> </span><span class="n">executeOperation</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">operation</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;é‹ç®—çµæœï¼š</span><span class="si">$</span><span class="n">result</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// å®šç¾©ä¸åŒçš„é‹ç®—å‡½æ•¸</span>
<span class="kt">int</span><span class="w"> </span><span class="n">add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">multiply</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">subtract</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>

<span class="c1">// ä½¿ç”¨å‡½æ•¸åƒæ•¸</span>
<span class="kt">void</span><span class="w"> </span><span class="n">performCalculations</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">executeOperation</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="n">add</span><span class="p">);</span><span class="w">       </span><span class="c1">// é‹ç®—çµæœï¼š15</span>
<span class="w">  </span><span class="n">executeOperation</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="n">multiply</span><span class="p">);</span><span class="w">  </span><span class="c1">// é‹ç®—çµæœï¼š50</span>
<span class="w">  </span><span class="n">executeOperation</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="n">subtract</span><span class="p">);</span><span class="w"> </span><span class="c1">// é‹ç®—çµæœï¼š5</span>

<span class="w">  </span><span class="c1">// ä½¿ç”¨åŒ¿åå‡½æ•¸</span>
<span class="w">  </span><span class="n">executeOperation</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">~/</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w"> </span><span class="c1">// é‹ç®—çµæœï¼š2ï¼ˆæ•´æ•¸é™¤æ³•ï¼‰</span>
<span class="p">}</span>

<span class="c1">// æ›´è¤‡é›œçš„å‡½æ•¸å‹åˆ¥åƒæ•¸ç¯„ä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ListProcessor</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// è™•ç†å­—ä¸²åˆ—è¡¨çš„é€šç”¨æ–¹æ³•</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">processStringList</span><span class="p">(</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="p">,</span>
<span class="w">    </span><span class="kt">String</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="n">processor</span><span class="p">,</span><span class="w"> </span><span class="c1">// è™•ç†å–®å€‹é …ç›®çš„å‡½æ•¸</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="n">processor</span><span class="p">).</span><span class="n">toList</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// éæ¿¾åˆ—è¡¨çš„é€šç”¨æ–¹æ³•</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">filterList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="p">,</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="n">predicate</span><span class="p">,</span><span class="w"> </span><span class="c1">// åˆ¤æ–·æ¢ä»¶çš„å‡½æ•¸</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="n">where</span><span class="p">(</span><span class="n">predicate</span><span class="p">).</span><span class="n">toList</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ­¸ç´„åˆ—è¡¨çš„é€šç”¨æ–¹æ³•</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">reduceList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="p">,</span>
<span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">previous</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">current</span><span class="p">)</span><span class="w"> </span><span class="n">combiner</span><span class="p">,</span><span class="w"> </span><span class="c1">// åˆä½µå‡½æ•¸</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="n">reduce</span><span class="p">(</span><span class="n">combiner</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨å‡½æ•¸å‹åˆ¥åƒæ•¸çš„å¯¦éš›ç¯„ä¾‹</span>
<span class="kt">void</span><span class="w"> </span><span class="n">demonstrateFunctionParameters</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;john doe&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;jane smith&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;bob johnson&#39;</span><span class="p">];</span>

<span class="w">  </span><span class="c1">// ä½¿ç”¨ä¸åŒçš„è™•ç†å‡½æ•¸</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">upperNames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ListProcessor</span><span class="p">.</span><span class="n">processStringList</span><span class="p">(</span>
<span class="w">    </span><span class="n">names</span><span class="p">,</span>
<span class="w">    </span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="n">toUpperCase</span><span class="p">(),</span><span class="w"> </span><span class="c1">// è½‰å¤§å¯«</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">capitalizedNames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ListProcessor</span><span class="p">.</span><span class="n">processStringList</span><span class="p">(</span>
<span class="w">    </span><span class="n">names</span><span class="p">,</span>
<span class="w">    </span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">).</span><span class="n">map</span><span class="p">((</span><span class="n">word</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span>
<span class="w">        </span><span class="n">word</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">toUpperCase</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">word</span><span class="p">.</span><span class="n">substring</span><span class="p">(</span><span class="m">1</span><span class="p">)).</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">),</span><span class="w"> </span><span class="c1">// é¦–å­—æ¯å¤§å¯«</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// éæ¿¾é•·åº¦å¤§æ–¼ 8 çš„åå­—</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">longNames</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ListProcessor</span><span class="p">.</span><span class="n">filterList</span><span class="p">(</span>
<span class="w">    </span><span class="n">names</span><span class="p">,</span>
<span class="w">    </span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">8</span><span class="p">,</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;åŸå§‹ï¼š</span><span class="si">$</span><span class="n">names</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;å¤§å¯«ï¼š</span><span class="si">$</span><span class="n">upperNames</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;é¦–å­—æ¯å¤§å¯«ï¼š</span><span class="si">$</span><span class="n">capitalizedNames</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;é•·åå­—ï¼š</span><span class="si">$</span><span class="n">longNames</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Widget å›èª¿å‡½æ•¸çš„å¯¦éš›æ‡‰ç”¨</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">CustomButton</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">VoidCallback</span><span class="o">?</span><span class="w"> </span><span class="n">onPressed</span><span class="p">;</span><span class="w">           </span><span class="c1">// ç„¡åƒæ•¸ç„¡å›å‚³å€¼</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">ValueChanged</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;?</span><span class="w"> </span><span class="n">onTextChanged</span><span class="p">;</span><span class="w"> </span><span class="c1">// æœ‰åƒæ•¸ç„¡å›å‚³å€¼</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="kt">Function</span><span class="p">()</span><span class="o">?</span><span class="w"> </span><span class="n">getButtonText</span><span class="p">;</span><span class="w">   </span><span class="c1">// ç„¡åƒæ•¸æœ‰å›å‚³å€¼</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span><span class="o">?</span><span class="w"> </span><span class="n">validator</span><span class="p">;</span><span class="w">   </span><span class="c1">// æœ‰åƒæ•¸æœ‰å›å‚³å€¼</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">CustomButton</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">text</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">onPressed</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">onTextChanged</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">getButtonText</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">validator</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">String</span><span class="w"> </span><span class="n">displayText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getButtonText</span><span class="o">?</span><span class="p">.</span><span class="n">call</span><span class="p">()</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">isValid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validator</span><span class="o">?</span><span class="p">.</span><span class="n">call</span><span class="p">(</span><span class="n">displayText</span><span class="p">)</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">      </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">isValid</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">onPressed</span><span class="o">?</span><span class="p">.</span><span class="n">call</span><span class="p">();</span>
<span class="w">        </span><span class="n">onTextChanged</span><span class="o">?</span><span class="p">.</span><span class="n">call</span><span class="p">(</span><span class="n">displayText</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">displayText</span><span class="p">),</span>
<span class="w">      </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">        </span><span class="nl">primary:</span><span class="w"> </span><span class="n">isValid</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">,</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨è‡ªè¨‚æŒ‰éˆ•</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ButtonDemo</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_ButtonDemoState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_ButtonDemoState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_ButtonDemoState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">ButtonDemo</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">currentText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;é»æ“Šæˆ‘&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">clickCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">CustomButton</span><span class="p">(</span>
<span class="w">          </span><span class="nl">text:</span><span class="w"> </span><span class="s1">&#39;åŸºæœ¬æŒ‰éˆ•&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;åŸºæœ¬æŒ‰éˆ•è¢«é»æ“Š&#39;</span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">        </span><span class="n">CustomButton</span><span class="p">(</span>
<span class="w">          </span><span class="nl">text:</span><span class="w"> </span><span class="s1">&#39;å‹•æ…‹æŒ‰éˆ•&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nl">getButtonText:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;é»æ“Šæ¬¡æ•¸ï¼š</span><span class="si">$</span><span class="n">clickCount</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">clickCount</span><span class="o">++</span><span class="p">;</span>
<span class="w">            </span><span class="p">});</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nl">onTextChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æŒ‰éˆ•æ–‡å­—è®Šç‚ºï¼š</span><span class="si">$</span><span class="n">text</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">        </span><span class="n">CustomButton</span><span class="p">(</span>
<span class="w">          </span><span class="nl">text:</span><span class="w"> </span><span class="s1">&#39;é©—è­‰æŒ‰éˆ•&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nl">validator:</span><span class="w"> </span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">clickCount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="c1">// å¿…é ˆé»æ“Šéæ‰èƒ½ä½¿ç”¨</span>
<span class="w">          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;é©—è­‰æŒ‰éˆ•è¢«é»æ“Š&#39;</span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ¨ æ³›å‹å‹åˆ¥ï¼ˆGeneric Typesï¼‰</h2>
<h3>1. <strong>åŸºæœ¬æ³›å‹æ¦‚å¿µ</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// æ³›å‹é¡åˆ¥</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">Box</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">T</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>

<span class="w">  </span><span class="n">Box</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">value</span><span class="p">);</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setValue</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">newValue</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newValue</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">T</span><span class="w"> </span><span class="n">getValue</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// å‹åˆ¥å®‰å…¨çš„æ¯”è¼ƒ</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isEqual</span><span class="p">(</span><span class="n">Box</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="n">value</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨æ³›å‹é¡åˆ¥</span>
<span class="kt">void</span><span class="w"> </span><span class="n">demonstrateGenerics</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// å­—ä¸²ç›’å­</span>
<span class="w">  </span><span class="n">Box</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stringBox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Box</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">stringBox</span><span class="p">.</span><span class="n">setValue</span><span class="p">(</span><span class="s1">&#39;World&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">stringValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stringBox</span><span class="p">.</span><span class="n">getValue</span><span class="p">();</span><span class="w"> </span><span class="c1">// å‹åˆ¥å®‰å…¨ï¼Œä¸éœ€è¦è½‰å‹</span>

<span class="w">  </span><span class="c1">// æ•´æ•¸ç›’å­</span>
<span class="w">  </span><span class="n">Box</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">intBox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Box</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="m">42</span><span class="p">);</span>
<span class="w">  </span><span class="n">intBox</span><span class="p">.</span><span class="n">setValue</span><span class="p">(</span><span class="m">100</span><span class="p">);</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">intValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intBox</span><span class="p">.</span><span class="n">getValue</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// è‡ªè¨‚ç‰©ä»¶ç›’å­</span>
<span class="w">  </span><span class="n">Box</span><span class="o">&lt;</span><span class="n">DateTime</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dateBox</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Box</span><span class="o">&lt;</span><span class="n">DateTime</span><span class="o">&gt;</span><span class="p">(</span><span class="n">DateTime</span><span class="p">.</span><span class="n">now</span><span class="p">());</span>
<span class="w">  </span><span class="n">DateTime</span><span class="w"> </span><span class="n">currentDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dateBox</span><span class="p">.</span><span class="n">getValue</span><span class="p">();</span>

<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;å­—ä¸²å€¼ï¼š</span><span class="si">$</span><span class="n">stringValue</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æ•´æ•¸å€¼ï¼š</span><span class="si">$</span><span class="n">intValue</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æ—¥æœŸå€¼ï¼š</span><span class="si">$</span><span class="n">currentDate</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// æ³›å‹å‡½æ•¸</span>
<span class="n">T</span><span class="w"> </span><span class="n">getFirst</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">items</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="n">ArgumentError</span><span class="p">(</span><span class="s1">&#39;åˆ—è¡¨ä¸èƒ½ç‚ºç©º&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="n">first</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createFilledList</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">filled</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">Map</span><span class="o">&lt;</span><span class="n">K</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createMap</span><span class="o">&lt;</span><span class="n">K</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">K</span><span class="o">&gt;</span><span class="w"> </span><span class="n">keys</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">values</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">keys</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">values</span><span class="p">.</span><span class="n">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="n">ArgumentError</span><span class="p">(</span><span class="s1">&#39;éµå€¼åˆ—è¡¨é•·åº¦å¿…é ˆç›¸åŒ&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">K</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">keys</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">result</span><span class="p">[</span><span class="n">keys</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨æ³›å‹å‡½æ•¸</span>
<span class="kt">void</span><span class="w"> </span><span class="n">useGenericFunctions</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// å–å¾—ç¬¬ä¸€å€‹å…ƒç´ </span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">firstFruit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getFirst</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">([</span><span class="s1">&#39;è˜‹æœ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;é¦™è•‰&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ©˜å­&#39;</span><span class="p">]);</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">firstNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getFirst</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">([</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">]);</span>

<span class="w">  </span><span class="c1">// å‰µå»ºå¡«å……åˆ—è¡¨</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="w"> </span><span class="n">boolList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createFilledList</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="m">5</span><span class="p">);</span><span class="w"> </span><span class="c1">// [true, true, true, true, true]</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stringList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createFilledList</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">);</span><span class="w"> </span><span class="c1">// [&#39;Hello&#39;, &#39;Hello&#39;, &#39;Hello&#39;]</span>

<span class="w">  </span><span class="c1">// å‰µå»ºå°æ˜ </span>
<span class="w">  </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">scoreMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">createMap</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="s1">&#39;Alice&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Charlie&#39;</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="m">95</span><span class="p">,</span><span class="w"> </span><span class="m">87</span><span class="p">,</span><span class="w"> </span><span class="m">92</span><span class="p">]</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;ç¬¬ä¸€å€‹æ°´æœï¼š</span><span class="si">$</span><span class="n">firstFruit</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;ç¬¬ä¸€å€‹æ•¸å­—ï¼š</span><span class="si">$</span><span class="n">firstNumber</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;å¸ƒæ—åˆ—è¡¨ï¼š</span><span class="si">$</span><span class="n">boolList</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æˆç¸¾å°æ˜ ï¼š</span><span class="si">$</span><span class="n">scoreMap</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3>2. <strong>ç´„æŸæ³›å‹ï¼ˆBounded Genericsï¼‰</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ç´„æŸæ³›å‹å¿…é ˆç¹¼æ‰¿æŸå€‹é¡åˆ¥</span>
<span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Animal</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">makeSound</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Dog</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Animal</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;Dog&#39;</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">makeSound</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Woof!&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">Cat</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Animal</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;Cat&#39;</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">makeSound</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Meow!&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// åªæ¥å— Animal åŠå…¶å­é¡çš„æ³›å‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">AnimalShelter</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Animal</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">animals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">addAnimal</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">animal</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">animals</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">animal</span><span class="p">);</span>
<span class="w">    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">${</span><span class="n">animal</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s1"> å·²åŠ å…¥æ”¶å®¹æ‰€&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">makeAllSounds</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">animal</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">animals</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">animal</span><span class="p">.</span><span class="n">makeSound</span><span class="p">();</span><span class="w"> </span><span class="c1">// å¯ä»¥å®‰å…¨èª¿ç”¨ Animal çš„æ–¹æ³•</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getAllAnimals</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">from</span><span class="p">(</span><span class="n">animals</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨ç´„æŸæ³›å‹</span>
<span class="kt">void</span><span class="w"> </span><span class="n">demonstrateBoundedGenerics</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">AnimalShelter</span><span class="o">&lt;</span><span class="n">Dog</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dogShelter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AnimalShelter</span><span class="o">&lt;</span><span class="n">Dog</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="n">dogShelter</span><span class="p">.</span><span class="n">addAnimal</span><span class="p">(</span><span class="n">Dog</span><span class="p">());</span>
<span class="w">  </span><span class="n">dogShelter</span><span class="p">.</span><span class="n">addAnimal</span><span class="p">(</span><span class="n">Dog</span><span class="p">());</span>

<span class="w">  </span><span class="n">AnimalShelter</span><span class="o">&lt;</span><span class="n">Cat</span><span class="o">&gt;</span><span class="w"> </span><span class="n">catShelter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AnimalShelter</span><span class="o">&lt;</span><span class="n">Cat</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="n">catShelter</span><span class="p">.</span><span class="n">addAnimal</span><span class="p">(</span><span class="n">Cat</span><span class="p">());</span>

<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;ç‹—æ”¶å®¹æ‰€çš„è²éŸ³ï¼š&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">dogShelter</span><span class="p">.</span><span class="n">makeAllSounds</span><span class="p">();</span>

<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;è²“æ”¶å®¹æ‰€çš„è²éŸ³ï¼š&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">catShelter</span><span class="p">.</span><span class="n">makeAllSounds</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// æ•¸å€¼ç´„æŸçš„æ³›å‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">Calculator</span><span class="o">&lt;</span><span class="n">T</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="kt">num</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">T</span><span class="w"> </span><span class="n">add</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">T</span><span class="w"> </span><span class="n">multiply</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">T</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">divide</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isPositive</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨æ•¸å€¼ç´„æŸæ³›å‹</span>
<span class="kt">void</span><span class="w"> </span><span class="n">useNumericGenerics</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Calculator</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">intCalc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Calculator</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intCalc</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">20</span><span class="p">);</span><span class="w">           </span><span class="c1">// 30</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">product</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intCalc</span><span class="p">.</span><span class="n">multiply</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="m">6</span><span class="p">);</span><span class="w">    </span><span class="c1">// 30</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">quotient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intCalc</span><span class="p">.</span><span class="n">divide</span><span class="p">(</span><span class="m">15</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">);</span><span class="w"> </span><span class="c1">// 5.0</span>

<span class="w">  </span><span class="n">Calculator</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">doubleCalc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Calculator</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">decimalSum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doubleCalc</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="m">3.14</span><span class="p">,</span><span class="w"> </span><span class="m">2.86</span><span class="p">);</span><span class="w">      </span><span class="c1">// 6.0</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">decimalProduct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">doubleCalc</span><span class="p">.</span><span class="n">multiply</span><span class="p">(</span><span class="m">2.5</span><span class="p">,</span><span class="w"> </span><span class="m">4.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// 10.0</span>

<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æ•´æ•¸è¨ˆç®—ï¼š</span><span class="si">$</span><span class="n">sum</span><span class="s1">, </span><span class="si">$</span><span class="n">product</span><span class="s1">, </span><span class="si">$</span><span class="n">quotient</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æµ®é»æ•¸è¨ˆç®—ï¼š</span><span class="si">$</span><span class="n">decimalSum</span><span class="s1">, </span><span class="si">$</span><span class="n">decimalProduct</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3>3. <strong>æ³›å‹åœ¨ Flutter ä¸­çš„å¯¦éš›æ‡‰ç”¨</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// æ³›å‹ Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">GenericListWidget</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="n">itemBuilder</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="o">?</span><span class="w"> </span><span class="n">getDisplayText</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="o">?</span><span class="w"> </span><span class="n">onItemTap</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">GenericListWidget</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">items</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">itemBuilder</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">getDisplayText</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">onItemTap</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ListView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
<span class="w">      </span><span class="nl">itemCount:</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="n">length</span><span class="p">,</span>
<span class="w">      </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">InkWell</span><span class="p">(</span>
<span class="w">          </span><span class="nl">onTap:</span><span class="w"> </span><span class="n">onItemTap</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">onItemTap</span><span class="o">!</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">itemBuilder</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// è³‡æ–™æ¨¡å‹é¡åˆ¥</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">Product</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">category</span><span class="p">;</span>

<span class="w">  </span><span class="n">Product</span><span class="p">({</span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">price</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">category</span><span class="p">});</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">toString</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;</span><span class="si">$</span><span class="n">name</span><span class="s1"> - </span><span class="se">\$</span><span class="s1">{price.toStringAsFixed(2)}&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">User</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">email</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">;</span>

<span class="w">  </span><span class="n">User</span><span class="p">({</span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">age</span><span class="p">});</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">toString</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;</span><span class="si">$</span><span class="n">name</span><span class="s1"> (</span><span class="si">$</span><span class="n">email</span><span class="s1">) - </span><span class="si">$</span><span class="n">age</span><span class="s1"> æ­²&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨æ³›å‹ Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">GenericListDemo</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="n">Product</span><span class="p">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;iPhone 15&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">price:</span><span class="w"> </span><span class="m">30900</span><span class="p">,</span><span class="w"> </span><span class="nl">category:</span><span class="w"> </span><span class="s1">&#39;æ‰‹æ©Ÿ&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="n">Product</span><span class="p">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;iPad Air&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">price:</span><span class="w"> </span><span class="m">19900</span><span class="p">,</span><span class="w"> </span><span class="nl">category:</span><span class="w"> </span><span class="s1">&#39;å¹³æ¿&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="n">Product</span><span class="p">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;MacBook Pro&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">price:</span><span class="w"> </span><span class="m">65900</span><span class="p">,</span><span class="w"> </span><span class="nl">category:</span><span class="w"> </span><span class="s1">&#39;ç­†é›»&#39;</span><span class="p">),</span>
<span class="w">  </span><span class="p">];</span>

<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="n">User</span><span class="p">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;å¼µå°æ˜&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;ming@example.com&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">age:</span><span class="w"> </span><span class="m">25</span><span class="p">),</span>
<span class="w">    </span><span class="n">User</span><span class="p">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;æå°è¯&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;hua@example.com&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">age:</span><span class="w"> </span><span class="m">30</span><span class="p">),</span>
<span class="w">    </span><span class="n">User</span><span class="p">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;ç‹å°ç¾&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;mei@example.com&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">age:</span><span class="w"> </span><span class="m">28</span><span class="p">),</span>
<span class="w">  </span><span class="p">];</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;æ³›å‹åˆ—è¡¨ç¤ºä¾‹&#39;</span><span class="p">)),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="c1">// ç”¢å“åˆ—è¡¨</span>
<span class="w">          </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">GenericListWidget</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">              </span><span class="nl">items:</span><span class="w"> </span><span class="n">products</span><span class="p">,</span>
<span class="w">              </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">product</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">Card</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">leading:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">shopping_bag</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">product</span><span class="p">.</span><span class="n">name</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">subtitle:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">${</span><span class="n">product</span><span class="p">.</span><span class="n">category</span><span class="si">}</span><span class="s1"> - </span><span class="se">\$</span><span class="s1">{product.price}&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">arrow_forward_ios</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nl">onItemTap:</span><span class="w"> </span><span class="p">(</span><span class="n">product</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;é¸æ“‡äº†ç”¢å“ï¼š</span><span class="si">${</span><span class="n">product</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="n">Divider</span><span class="p">(),</span>

<span class="w">          </span><span class="c1">// ä½¿ç”¨è€…åˆ—è¡¨</span>
<span class="w">          </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">GenericListWidget</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">              </span><span class="nl">items:</span><span class="w"> </span><span class="n">users</span><span class="p">,</span>
<span class="w">              </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">Card</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">leading:</span><span class="w"> </span><span class="n">CircleAvatar</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">name</span><span class="p">[</span><span class="m">0</span><span class="p">])),</span>
<span class="w">                    </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">name</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">subtitle:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">${</span><span class="n">user</span><span class="p">.</span><span class="n">email</span><span class="si">}</span><span class="s1"> - </span><span class="si">${</span><span class="n">user</span><span class="p">.</span><span class="n">age</span><span class="si">}</span><span class="s1"> æ­²&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">person</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nl">onItemTap:</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;é¸æ“‡äº†ä½¿ç”¨è€…ï¼š</span><span class="si">${</span><span class="n">user</span><span class="p">.</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// æ³›å‹ç‹€æ…‹ç®¡ç†</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">GenericStateManager</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">T</span><span class="w"> </span><span class="n">_state</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">void</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_listeners</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="w">  </span><span class="n">GenericStateManager</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">_state</span><span class="p">);</span>

<span class="w">  </span><span class="n">T</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_state</span><span class="p">;</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setState</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">newState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newState</span><span class="p">;</span>
<span class="w">    </span><span class="n">_notifyListeners</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">addListener</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="n">listener</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_listeners</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">listener</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">removeListener</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="n">listener</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_listeners</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">listener</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_notifyListeners</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">final</span><span class="w"> </span><span class="n">listener</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_listeners</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">listener</span><span class="p">(</span><span class="n">_state</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">dispose</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_listeners</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨æ³›å‹ç‹€æ…‹ç®¡ç†</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">CounterState</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">isLoading</span><span class="p">;</span>

<span class="w">  </span><span class="n">CounterState</span><span class="p">({</span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">isLoading</span><span class="p">});</span>

<span class="w">  </span><span class="n">CounterState</span><span class="w"> </span><span class="n">copyWith</span><span class="p">({</span><span class="kt">int</span><span class="o">?</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">?</span><span class="w"> </span><span class="n">isLoading</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CounterState</span><span class="p">(</span>
<span class="w">      </span><span class="nl">count:</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">count</span><span class="p">,</span>
<span class="w">      </span><span class="nl">isLoading:</span><span class="w"> </span><span class="n">isLoading</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">isLoading</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">GenericStateDemo</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_GenericStateDemoState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_GenericStateDemoState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_GenericStateDemoState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">GenericStateDemo</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">GenericStateManager</span><span class="o">&lt;</span><span class="n">CounterState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stateManager</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">initState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">initState</span><span class="p">();</span>
<span class="w">    </span><span class="n">stateManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GenericStateManager</span><span class="o">&lt;</span><span class="n">CounterState</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">      </span><span class="n">CounterState</span><span class="p">(</span><span class="nl">count:</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="nl">isLoading:</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="n">stateManager</span><span class="p">.</span><span class="n">addListener</span><span class="p">((</span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// è§¸ç™¼ Widget é‡å»º</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">dispose</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">stateManager</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_incrementCounter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">currentState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stateManager</span><span class="p">.</span><span class="n">state</span><span class="p">;</span>
<span class="w">    </span><span class="n">stateManager</span><span class="p">.</span><span class="n">setState</span><span class="p">(</span>
<span class="w">      </span><span class="n">currentState</span><span class="p">.</span><span class="n">copyWith</span><span class="p">(</span><span class="nl">count:</span><span class="w"> </span><span class="n">currentState</span><span class="p">.</span><span class="n">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_resetCounter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">stateManager</span><span class="p">.</span><span class="n">setState</span><span class="p">(</span>
<span class="w">      </span><span class="n">CounterState</span><span class="p">(</span><span class="nl">count:</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="nl">isLoading:</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stateManager</span><span class="p">.</span><span class="n">state</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;æ³›å‹ç‹€æ…‹ç®¡ç†&#39;</span><span class="p">)),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;è¨ˆæ•¸å™¨å€¼ï¼š</span><span class="si">${</span><span class="n">state</span><span class="p">.</span><span class="n">count</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">isLoading</span><span class="p">)</span>
<span class="w">              </span><span class="n">CircularProgressIndicator</span><span class="p">()</span>
<span class="w">            </span><span class="k">else</span>
<span class="w">              </span><span class="n">Row</span><span class="p">(</span>
<span class="w">                </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_incrementCounter</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;å¢åŠ &#39;</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">width:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">                  </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_resetCounter</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;é‡è¨­&#39;</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">],</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ¯ å¯¦éš›é–‹ç™¼æ‡‰ç”¨ç¯„ä¾‹</h2>
<h3>1. <strong>è¡¨å–®é©—è­‰ç³»çµ±</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// é©—è­‰å™¨é¡å‹å®šç¾©</span>
<span class="kd">typedef</span><span class="w"> </span><span class="n">Validator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="n">T</span><span class="o">?</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">FormValidators</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// å­—ä¸²é©—è­‰å™¨</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Validator</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">required</span><span class="p">([</span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;æ­¤æ¬„ä½ç‚ºå¿…å¡«&#39;</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">trim</span><span class="p">().</span><span class="n">isEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">message</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Validator</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">minLength</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">minLength</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">message</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">minLength</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;é•·åº¦ä¸èƒ½å°‘æ–¼ </span><span class="si">$</span><span class="n">minLength</span><span class="s1"> å€‹å­—å…ƒ&#39;</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Validator</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">maxLength</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">maxLength</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">message</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">maxLength</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;é•·åº¦ä¸èƒ½è¶…é </span><span class="si">$</span><span class="n">maxLength</span><span class="s1"> å€‹å­—å…ƒ&#39;</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Validator</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">email</span><span class="p">([</span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;è«‹è¼¸å…¥æœ‰æ•ˆçš„é›»å­éƒµä»¶åœ°å€&#39;</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">isNotEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">emailRegex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="s1">r&#39;^[\w-\.]+@([\w-]+\.)+[\w-]{2,4});</span>
<span class="s1">        if (!emailRegex.hasMatch(value)) {</span>
<span class="s1">          return message;</span>
<span class="s1">        }</span>
<span class="s1">      }</span>
<span class="s1">      return null;</span>
<span class="s1">    };</span>
<span class="s1">  }</span>

<span class="s1">  static Validator&lt;String&gt; phone([String message = &#39;</span><span class="err">è«‹è¼¸å…¥æœ‰æ•ˆçš„æ‰‹æ©Ÿè™Ÿç¢¼</span><span class="s1">&#39;]) {</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">isNotEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">phoneRegex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RegExp</span><span class="p">(</span><span class="s1">r&#39;^09\d{8});</span>
<span class="s1">        if (!phoneRegex.hasMatch(value)) {</span>
<span class="s1">          return message;</span>
<span class="s1">        }</span>
<span class="s1">      }</span>
<span class="s1">      return null;</span>
<span class="s1">    };</span>
<span class="s1">  }</span>

<span class="s1">  // æ•¸å­—é©—è­‰å™¨</span>
<span class="s1">  static Validator&lt;String&gt; numeric([String message = &#39;</span><span class="err">è«‹è¼¸å…¥æœ‰æ•ˆçš„æ•¸å­—</span><span class="s1">&#39;]) {</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">isNotEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="p">.</span><span class="n">tryParse</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">message</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Validator</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">max</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">message</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">isNotEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">tryParse</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">number</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;è«‹è¼¸å…¥æœ‰æ•ˆçš„æ•¸å­—&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">number</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">max</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;æ•¸å€¼å¿…é ˆåœ¨ </span><span class="si">$</span><span class="n">min</span><span class="s1"> åˆ° </span><span class="si">$</span><span class="n">max</span><span class="s1"> ä¹‹é–“&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// çµ„åˆé©—è­‰å™¨</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Validator</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">combine</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Validator</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">validators</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">final</span><span class="w"> </span><span class="n">validator</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">validators</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validator</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">error</span><span class="p">;</span><span class="w"> </span><span class="c1">// å›å‚³ç¬¬ä¸€å€‹éŒ¯èª¤</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨è¡¨å–®é©—è­‰çš„å¯¦éš›ç¯„ä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UserRegistrationForm</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_UserRegistrationFormState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_UserRegistrationFormState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_UserRegistrationFormState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">UserRegistrationForm</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">_formKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">FormState</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">_nameController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextEditingController</span><span class="p">();</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">_emailController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextEditingController</span><span class="p">();</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">_phoneController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextEditingController</span><span class="p">();</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">_passwordController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextEditingController</span><span class="p">();</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">_confirmPasswordController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextEditingController</span><span class="p">();</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">_ageController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TextEditingController</span><span class="p">();</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">dispose</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_nameController</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="n">_emailController</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="n">_phoneController</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="n">_passwordController</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="n">_confirmPasswordController</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="n">_ageController</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_submitForm</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_formKey</span><span class="p">.</span><span class="n">currentState</span><span class="o">!</span><span class="p">.</span><span class="n">validate</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// è¡¨å–®é©—è­‰é€šéï¼Œè™•ç†æäº¤é‚è¼¯</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">userData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">_nameController</span><span class="p">.</span><span class="n">text</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;email&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">_emailController</span><span class="p">.</span><span class="n">text</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;phone&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">_phoneController</span><span class="p">.</span><span class="n">text</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;age&#39;</span><span class="o">:</span><span class="w"> </span><span class="kt">int</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="n">_ageController</span><span class="p">.</span><span class="n">text</span><span class="p">),</span>
<span class="w">      </span><span class="p">};</span>

<span class="w">      </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;ä½¿ç”¨è€…è¨»å†Šè³‡æ–™ï¼š</span><span class="si">$</span><span class="n">userData</span><span class="s1">&#39;</span><span class="p">);</span>

<span class="w">      </span><span class="n">ScaffoldMessenger</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">showSnackBar</span><span class="p">(</span>
<span class="w">        </span><span class="n">SnackBar</span><span class="p">(</span><span class="nl">content:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;è¨»å†ŠæˆåŠŸï¼&#39;</span><span class="p">)),</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ä½¿ç”¨è€…è¨»å†Š&#39;</span><span class="p">)),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Form</span><span class="p">(</span>
<span class="w">          </span><span class="nl">key:</span><span class="w"> </span><span class="n">_formKey</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">SingleChildScrollView</span><span class="p">(</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">              </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="c1">// å§“åè¼¸å…¥</span>
<span class="w">                </span><span class="n">TextFormField</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">controller:</span><span class="w"> </span><span class="n">_nameController</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">labelText:</span><span class="w"> </span><span class="s1">&#39;å§“å&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">prefixIcon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">person</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="nl">validator:</span><span class="w"> </span><span class="n">FormValidators</span><span class="p">.</span><span class="n">combine</span><span class="p">([</span>
<span class="w">                    </span><span class="n">FormValidators</span><span class="p">.</span><span class="kd">required</span><span class="p">(</span><span class="s1">&#39;è«‹è¼¸å…¥å§“å&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="n">FormValidators</span><span class="p">.</span><span class="n">minLength</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;å§“åè‡³å°‘éœ€è¦ 2 å€‹å­—å…ƒ&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="n">FormValidators</span><span class="p">.</span><span class="n">maxLength</span><span class="p">(</span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;å§“åä¸èƒ½è¶…é 20 å€‹å­—å…ƒ&#39;</span><span class="p">),</span>
<span class="w">                  </span><span class="p">]),</span>
<span class="w">                </span><span class="p">),</span>

<span class="w">                </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">                </span><span class="c1">// å¯†ç¢¼è¼¸å…¥</span>
<span class="w">                </span><span class="n">TextFormField</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">controller:</span><span class="w"> </span><span class="n">_passwordController</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">obscureText:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">labelText:</span><span class="w"> </span><span class="s1">&#39;å¯†ç¢¼&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">prefixIcon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">lock</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="nl">validator:</span><span class="w"> </span><span class="n">FormValidators</span><span class="p">.</span><span class="n">combine</span><span class="p">([</span>
<span class="w">                    </span><span class="n">FormValidators</span><span class="p">.</span><span class="kd">required</span><span class="p">(</span><span class="s1">&#39;è«‹è¼¸å…¥å¯†ç¢¼&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="n">FormValidators</span><span class="p">.</span><span class="n">minLength</span><span class="p">(</span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;å¯†ç¢¼è‡³å°‘éœ€è¦ 8 å€‹å­—å…ƒ&#39;</span><span class="p">),</span>
<span class="w">                  </span><span class="p">]),</span>
<span class="w">                </span><span class="p">),</span>

<span class="w">                </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">                </span><span class="c1">// ç¢ºèªå¯†ç¢¼è¼¸å…¥</span>
<span class="w">                </span><span class="n">TextFormField</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">controller:</span><span class="w"> </span><span class="n">_confirmPasswordController</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">obscureText:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">labelText:</span><span class="w"> </span><span class="s1">&#39;ç¢ºèªå¯†ç¢¼&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">prefixIcon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">lock_outline</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="nl">validator:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                      </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;è«‹ç¢ºèªå¯†ç¢¼&#39;</span><span class="p">;</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">_passwordController</span><span class="p">.</span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                      </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;å¯†ç¢¼ä¸ä¸€è‡´&#39;</span><span class="p">;</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                </span><span class="p">),</span>

<span class="w">                </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">32</span><span class="p">),</span>

<span class="w">                </span><span class="c1">// æäº¤æŒ‰éˆ•</span>
<span class="w">                </span><span class="n">SizedBox</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">width:</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">infinity</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">height:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_submitForm</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                      </span><span class="s1">&#39;è¨»å†Š&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>2. <strong>HTTP è«‹æ±‚èˆ‡éŸ¿æ‡‰è™•ç†</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="k">import</span><span class="w"> </span><span class="s1">&#39;dart:convert&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:http/http.dart&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">http</span><span class="p">;</span>

<span class="c1">// éŸ¿æ‡‰åŒ…è£é¡</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ApiResponse</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">success</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">T</span><span class="o">?</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">error</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">statusCode</span><span class="p">;</span>

<span class="w">  </span><span class="n">ApiResponse</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">success</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">data</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">error</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">statusCode</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="kd">factory</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">success</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">statusCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">      </span><span class="nl">success:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nl">data:</span><span class="w"> </span><span class="n">data</span><span class="p">,</span>
<span class="w">      </span><span class="nl">statusCode:</span><span class="w"> </span><span class="n">statusCode</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">factory</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">failure</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">statusCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">      </span><span class="nl">success:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="nl">error:</span><span class="w"> </span><span class="n">error</span><span class="p">,</span>
<span class="w">      </span><span class="nl">statusCode:</span><span class="w"> </span><span class="n">statusCode</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// HTTP æœå‹™é¡</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ApiService</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">baseUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://jsonplaceholder.typicode.com&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Duration</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">30</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// GET è«‹æ±‚ - å›å‚³å–®ä¸€ç‰©ä»¶</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">ApiResponse</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">fetchUser</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span>
<span class="w">        </span><span class="n">Uri</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">baseUrl</span><span class="s1">/users/</span><span class="si">$</span><span class="n">userId</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">headers:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/json&#39;</span><span class="p">},</span>
<span class="w">      </span><span class="p">).</span><span class="n">timeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">userData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">json</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">success</span><span class="p">(</span><span class="n">userData</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">failure</span><span class="p">(</span>
<span class="w">          </span><span class="s1">&#39;ç„¡æ³•å–å¾—ä½¿ç”¨è€…è³‡æ–™ï¼š</span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">failure</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;ç¶²è·¯éŒ¯èª¤ï¼š</span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="m">0</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// GET è«‹æ±‚ - å›å‚³é™£åˆ—</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">ApiResponse</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;&gt;&gt;</span><span class="w"> </span><span class="n">fetchUsers</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span>
<span class="w">        </span><span class="n">Uri</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">baseUrl</span><span class="s1">/users&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">headers:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/json&#39;</span><span class="p">},</span>
<span class="w">      </span><span class="p">).</span><span class="n">timeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">jsonList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">json</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">);</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">            </span><span class="n">jsonList</span><span class="p">.</span><span class="n">cast</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">success</span><span class="p">(</span><span class="n">users</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">failure</span><span class="p">(</span>
<span class="w">          </span><span class="s1">&#39;ç„¡æ³•å–å¾—ä½¿ç”¨è€…åˆ—è¡¨ï¼š</span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">failure</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;ç¶²è·¯éŒ¯èª¤ï¼š</span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="m">0</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// POST è«‹æ±‚ - å»ºç«‹è³‡æº</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">ApiResponse</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">createPost</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">title</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">body</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">userId</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">requestBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s1">&#39;title&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">title</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;body&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">body</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;userId&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">userId</span><span class="p">,</span>
<span class="w">      </span><span class="p">};</span>

<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="n">post</span><span class="p">(</span>
<span class="w">        </span><span class="n">Uri</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">baseUrl</span><span class="s1">/posts&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">headers:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/json&#39;</span><span class="p">},</span>
<span class="w">        </span><span class="nl">body:</span><span class="w"> </span><span class="n">json</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="n">requestBody</span><span class="p">),</span>
<span class="w">      </span><span class="p">).</span><span class="n">timeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">201</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createdPost</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">json</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">success</span><span class="p">(</span><span class="n">createdPost</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">failure</span><span class="p">(</span>
<span class="w">          </span><span class="s1">&#39;å»ºç«‹æ–‡ç« å¤±æ•—ï¼š</span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">failure</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;ç¶²è·¯éŒ¯èª¤ï¼š</span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="m">0</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// PUT è«‹æ±‚ - æ›´æ–°è³‡æº</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">ApiResponse</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">updatePost</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">postId</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">title</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">body</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">userId</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">requestBody</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s1">&#39;id&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">postId</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;title&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">title</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;body&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">body</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;userId&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">userId</span><span class="p">,</span>
<span class="w">      </span><span class="p">};</span>

<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="n">put</span><span class="p">(</span>
<span class="w">        </span><span class="n">Uri</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">baseUrl</span><span class="s1">/posts/</span><span class="si">$</span><span class="n">postId</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">headers:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/json&#39;</span><span class="p">},</span>
<span class="w">        </span><span class="nl">body:</span><span class="w"> </span><span class="n">json</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="n">requestBody</span><span class="p">),</span>
<span class="w">      </span><span class="p">).</span><span class="n">timeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">updatedPost</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">json</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">success</span><span class="p">(</span><span class="n">updatedPost</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">failure</span><span class="p">(</span>
<span class="w">          </span><span class="s1">&#39;æ›´æ–°æ–‡ç« å¤±æ•—ï¼š</span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">failure</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;ç¶²è·¯éŒ¯èª¤ï¼š</span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="m">0</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// DELETE è«‹æ±‚ - åˆªé™¤è³‡æº</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">ApiResponse</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">deletePost</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">postId</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">http</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span>
<span class="w">        </span><span class="n">Uri</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">baseUrl</span><span class="s1">/posts/</span><span class="si">$</span><span class="n">postId</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">headers:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/json&#39;</span><span class="p">},</span>
<span class="w">      </span><span class="p">).</span><span class="n">timeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">success</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">failure</span><span class="p">(</span>
<span class="w">          </span><span class="s1">&#39;åˆªé™¤æ–‡ç« å¤±æ•—ï¼š</span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">failure</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;ç¶²è·¯éŒ¯èª¤ï¼š</span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="m">0</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨ API æœå‹™çš„å¯¦éš›ç¯„ä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ApiDemoWidget</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_ApiDemoWidgetState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_ApiDemoWidgetState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_ApiDemoWidgetState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">ApiDemoWidget</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">  </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;?</span><span class="w"> </span><span class="n">selectedUser</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">initState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">initState</span><span class="p">();</span>
<span class="w">    </span><span class="n">_loadUsers</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// è¼‰å…¥ä½¿ç”¨è€…åˆ—è¡¨</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_loadUsers</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">      </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">ApiService</span><span class="p">.</span><span class="n">fetchUsers</span><span class="p">();</span>

<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">success</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">data</span><span class="o">!</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">error</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// è¼‰å…¥ç‰¹å®šä½¿ç”¨è€…</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_loadUser</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">      </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">ApiService</span><span class="p">.</span><span class="n">fetchUser</span><span class="p">(</span><span class="n">userId</span><span class="p">);</span>

<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">success</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">selectedUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">data</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">error</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// å»ºç«‹æ–°æ–‡ç« </span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_createPost</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">ApiService</span><span class="p">.</span><span class="n">createPost</span><span class="p">(</span>
<span class="w">      </span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;æ¸¬è©¦æ–‡ç« æ¨™é¡Œ&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="s1">&#39;é€™æ˜¯ä¸€ç¯‡æ¸¬è©¦æ–‡ç« çš„å…§å®¹ã€‚&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">userId:</span><span class="w"> </span><span class="n">selectedUser</span><span class="o">?</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">success</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">ScaffoldMessenger</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">showSnackBar</span><span class="p">(</span>
<span class="w">        </span><span class="n">SnackBar</span><span class="p">(</span><span class="nl">content:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;æ–‡ç« å»ºç«‹æˆåŠŸï¼ID: </span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">data</span><span class="o">!</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)),</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">ScaffoldMessenger</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">showSnackBar</span><span class="p">(</span>
<span class="w">        </span><span class="n">SnackBar</span><span class="p">(</span>
<span class="w">          </span><span class="nl">content:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;å»ºç«‹å¤±æ•—ï¼š</span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">error</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;API ç¤ºä¾‹&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">actions:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">refresh</span><span class="p">),</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_loadUsers</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="c1">// éŒ¯èª¤è¨Šæ¯é¡¯ç¤º</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">errorMessage</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
<span class="w">            </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">width:</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">infinity</span><span class="p">,</span>
<span class="w">              </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">[</span><span class="m">100</span><span class="p">],</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                </span><span class="n">errorMessage</span><span class="o">!</span><span class="p">,</span>
<span class="w">                </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">[</span><span class="m">800</span><span class="p">]),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">          </span><span class="c1">// è¼‰å…¥æŒ‡ç¤ºå™¨</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isLoading</span><span class="p">)</span>
<span class="w">            </span><span class="n">LinearProgressIndicator</span><span class="p">(),</span>

<span class="w">          </span><span class="c1">// é¸ä¸­çš„ä½¿ç”¨è€…è³‡è¨Š</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">selectedUser</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
<span class="w">            </span><span class="n">Card</span><span class="p">(</span>
<span class="w">              </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">                </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                      </span><span class="s1">&#39;é¸ä¸­çš„ä½¿ç”¨è€…&#39;</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">                    </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;å§“åï¼š</span><span class="si">${</span><span class="n">selectedUser</span><span class="o">!</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;é›»å­éƒµä»¶ï¼š</span><span class="si">${</span><span class="n">selectedUser</span><span class="o">!</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;é›»è©±ï¼š</span><span class="si">${</span><span class="n">selectedUser</span><span class="o">!</span><span class="p">[</span><span class="s1">&#39;phone&#39;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ç¶²ç«™ï¼š</span><span class="si">${</span><span class="n">selectedUser</span><span class="o">!</span><span class="p">[</span><span class="s1">&#39;website&#39;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">                    </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">isLoading</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_createPost</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ç‚ºæ­¤ä½¿ç”¨è€…å»ºç«‹æ–‡ç« &#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">],</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">          </span><span class="c1">// ä½¿ç”¨è€…åˆ—è¡¨</span>
<span class="w">          </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
<span class="w">              </span><span class="nl">itemCount:</span><span class="w"> </span><span class="n">users</span><span class="p">.</span><span class="n">length</span><span class="p">,</span>
<span class="w">              </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kd">final</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">users</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">leading:</span><span class="w"> </span><span class="n">CircleAvatar</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">][</span><span class="m">0</span><span class="p">]),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]),</span>
<span class="w">                  </span><span class="nl">subtitle:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">]),</span>
<span class="w">                  </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">arrow_forward_ios</span><span class="p">),</span>
<span class="w">                  </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_loadUser</span><span class="p">(</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]),</span>
<span class="w">                  </span><span class="nl">selected:</span><span class="w"> </span><span class="n">selectedUser</span><span class="o">?</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>3. <strong>ç‹€æ…‹ç®¡ç†èˆ‡è³‡æ–™æµ</strong></h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ç‹€æ…‹ç®¡ç†çš„ä¸åŒæ¨¡å¼</span>

<span class="c1">// 1. ç°¡å–®ç‹€æ…‹ï¼ˆbool, int, Stringï¼‰</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">SimpleStateExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_SimpleStateExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_SimpleStateExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_SimpleStateExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">SimpleStateExample</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// åŸºæœ¬ç‹€æ…‹è®Šæ•¸</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isVisible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Hello Flutter&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;é …ç›®1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;é …ç›®2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;é …ç›®3&#39;</span><span class="p">];</span>

<span class="w">  </span><span class="c1">// ç‹€æ…‹æ›´æ–°æ–¹æ³•</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">toggleVisibility</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">isVisible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">isVisible</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">incrementCounter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">counter</span><span class="o">++</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">updateMessage</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">newMessage</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newMessage</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">addItem</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">item</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">items</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">removeItem</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">items</span><span class="p">.</span><span class="n">removeAt</span><span class="p">(</span><span class="n">index</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ç°¡å–®ç‹€æ…‹ç®¡ç†&#39;</span><span class="p">)),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">stretch</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="c1">// é¡¯ç¤º/éš±è—æ§åˆ¶</span>
<span class="w">            </span><span class="n">Row</span><span class="p">(</span>
<span class="w">              </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceBetween</span><span class="p">,</span>
<span class="w">              </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;é¡¯ç¤ºç‹€æ…‹ï¼š</span><span class="si">${</span><span class="n">isVisible</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;é¡¯ç¤º&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;éš±è—&quot;</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Switch</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">value:</span><span class="w"> </span><span class="n">isVisible</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">onChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">isVisible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">            </span><span class="c1">// è¨ˆæ•¸å™¨</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isVisible</span><span class="p">)</span><span class="w"> </span><span class="p">...[</span>
<span class="w">              </span><span class="n">Card</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                      </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                        </span><span class="s1">&#39;è¨ˆæ•¸å™¨ï¼š</span><span class="si">$</span><span class="n">counter</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                      </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">                      </span><span class="n">Row</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceEvenly</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                          </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">counter</span><span class="o">--</span><span class="p">),</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">remove</span><span class="p">),</span>
<span class="w">                          </span><span class="p">),</span>
<span class="w">                          </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">incrementCounter</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">add</span><span class="p">),</span>
<span class="w">                          </span><span class="p">),</span>
<span class="w">                          </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">),</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;é‡è¨­&#39;</span><span class="p">),</span>
<span class="w">                          </span><span class="p">),</span>
<span class="w">                        </span><span class="p">],</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>

<span class="w">              </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">              </span><span class="c1">// è¨Šæ¯è¼¸å…¥</span>
<span class="w">              </span><span class="n">TextField</span><span class="p">(</span>
<span class="w">                </span><span class="nl">onChanged:</span><span class="w"> </span><span class="n">updateMessage</span><span class="p">,</span>
<span class="w">                </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">labelText:</span><span class="w"> </span><span class="s1">&#39;è¼¸å…¥è¨Šæ¯&#39;</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>

<span class="w">              </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>

<span class="w">              </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ç•¶å‰è¨Šæ¯ï¼š</span><span class="si">$</span><span class="n">message</span><span class="s1">&#39;</span><span class="p">),</span>

<span class="w">              </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">              </span><span class="c1">// å‹•æ…‹åˆ—è¡¨</span>
<span class="w">              </span><span class="n">Row</span><span class="p">(</span>
<span class="w">                </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">TextField</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">onSubmitted:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">isNotEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                          </span><span class="n">addItem</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                      </span><span class="p">},</span>
<span class="w">                      </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">InputDecoration</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">labelText:</span><span class="w"> </span><span class="s1">&#39;æ–°å¢é …ç›®&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">border:</span><span class="w"> </span><span class="n">OutlineInputBorder</span><span class="p">(),</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">width:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">                  </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">addItem</span><span class="p">(</span><span class="s1">&#39;é …ç›®</span><span class="si">${</span><span class="n">items</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">add</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">],</span>
<span class="w">              </span><span class="p">),</span>

<span class="w">              </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="c1">// é …ç›®åˆ—è¡¨</span>
<span class="w">            </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
<span class="w">                </span><span class="nl">itemCount:</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="n">length</span><span class="p">,</span>
<span class="w">                </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="k">return</span><span class="w"> </span><span class="n">Card</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">items</span><span class="p">[</span><span class="n">index</span><span class="p">]),</span>
<span class="w">                      </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">delete</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">),</span>
<span class="w">                        </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">removeItem</span><span class="p">(</span><span class="n">index</span><span class="p">),</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">);</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 2. è¤‡é›œç‹€æ…‹ç‰©ä»¶</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">AppState</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">isLoading</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">error</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">users</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;?</span><span class="w"> </span><span class="n">selectedUser</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">settings</span><span class="p">;</span>

<span class="w">  </span><span class="n">AppState</span><span class="p">({</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">error</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[],</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">selectedUser</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{},</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// å»ºç«‹æ–°ç‹€æ…‹çš„ä¾¿åˆ©æ–¹æ³•</span>
<span class="w">  </span><span class="n">AppState</span><span class="w"> </span><span class="n">copyWith</span><span class="p">({</span>
<span class="w">    </span><span class="kt">bool</span><span class="o">?</span><span class="w"> </span><span class="n">isLoading</span><span class="p">,</span>
<span class="w">    </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">error</span><span class="p">,</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;?</span><span class="w"> </span><span class="n">users</span><span class="p">,</span>
<span class="w">    </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;?</span><span class="w"> </span><span class="n">selectedUser</span><span class="p">,</span>
<span class="w">    </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;?</span><span class="w"> </span><span class="n">settings</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">AppState</span><span class="p">(</span>
<span class="w">      </span><span class="nl">isLoading:</span><span class="w"> </span><span class="n">isLoading</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">isLoading</span><span class="p">,</span>
<span class="w">      </span><span class="nl">error:</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">error</span><span class="p">,</span>
<span class="w">      </span><span class="nl">users:</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">users</span><span class="p">,</span>
<span class="w">      </span><span class="nl">selectedUser:</span><span class="w"> </span><span class="n">selectedUser</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">selectedUser</span><span class="p">,</span>
<span class="w">      </span><span class="nl">settings:</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">settings</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ¸…é™¤éŒ¯èª¤</span>
<span class="w">  </span><span class="n">AppState</span><span class="w"> </span><span class="n">clearError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">copyWith</span><span class="p">(</span><span class="nl">error:</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// è¨­å®šè¼‰å…¥ç‹€æ…‹</span>
<span class="w">  </span><span class="n">AppState</span><span class="w"> </span><span class="n">setLoading</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">loading</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">copyWith</span><span class="p">(</span><span class="nl">isLoading:</span><span class="w"> </span><span class="n">loading</span><span class="p">,</span><span class="w"> </span><span class="nl">error:</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// è¨­å®šéŒ¯èª¤</span>
<span class="w">  </span><span class="n">AppState</span><span class="w"> </span><span class="n">setError</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">copyWith</span><span class="p">(</span><span class="nl">isLoading:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nl">error:</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// è¨­å®šä½¿ç”¨è€…åˆ—è¡¨</span>
<span class="w">  </span><span class="n">AppState</span><span class="w"> </span><span class="n">setUsers</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">userList</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">copyWith</span><span class="p">(</span><span class="nl">isLoading:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nl">users:</span><span class="w"> </span><span class="n">userList</span><span class="p">,</span><span class="w"> </span><span class="nl">error:</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// é¸æ“‡ä½¿ç”¨è€…</span>
<span class="w">  </span><span class="n">AppState</span><span class="w"> </span><span class="n">selectUser</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">copyWith</span><span class="p">(</span><span class="nl">selectedUser:</span><span class="w"> </span><span class="n">user</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ›´æ–°è¨­å®š</span>
<span class="w">  </span><span class="n">AppState</span><span class="w"> </span><span class="n">updateSettings</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">newSettings</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">updatedSettings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="p">.</span><span class="n">from</span><span class="p">(</span><span class="n">settings</span><span class="p">);</span>
<span class="w">    </span><span class="n">updatedSettings</span><span class="p">.</span><span class="n">addAll</span><span class="p">(</span><span class="n">newSettings</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">copyWith</span><span class="p">(</span><span class="nl">settings:</span><span class="w"> </span><span class="n">updatedSettings</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨è¤‡é›œç‹€æ…‹ç‰©ä»¶çš„ Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ComplexStateExample</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">_ComplexStateExampleState</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_ComplexStateExampleState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_ComplexStateExampleState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">ComplexStateExample</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">AppState</span><span class="w"> </span><span class="n">_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AppState</span><span class="p">(</span>
<span class="w">    </span><span class="nl">settings:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s1">&#39;theme&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;light&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;language&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;zh_TW&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;notifications&#39;</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// æ›´æ–°ç‹€æ…‹çš„çµ±ä¸€æ–¹æ³•</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_updateState</span><span class="p">(</span><span class="n">AppState</span><span class="w"> </span><span class="n">newState</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newState</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// è¼‰å…¥ä½¿ç”¨è€…è³‡æ–™</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_loadUsers</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_updateState</span><span class="p">(</span><span class="n">_state</span><span class="p">.</span><span class="n">setLoading</span><span class="p">(</span><span class="kc">true</span><span class="p">));</span>

<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// æ¨¡æ“¬ API å‘¼å«</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">2</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// æ¨¡æ“¬è³‡æ–™</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;å¼µå°æ˜&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;email&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ming@example.com&#39;</span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;æå°è¯&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;email&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;hua@example.com&#39;</span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="o">:</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ç‹å°ç¾&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;email&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;mei@example.com&#39;</span><span class="p">},</span>
<span class="w">      </span><span class="p">];</span>

<span class="w">      </span><span class="n">_updateState</span><span class="p">(</span><span class="n">_state</span><span class="p">.</span><span class="n">setUsers</span><span class="p">(</span><span class="n">users</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_updateState</span><span class="p">(</span><span class="n">_state</span><span class="p">.</span><span class="n">setError</span><span class="p">(</span><span class="s1">&#39;è¼‰å…¥ä½¿ç”¨è€…å¤±æ•—ï¼š</span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// é¸æ“‡ä½¿ç”¨è€…</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_selectUser</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_updateState</span><span class="p">(</span><span class="n">_state</span><span class="p">.</span><span class="n">selectUser</span><span class="p">(</span><span class="n">user</span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ›´æ–°è¨­å®š</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_updateSetting</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_updateState</span><span class="p">(</span><span class="n">_state</span><span class="p">.</span><span class="n">updateSettings</span><span class="p">({</span><span class="nl">key:</span><span class="w"> </span><span class="n">value</span><span class="p">}));</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ¸…é™¤éŒ¯èª¤</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_clearError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_updateState</span><span class="p">(</span><span class="n">_state</span><span class="p">.</span><span class="n">clearError</span><span class="p">());</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">initState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">initState</span><span class="p">();</span>
<span class="w">    </span><span class="n">_loadUsers</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;è¤‡é›œç‹€æ…‹ç®¡ç†&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">actions:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">refresh</span><span class="p">),</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_loadUsers</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="c1">// éŒ¯èª¤é¡¯ç¤º</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_state</span><span class="p">.</span><span class="n">error</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
<span class="w">            </span><span class="n">Container</span><span class="p">(</span>
<span class="w">              </span><span class="nl">width:</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">infinity</span><span class="p">,</span>
<span class="w">              </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">[</span><span class="m">100</span><span class="p">],</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">                </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                      </span><span class="n">_state</span><span class="p">.</span><span class="n">error</span><span class="o">!</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">[</span><span class="m">800</span><span class="p">]),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">close</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_clearError</span><span class="p">,</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">],</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">          </span><span class="c1">// è¼‰å…¥æŒ‡ç¤ºå™¨</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_state</span><span class="p">.</span><span class="n">isLoading</span><span class="p">)</span>
<span class="w">            </span><span class="n">LinearProgressIndicator</span><span class="p">(),</span>

<span class="w">          </span><span class="c1">// è¨­å®šå€åŸŸ</span>
<span class="w">          </span><span class="n">Card</span><span class="p">(</span>
<span class="w">            </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">              </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">                </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                    </span><span class="s1">&#39;æ‡‰ç”¨ç¨‹å¼è¨­å®š&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">                  </span><span class="c1">// ä¸»é¡Œè¨­å®š</span>
<span class="w">                  </span><span class="n">Row</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceBetween</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                      </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ä¸»é¡Œæ¨¡å¼&#39;</span><span class="p">),</span>
<span class="w">                      </span><span class="n">DropdownButton</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">value:</span><span class="w"> </span><span class="n">_state</span><span class="p">.</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">],</span>
<span class="w">                        </span><span class="nl">items:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                          </span><span class="n">DropdownMenuItem</span><span class="p">(</span><span class="nl">value:</span><span class="w"> </span><span class="s1">&#39;light&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;æ·ºè‰²&#39;</span><span class="p">)),</span>
<span class="w">                          </span><span class="n">DropdownMenuItem</span><span class="p">(</span><span class="nl">value:</span><span class="w"> </span><span class="s1">&#39;dark&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;æ·±è‰²&#39;</span><span class="p">)),</span>
<span class="w">                          </span><span class="n">DropdownMenuItem</span><span class="p">(</span><span class="nl">value:</span><span class="w"> </span><span class="s1">&#39;auto&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;è‡ªå‹•&#39;</span><span class="p">)),</span>
<span class="w">                        </span><span class="p">],</span>
<span class="w">                        </span><span class="nl">onChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_updateSetting</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">),</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                  </span><span class="p">),</span>

<span class="w">                  </span><span class="c1">// é€šçŸ¥è¨­å®š</span>
<span class="w">                  </span><span class="n">Row</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">spaceBetween</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                      </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;æ¨é€é€šçŸ¥&#39;</span><span class="p">),</span>
<span class="w">                      </span><span class="n">Switch</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">value:</span><span class="w"> </span><span class="n">_state</span><span class="p">.</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;notifications&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">onChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_updateSetting</span><span class="p">(</span><span class="s1">&#39;notifications&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">),</span>
<span class="w">                      </span><span class="p">),</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">],</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="c1">// é¸ä¸­çš„ä½¿ç”¨è€…</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_state</span><span class="p">.</span><span class="n">selectedUser</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
<span class="w">            </span><span class="n">Card</span><span class="p">(</span>
<span class="w">              </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                </span><span class="nl">leading:</span><span class="w"> </span><span class="n">CircleAvatar</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">_state</span><span class="p">.</span><span class="n">selectedUser</span><span class="o">!</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">][</span><span class="m">0</span><span class="p">]),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">_state</span><span class="p">.</span><span class="n">selectedUser</span><span class="o">!</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]),</span>
<span class="w">                </span><span class="nl">subtitle:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">_state</span><span class="p">.</span><span class="n">selectedUser</span><span class="o">!</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">]),</span>
<span class="w">                </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">star</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">amber</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">          </span><span class="c1">// ä½¿ç”¨è€…åˆ—è¡¨</span>
<span class="w">          </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">ListView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
<span class="w">              </span><span class="nl">itemCount:</span><span class="w"> </span><span class="n">_state</span><span class="p">.</span><span class="n">users</span><span class="p">.</span><span class="n">length</span><span class="p">,</span>
<span class="w">              </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kd">final</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_state</span><span class="p">.</span><span class="n">users</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
<span class="w">                </span><span class="kd">final</span><span class="w"> </span><span class="n">isSelected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_state</span><span class="p">.</span><span class="n">selectedUser</span><span class="o">?</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">];</span>

<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">leading:</span><span class="w"> </span><span class="n">CircleAvatar</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">][</span><span class="m">0</span><span class="p">]),</span>
<span class="w">                    </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">isSelected</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">,</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]),</span>
<span class="w">                  </span><span class="nl">subtitle:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">]),</span>
<span class="w">                  </span><span class="nl">trailing:</span><span class="w"> </span><span class="n">isSelected</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">check</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">onTap:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_selectUser</span><span class="p">(</span><span class="n">user</span><span class="p">),</span>
<span class="w">                  </span><span class="nl">selected:</span><span class="w"> </span><span class="n">isSelected</span><span class="p">,</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>

<span class="w">          </span><span class="c1">// ç‹€æ…‹è³‡è¨Šé¡¯ç¤ºï¼ˆåƒ…ä¾›é–‹ç™¼æ™‚æŸ¥çœ‹ï¼‰</span>
<span class="w">          </span><span class="n">Container</span><span class="p">(</span>
<span class="w">            </span><span class="nl">width:</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">infinity</span><span class="p">,</span>
<span class="w">            </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">            </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">100</span><span class="p">],</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">              </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">              </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ç•¶å‰ç‹€æ…‹ï¼š&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;è¼‰å…¥ä¸­ï¼š</span><span class="si">${</span><span class="n">_state</span><span class="p">.</span><span class="n">isLoading</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;éŒ¯èª¤ï¼š</span><span class="si">${</span><span class="n">_state</span><span class="p">.</span><span class="n">error</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s2">&quot;ç„¡&quot;</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ä½¿ç”¨è€…æ•¸é‡ï¼š</span><span class="si">${</span><span class="n">_state</span><span class="p">.</span><span class="n">users</span><span class="p">.</span><span class="n">length</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;é¸ä¸­ä½¿ç”¨è€…ï¼š</span><span class="si">${</span><span class="n">_state</span><span class="p">.</span><span class="n">selectedUser</span><span class="o">?</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s2">&quot;ç„¡&quot;</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;è¨­å®šï¼š</span><span class="si">${</span><span class="n">_state</span><span class="p">.</span><span class="n">settings</span><span class="p">.</span><span class="n">toString</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ¯ ç¸½çµèˆ‡æœ€ä½³å¯¦è¸</h2>
<h3>å‹åˆ¥ä½¿ç”¨åŸå‰‡</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// âœ… è‰¯å¥½çš„å‹åˆ¥ä½¿ç”¨</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">GoodPractice</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// 1. æ˜ç¢ºçš„å‹åˆ¥å®£å‘Š</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">userName</span><span class="p">;</span><span class="w">              </span><span class="c1">// æ¸…æ¥šçš„è®Šæ•¸å‹åˆ¥</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">hobbies</span><span class="p">;</span><span class="w">         </span><span class="c1">// æ³›å‹å‹åˆ¥æ˜ç¢º</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">scores</span><span class="p">;</span><span class="w">      </span><span class="c1">// éµå€¼å‹åˆ¥éƒ½æ˜ç¢º</span>

<span class="w">  </span><span class="c1">// 2. å‡½æ•¸å›å‚³å‹åˆ¥æ˜ç¢º</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">getFullName</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">first</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">last</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;</span><span class="si">$</span><span class="n">first</span><span class="s1"> </span><span class="si">$</span><span class="n">last</span><span class="s1">&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">fetchNotifications</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ç•°æ­¥æ“ä½œå›å‚³æ˜ç¢ºå‹åˆ¥</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;é€šçŸ¥1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;é€šçŸ¥2&#39;</span><span class="p">];</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// 3. ä½¿ç”¨å¯ç‚ºç©ºå‹åˆ¥ä¾†è¡¨é”æ„åœ–</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">findUserById</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// å¯èƒ½æ‰¾ä¸åˆ°ï¼Œå›å‚³ null</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// 4. æ³›å‹çš„åˆç†ä½¿ç”¨</span>
<span class="w">  </span><span class="n">T</span><span class="w"> </span><span class="n">processData</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="kt">Function</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="n">processor</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">processor</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// âŒ é¿å…çš„ä¸è‰¯å¯¦è¸</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">BadPractice</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// 1. éåº¦ä½¿ç”¨ dynamic</span>
<span class="w">  </span><span class="kt">dynamic</span><span class="w"> </span><span class="n">userData</span><span class="p">;</span><span class="w">  </span><span class="c1">// ä¸æ¸…æ¥šè³‡æ–™çµæ§‹</span>

<span class="w">  </span><span class="c1">// 2. å›å‚³å‹åˆ¥ä¸æ˜ç¢º</span>
<span class="w">  </span><span class="kd">get</span><span class="w"> </span><span class="n">someData</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">userData</span><span class="p">;</span><span class="w">  </span><span class="c1">// ä¸çŸ¥é“å›å‚³ä»€éº¼</span>

<span class="w">  </span><span class="c1">// 3. æ²’æœ‰è™•ç† null çš„æƒ…æ³</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">getName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">userData</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">];</span><span class="w">  </span><span class="c1">// å¯èƒ½æ‹‹å‡ºç•°å¸¸</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// 4. æ³›å‹ä½¿ç”¨ä¸ç•¶</span>
<span class="w">  </span><span class="n">processStuff</span><span class="p">(</span><span class="n">stuff</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// æ²’æœ‰å‹åˆ¥è³‡è¨Š</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">stuff</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>é–‹ç™¼å»ºè­°</h3>
<ol>
<li><strong>ç¸½æ˜¯ä½¿ç”¨æ˜ç¢ºçš„å‹åˆ¥å®£å‘Š</strong></li>
<li>æé«˜ç¨‹å¼ç¢¼å¯è®€æ€§</li>
<li>ç²å¾—æ›´å¥½çš„ IDE æ”¯æ´</li>
<li>é¿å…åŸ·è¡Œæ™‚å‹åˆ¥éŒ¯èª¤</li>
<li><strong>å–„ç”¨ Null Safety</strong></li>
<li>ä½¿ç”¨ <code>?</code> è¡¨ç¤ºå¯ç‚ºç©ºçš„å‹åˆ¥</li>
<li>ä½¿ç”¨ <code>??</code> é‹ç®—å­æä¾›é è¨­å€¼</li>
<li>åœ¨ç¢ºå®šä¸ç‚º null æ™‚æ‰ä½¿ç”¨ <code>!</code></li>
<li><strong>åˆç†ä½¿ç”¨æ³›å‹</strong></li>
<li>æé«˜ç¨‹å¼ç¢¼é‡ç”¨æ€§</li>
<li>ä¿æŒå‹åˆ¥å®‰å…¨</li>
<li>ä½¿ API æ›´åŠ éˆæ´»</li>
<li><strong>ç•°æ­¥ç¨‹å¼è¨­è¨ˆæœ€ä½³å¯¦è¸</strong></li>
<li>ä½¿ç”¨ <code>Future&lt;T&gt;</code> è¡¨ç¤ºç•°æ­¥æ“ä½œ</li>
<li>é©ç•¶è™•ç†éŒ¯èª¤æƒ…æ³</li>
<li>ä½¿ç”¨ <code>async/await</code> è®“ç¨‹å¼ç¢¼æ›´æ˜“è®€</li>
</ol>
<p>è¨˜ä½ï¼Œè‰¯å¥½çš„å‹åˆ¥ä½¿ç”¨ä¸åƒ…èƒ½è®“ç¨‹å¼ç¢¼æ›´å®‰å…¨ï¼Œé‚„èƒ½è®“å…¶ä»–é–‹ç™¼è€…ï¼ˆåŒ…æ‹¬æœªä¾†çš„è‡ªå·±ï¼‰æ›´å®¹æ˜“ç†è§£å’Œç¶­è­·ç¨‹å¼ç¢¼ï¼</p>
<h3>ğŸ‰ æ­å–œï¼</h3>
<p>ç¾åœ¨ä½ å·²ç¶“æŒæ¡äº† Dart ä¸­å„ç¨®è³‡æ–™å‹åˆ¥çš„ä½¿ç”¨æ–¹æ³•ã€‚é€™äº›ä¸æ˜¯å‡½æ•¸ï¼Œè€Œæ˜¯æè¿°è³‡æ–™çš„å‹åˆ¥ç³»çµ±ã€‚ç†è§£é€™äº›å‹åˆ¥å°‡å¹«åŠ©ä½ ï¼š</p>
<ul>
<li>å¯«å‡ºæ›´å®‰å…¨çš„ç¨‹å¼ç¢¼</li>
<li>ç²å¾—æ›´å¥½çš„é–‹ç™¼é«”é©—</li>
<li>é¿å…å¸¸è¦‹çš„åŸ·è¡Œæ™‚éŒ¯èª¤</li>
<li>å»ºæ§‹æ›´å¥å£¯çš„ Flutter æ‡‰ç”¨ç¨‹å¼</li>
</ul>
<p>ç¹¼çºŒç·´ç¿’å’Œæ¢ç´¢ï¼Œä½ å°‡æˆç‚º Flutter é–‹ç™¼çš„å°ˆå®¶ï¼ğŸš€</p>
                    </div>
                </div>
            
                <div class="tab-pane fade " id="5.-project-framework" 
                     role="tabpanel" aria-labelledby="5.-project-framework-tab">
                    <div class="content-wrapper">
                        <h1>Flutter å°ˆæ¡ˆæ¶æ§‹è¨­è¨ˆæ¨¡çµ„åŒ–æŒ‡å—</h1>
<h2>ğŸ¯ æ¶æ§‹è¨­è¨ˆæ ¸å¿ƒåŸå‰‡</h2>
<h3>ç‚ºä»€éº¼éœ€è¦æ¨¡çµ„åŒ–æ¶æ§‹ï¼Ÿ</h3>
<div class="codehilite"><pre><span></span><code>âŒ å‚³çµ±æ¶æ§‹                    âœ… æ¨¡çµ„åŒ–æ¶æ§‹
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     â”‚       â”‚ ğŸ¨ UI    â”‚ ğŸ“‹ Logic â”‚
â”‚  æ‰€æœ‰ç¨‹å¼ç¢¼æ··åœ¨ä¸€èµ·    â”‚  â”€â”€â–º  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚       â”‚ ğŸ—ƒï¸ Data  â”‚ ğŸ”§ Core  â”‚
â”‚ â€¢ UI + æ¥­å‹™é‚è¼¯      â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â€¢ è³‡æ–™è™•ç†          â”‚
â”‚ â€¢ ç¶²è·¯è«‹æ±‚          â”‚       âœ… æ˜“æ–¼æ¸¬è©¦ | å¯ç¶­è­· | å¯æ“´å±•
â”‚ â€¢ éŒ¯èª¤è™•ç†          â”‚
â”‚                     â”‚
â”‚ âŒ é›£ä»¥ç¶­è­· &amp; æ¸¬è©¦   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<p><strong>æ¨¡çµ„åŒ–æ¶æ§‹çš„æ ¸å¿ƒåƒ¹å€¼ï¼š</strong></p>
<ul>
<li>ğŸ¯ <strong>å–®ä¸€è·è²¬</strong>ï¼šæ¯å€‹æ¨¡çµ„å°ˆæ³¨ä¸€ä»¶äº‹</li>
<li>ğŸ”§ <strong>æ˜“æ–¼ç¶­è­·</strong>ï¼šä¿®æ”¹å½±éŸ¿ç¯„åœå¯æ§</li>
<li>ğŸ§ª <strong>ä¾¿æ–¼æ¸¬è©¦</strong>ï¼šå„å±¤å¯ç¨ç«‹æ¸¬è©¦</li>
<li>ğŸ‘¥ <strong>åœ˜éšŠå”ä½œ</strong>ï¼šä¸åŒé–‹ç™¼è€…å¯ä¸¦è¡Œå·¥ä½œ</li>
</ul>
<hr />
<h2>ğŸ—ï¸ MVVM æ¶æ§‹æ¨¡å¼</h2>
<h3>æ¶æ§‹å±¤æ¬¡åœ–</h3>
<div class="codehilite"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ“± View Layer (è¡¨ç¾å±¤)                   â”‚
â”‚  â€¢ Widget &amp; Pages  â€¢ ä½¿ç”¨è€…ä»‹é¢  â€¢ äº‹ä»¶è™•ç†                â”‚
â”‚  åªé—œå¿ƒ UI å‘ˆç¾ï¼Œä¸åŒ…å«æ¥­å‹™é‚è¼¯                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ äº‹ä»¶é€šçŸ¥
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ğŸ§  ViewModel Layer (è¡¨ç¾é‚è¼¯å±¤)               â”‚
â”‚  â€¢ ç‹€æ…‹ç®¡ç†  â€¢ UI æ¥­å‹™é‚è¼¯  â€¢ è³‡æ–™è½‰æ›                      â”‚
â”‚  é€£æ¥ View å’Œ Modelï¼Œè™•ç† UI ç›¸é—œé‚è¼¯                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ è³‡æ–™è«‹æ±‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ğŸ—ƒï¸ Model Layer (è³‡æ–™å±¤)                   â”‚
â”‚  â€¢ Repository  â€¢ UseCase  â€¢ Entity                         â”‚
â”‚  è™•ç†è³‡æ–™é‚è¼¯ã€API å‘¼å«ã€æœ¬åœ°å„²å­˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–² å–®å‘è³‡æ–™æµ
</code></pre></div>

<h3>ä¾è³´æ–¹å‘è¦å‰‡</h3>
<div class="codehilite"><pre><span></span><code>Presentation â”€â”€â”€â”€â”€â”€â”€â”€â–º Domain â—„â”€â”€â”€â”€â”€â”€â”€â”€ Data
     â”‚                   â”‚                â”‚
     â”‚                   â”‚                â”‚
     â””â”€â”€â”€ ä¾è³´ Domain â”€â”€â”€â”€â”˜                â”‚
                         â”‚                â”‚
                         â””â”€â”€â”€ ä¸ä¾è³´ä»»ä½•å±¤ â”€â”€â”˜
                              â”‚
                              â””â”€â”€â”€ ä¾è³´ Domain
</code></pre></div>

<p><strong>âœ… ä¾è³´è¦å‰‡</strong></p>
<ul>
<li>Presentation å±¤å¯ä»¥ä¾è³´ Domainï¼Œä½†ä¸èƒ½ä¾è³´ Data</li>
<li>Data å±¤å¯ä»¥ä¾è³´ Domainï¼Œä½†ä¸èƒ½ä¾è³´ Presentation</li>
<li>Domain å±¤ä¸ä¾è³´ä»»ä½•å±¤ï¼Œä¿æŒç´”ç²¹çš„æ¥­å‹™é‚è¼¯</li>
</ul>
<hr />
<h2>ğŸ“ æ¨¡çµ„åŒ–ç›®éŒ„çµæ§‹</h2>
<h3>æ ¸å¿ƒæ¨¡çµ„çµ„ç¹”</h3>
<div class="codehilite"><pre><span></span><code><span class="n">lib</span><span class="o">/</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸ¨</span><span class="w"> </span><span class="n">presentation</span><span class="o">/</span><span class="w">          </span><span class="c1"># è¡¨ç¾å±¤æ¨¡çµ„</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">pages</span><span class="o">/</span><span class="w">               </span><span class="c1"># é é¢çµ„ä»¶</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">widgets</span><span class="o">/</span><span class="w">             </span><span class="c1"># å¯é‡ç”¨å…ƒä»¶</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">providers</span><span class="o">/</span><span class="w">           </span><span class="c1"># ç‹€æ…‹ç®¡ç†</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">routes</span><span class="o">/</span><span class="w">              </span><span class="c1"># è·¯ç”±é…ç½®</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸ“‹</span><span class="w"> </span><span class="n">domain</span><span class="o">/</span><span class="w">               </span><span class="c1"># æ¥­å‹™é‚è¼¯æ¨¡çµ„  </span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">entities</span><span class="o">/</span><span class="w">            </span><span class="c1"># æ¥­å‹™å¯¦é«”</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">repositories</span><span class="o">/</span><span class="w">        </span><span class="c1"># æŠ½è±¡ä»‹é¢</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">usecases</span><span class="o">/</span><span class="w">           </span><span class="c1"># ç”¨ä¾‹</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸ—ƒï¸</span><span class="w"> </span><span class="n">data</span><span class="o">/</span><span class="w">                </span><span class="c1"># è³‡æ–™å±¤æ¨¡çµ„</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">repositories</span><span class="o">/</span><span class="w">        </span><span class="c1"># å¯¦ä½œé¡åˆ¥</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">datasources</span><span class="o">/</span><span class="w">         </span><span class="c1"># è³‡æ–™ä¾†æº</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">models</span><span class="o">/</span><span class="w">             </span><span class="c1"># è³‡æ–™æ¨¡å‹</span>
<span class="err">â””â”€â”€</span><span class="w"> </span><span class="err">ğŸ”§</span><span class="w"> </span><span class="n">core</span><span class="o">/</span><span class="w">                </span><span class="c1"># æ ¸å¿ƒæ¨¡çµ„</span>
<span class="w">    </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">constants</span><span class="o">/</span><span class="w">           </span><span class="c1"># å¸¸æ•¸å®šç¾©</span>
<span class="w">    </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">utils</span><span class="o">/</span><span class="w">              </span><span class="c1"># å·¥å…·å‡½æ•¸</span>
<span class="w">    </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">network</span><span class="o">/</span><span class="w">            </span><span class="c1"># ç¶²è·¯æœå‹™</span>
<span class="w">    </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">injection</span><span class="o">/</span><span class="w">          </span><span class="c1"># ä¾è³´æ³¨å…¥</span>
</code></pre></div>

<h3>æ¨¡çµ„ä¾è³´é—œä¿‚åœ–</h3>
<div class="codehilite"><pre><span></span><code>                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ğŸ¨ Present â”‚
                    â”‚    ation    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  ğŸ—ƒï¸ Data   â”‚  â”‚  ğŸ“‹ Domain  â”‚  â”‚  ğŸ”§ Core   â”‚
      â”‚            â”‚  â”‚             â”‚  â”‚             â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
             â”‚                â”‚                â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
              ä¾è³´é—œä¿‚ï¼šCore â† Domain â† (Data | Presentation)
</code></pre></div>

<p><strong>æ¨¡çµ„è·è²¬èªªæ˜ï¼š</strong></p>
<ul>
<li><strong>ğŸ¨ Presentation</strong>ï¼šUI å±•ç¤ºå’Œä½¿ç”¨è€…äº’å‹•</li>
<li><strong>ğŸ“‹ Domain</strong>ï¼šæ¥­å‹™é‚è¼¯å’Œè¦å‰‡</li>
<li><strong>ğŸ—ƒï¸ Data</strong>ï¼šè³‡æ–™å­˜å–å’Œç®¡ç†</li>
<li><strong>ğŸ”§ Core</strong>ï¼šåŸºç¤è¨­æ–½å’Œå·¥å…·</li>
</ul>
<hr />
<h2>ğŸ”§ æ ¸å¿ƒæ¨¡çµ„è¨­è¨ˆ</h2>
<h3>ä¾è³´æ³¨å…¥æ¶æ§‹</h3>
<div class="codehilite"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ViewModel  â”‚â”€â”€â”€â”€â–¶â”‚  DI Container   â”‚â—„â”€â”€â”€â”€â”‚  UseCase    â”‚
â”‚  éœ€è¦ä¾è³´   â”‚     â”‚                 â”‚     â”‚  ç²å¾—å¯¦ä¾‹   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  ğŸ­ Repository  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚  ğŸ“‹ UseCase     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  ğŸŒ ApiClient   â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Repository  â”‚â”€â”€â”€â”€â–¶â”‚  ğŸ’¾ Storage     â”‚â—„â”€â”€â”€â”€â”‚  Service    â”‚
â”‚  éœ€è¦ä¾è³´   â”‚     â”‚                 â”‚     â”‚  ç²å¾—å¯¦ä¾‹   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

              âœ… é¬†è€¦åˆ | æ˜“æ¸¬è©¦ | å¯æ›¿æ›
</code></pre></div>

<h3>æ ¸å¿ƒæ¨¡çµ„è·è²¬</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ”§ Core æ¨¡çµ„çµæ§‹</span>
<span class="n">core</span><span class="o">/</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸŒ</span><span class="w"> </span><span class="n">network</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">api_client</span><span class="p">.</span><span class="n">dart</span><span class="w">         </span><span class="c1">// HTTP å®¢æˆ¶ç«¯</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">interceptors</span><span class="p">.</span><span class="n">dart</span><span class="w">       </span><span class="c1">// è«‹æ±‚æ””æˆªå™¨</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">network_info</span><span class="p">.</span><span class="n">dart</span><span class="w">       </span><span class="c1">// ç¶²è·¯ç‹€æ…‹</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸ’¾</span><span class="w"> </span><span class="n">storage</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">local_storage</span><span class="p">.</span><span class="n">dart</span><span class="w">      </span><span class="c1">// æœ¬åœ°å„²å­˜ä»‹é¢</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">secure_storage</span><span class="p">.</span><span class="n">dart</span><span class="w">     </span><span class="c1">// å®‰å…¨å„²å­˜</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸ› ï¸</span><span class="w"> </span><span class="n">utils</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">date_utils</span><span class="p">.</span><span class="n">dart</span><span class="w">         </span><span class="c1">// æ—¥æœŸå·¥å…·</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">validation_utils</span><span class="p">.</span><span class="n">dart</span><span class="w">   </span><span class="c1">// é©—è­‰å·¥å…·</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">format_utils</span><span class="p">.</span><span class="n">dart</span><span class="w">       </span><span class="c1">// æ ¼å¼åŒ–å·¥å…·</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸ“Š</span><span class="w"> </span><span class="n">constants</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_constants</span><span class="p">.</span><span class="n">dart</span><span class="w">      </span><span class="c1">// æ‡‰ç”¨å¸¸æ•¸</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">api_constants</span><span class="p">.</span><span class="n">dart</span><span class="w">      </span><span class="c1">// API å¸¸æ•¸</span>
<span class="err">â””â”€â”€</span><span class="w"> </span><span class="err">ğŸ”Œ</span><span class="w"> </span><span class="n">injection</span><span class="o">/</span>
<span class="w">    </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">injection</span><span class="p">.</span><span class="n">dart</span><span class="w">          </span><span class="c1">// ä¾è³´æ³¨å…¥é…ç½®</span>
</code></pre></div>

<hr />
<h2>ğŸ—ƒï¸ è³‡æ–™å±¤æ¨¡çµ„åŒ–</h2>
<h3>Repository æ¨¡å¼æ¶æ§‹</h3>
<div class="codehilite"><pre><span></span><code><span class="nx">Domain</span><span class="w"> </span><span class="nx">Layer</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nx">UserRepository</span><span class="w"> </span><span class="p">(</span><span class="nx">ä»‹é¢</span><span class="p">)</span><span class="w">          </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="w">              </span><span class="err">â”‚</span><span class="w"> </span><span class="nx">implements</span>
<span class="w">              </span><span class="err">â–¼</span>
<span class="nx">Data</span><span class="w"> </span><span class="nx">Layer</span><span class="w">    </span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">  </span><span class="nx">UserRepositoryImpl</span><span class="w">             </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">             </span><span class="err">â”‚</span><span class="w">                   </span><span class="err">â”‚</span>
<span class="err">â–¼</span><span class="w">             </span><span class="err">â–¼</span><span class="w">                   </span><span class="err">â–¼</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><span class="w"> </span><span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚ğŸŒ</span><span class="w"> </span><span class="nx">Remote</span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚ğŸ’¾</span><span class="w"> </span><span class="nx">Local</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚ğŸ¯</span><span class="w"> </span><span class="nx">Strategy</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="nx">API</span><span class="w"> </span><span class="nx">è³‡æ–™æº</span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="nx">æœ¬åœ°å¿«å–</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="err">â”‚</span><span class="nx">å¿«å–ç­–ç•¥</span><span class="w">     </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><span class="w"> </span><span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre></div>

<p><strong>è³‡æ–™æµç¨‹ï¼š</strong> Repository â†’ é¸æ“‡è³‡æ–™ä¾†æº â†’ å¿«å–ç­–ç•¥ â†’ å›å‚³çµ±ä¸€æ ¼å¼</p>
<h3>è³‡æ–™å±¤æ¨¡çµ„çµæ§‹</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ—ƒï¸ Data æ¨¡çµ„æ¶æ§‹</span>
<span class="n">data</span><span class="o">/</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸ­</span><span class="w"> </span><span class="n">repositories</span><span class="o">/</span><span class="w">           </span><span class="c1">// Repository å¯¦ä½œ</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user_repository_impl</span><span class="p">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">auth_repository_impl</span><span class="p">.</span><span class="n">dart</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸŒ</span><span class="w"> </span><span class="n">datasources</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">remote</span><span class="o">/</span><span class="w">               </span><span class="c1">// é ç«¯è³‡æ–™ä¾†æº</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user_remote_datasource</span><span class="p">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">auth_remote_datasource</span><span class="p">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">local</span><span class="o">/</span><span class="w">               </span><span class="c1">// æœ¬åœ°è³‡æ–™ä¾†æº  </span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user_local_datasource</span><span class="p">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">auth_local_datasource</span><span class="p">.</span><span class="n">dart</span>
<span class="err">â””â”€â”€</span><span class="w"> </span><span class="err">ğŸ“‹</span><span class="w"> </span><span class="n">models</span><span class="o">/</span><span class="w">               </span><span class="c1">// è³‡æ–™å‚³è¼¸ç‰©ä»¶</span>
<span class="w">    </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user_model</span><span class="p">.</span><span class="n">dart</span>
<span class="w">    </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">auth_model</span><span class="p">.</span><span class="n">dart</span>
</code></pre></div>

<hr />
<h2>ğŸ¨ è¡¨ç¾å±¤æ¨¡çµ„åŒ–</h2>
<h3>ç‹€æ…‹ç®¡ç†æ¶æ§‹</h3>
<div class="codehilite"><pre><span></span><code>ğŸ“± Widget â”€â”€â”€â”€äº‹ä»¶â”€â”€â”€â–º ğŸ§  ViewModel â”€â”€â”€â”€å‘¼å«â”€â”€â”€â–º ğŸ“‹ UseCase
    â”‚                      â”‚                       â”‚
    â”‚                      â”‚                       â”‚
    â—„â”€â”€â”€â”€ç‹€æ…‹â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—„â”€â”€â”€â”€â”€çµæœâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                     å¯é‡ç”¨çµ„ä»¶
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚å…±ç”¨Widgetâ”‚è¡¨å–®çµ„ä»¶ â”‚åˆ—è¡¨çµ„ä»¶ â”‚å°è©±æ¡†çµ„ä»¶â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

          âœ… çµ„ä»¶åŒ– | å¯é‡ç”¨ | æ˜“ç¶­è­·
</code></pre></div>

<h3>è¡¨ç¾å±¤æ¨¡çµ„çµæ§‹</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ¨ Presentation æ¨¡çµ„æ¶æ§‹</span>
<span class="n">presentation</span><span class="o">/</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸ“±</span><span class="w"> </span><span class="n">pages</span><span class="o">/</span><span class="w">                 </span><span class="c1">// é é¢</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">auth</span><span class="o">/</span><span class="w">                </span><span class="c1">// èªè­‰é é¢</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">home</span><span class="o">/</span><span class="w">                </span><span class="c1">// é¦–é ç›¸é—œ</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">profile</span><span class="o">/</span><span class="w">             </span><span class="c1">// å€‹äººè³‡æ–™</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸ§©</span><span class="w"> </span><span class="n">widgets</span><span class="o">/</span><span class="w">              </span><span class="c1">// å¯é‡ç”¨çµ„ä»¶</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">common</span><span class="o">/</span><span class="w">              </span><span class="c1">// é€šç”¨çµ„ä»¶</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">forms</span><span class="o">/</span><span class="w">               </span><span class="c1">// è¡¨å–®çµ„ä»¶</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">lists</span><span class="o">/</span><span class="w">               </span><span class="c1">// åˆ—è¡¨çµ„ä»¶</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸ§ </span><span class="w"> </span><span class="n">providers</span><span class="o">/</span><span class="w">            </span><span class="c1">// ç‹€æ…‹ç®¡ç†</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">auth_provider</span><span class="p">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">user_provider</span><span class="p">.</span><span class="n">dart</span>
<span class="err">â””â”€â”€</span><span class="w"> </span><span class="err">ğŸ”€</span><span class="w"> </span><span class="n">routes</span><span class="o">/</span><span class="w">               </span><span class="c1">// è·¯ç”±ç®¡ç†</span>
<span class="w">    </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_router</span><span class="p">.</span><span class="n">dart</span>
<span class="w">    </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">route_guards</span><span class="p">.</span><span class="n">dart</span>
</code></pre></div>

<hr />
<h2>ğŸ§ª æ¸¬è©¦æ¨¡çµ„åŒ–ç­–ç•¥</h2>
<h3>æ¸¬è©¦é‡‘å­—å¡”</h3>
<div class="codehilite"><pre><span></span><code>                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  E2E æ¸¬è©¦   â”‚  â† 10% (ä½¿ç”¨è€…æµç¨‹ã€æ…¢é€ŸåŸ·è¡Œ)
                    â”‚    é ‚å±¤     â”‚
                â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”
                â”‚    æ•´åˆæ¸¬è©¦         â”‚  â† 20% (æ¨¡çµ„æ•´åˆã€ä¸­é€ŸåŸ·è¡Œ)
                â”‚      ä¸­å±¤           â”‚
            â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”
            â”‚        å–®å…ƒæ¸¬è©¦             â”‚  â† 70% (é‚è¼¯é©—è­‰ã€å¿«é€ŸåŸ·è¡Œ)
            â”‚          åº•å±¤               â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

            æ¸¬è©¦ç­–ç•¥ï¼šå¿«é€Ÿåé¥‹ + å…¨é¢è¦†è“‹
    å–®å…ƒæ¸¬è©¦ä¿è­‰å“è³ªï¼Œæ•´åˆæ¸¬è©¦ä¿è­‰åŠŸèƒ½ï¼ŒE2E æ¸¬è©¦ä¿è­‰é«”é©—
</code></pre></div>

<h3>æ¸¬è©¦æ¨¡çµ„çµ„ç¹”</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ§ª æ¸¬è©¦æ¨¡çµ„çµæ§‹</span>
<span class="n">test</span><span class="o">/</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸ”¬</span><span class="w"> </span><span class="n">unit</span><span class="o">/</span><span class="w">                   </span><span class="c1">// å–®å…ƒæ¸¬è©¦ (70%)</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">domain</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">usecases</span><span class="o">/</span><span class="w">         </span><span class="c1">// UseCase æ¸¬è©¦</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">data</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">repositories</span><span class="o">/</span><span class="w">     </span><span class="c1">// Repository æ¸¬è©¦</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">core</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">utils</span><span class="o">/</span><span class="w">           </span><span class="c1">// å·¥å…·é¡æ¸¬è©¦</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸ–¼ï¸</span><span class="w"> </span><span class="n">widget</span><span class="o">/</span><span class="w">                </span><span class="c1">// Widget æ¸¬è©¦ (20%)</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">pages</span><span class="o">/</span><span class="w">               </span><span class="c1">// é é¢æ¸¬è©¦</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">components</span><span class="o">/</span><span class="w">          </span><span class="c1">// çµ„ä»¶æ¸¬è©¦</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="err">ğŸ”—</span><span class="w"> </span><span class="n">integration</span><span class="o">/</span><span class="w">           </span><span class="c1">// æ•´åˆæ¸¬è©¦ (10%)</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">flows</span><span class="o">/</span><span class="w">              </span><span class="c1">// ä½¿ç”¨è€…æµç¨‹æ¸¬è©¦</span>
<span class="err">â””â”€â”€</span><span class="w"> </span><span class="err">ğŸ› ï¸</span><span class="w"> </span><span class="n">helpers</span><span class="o">/</span><span class="w">              </span><span class="c1">// æ¸¬è©¦è¼”åŠ©å·¥å…·</span>
<span class="w">    </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">mocks</span><span class="o">/</span><span class="w">              </span><span class="c1">// Mock ç‰©ä»¶</span>
<span class="w">    </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">fixtures</span><span class="o">/</span><span class="w">           </span><span class="c1">// æ¸¬è©¦è³‡æ–™</span>
</code></pre></div>

<hr />
<h2>ğŸš€ æ¨¡çµ„åŒ–æœ€ä½³å¯¦è¸</h2>
<h3>SOLID åŸå‰‡åœ¨æ¨¡çµ„åŒ–ä¸­çš„æ‡‰ç”¨</h3>
<div class="codehilite"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    S    â”‚    O    â”‚    L    â”‚    I    â”‚      D      â”‚
â”‚  å–®ä¸€   â”‚  é–‹æ”¾   â”‚  é‡Œæ°   â”‚  ä»‹é¢   â”‚    ä¾è³´     â”‚
â”‚  è·è²¬   â”‚  å°é–‰   â”‚  æ›¿æ›   â”‚  éš”é›¢   â”‚    å€’ç½®     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚æ¯å€‹æ¨¡çµ„ â”‚å°æ“´å±•   â”‚å­é¡å¯ä»¥ â”‚å°è€Œå°ˆä¸€ â”‚ä¾è³´æŠ½è±¡è€Œé â”‚
â”‚åªè² è²¬   â”‚é–‹æ”¾     â”‚æ›¿æ›çˆ¶é¡ â”‚çš„ä»‹é¢   â”‚å…·é«”å¯¦ç¾     â”‚
â”‚ä¸€ä»¶äº‹   â”‚å°ä¿®æ”¹å°é–‰â”‚        â”‚        â”‚é«˜å±¤ä¸ä¾è³´ä½å±¤â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>

<h3>å¯¦è¸æª¢æŸ¥æ¸…å–®</h3>
<h4>âœ… æ¨¡çµ„åŒ–æª¢æŸ¥é …ç›®</h4>
<p><strong>ğŸ“ ç›®éŒ„çµæ§‹æ¸…æ™°</strong></p>
<ul>
<li>[ ] æŒ‰è·è²¬åˆ†å±¤çµ„ç¹”</li>
<li>[ ] æ¨¡çµ„é‚Šç•Œæ˜ç¢º</li>
<li>[ ] å‘½åè¦ç¯„ä¸€è‡´</li>
</ul>
<p><strong>ğŸ”— ä¾è³´é—œä¿‚æ­£ç¢º</strong></p>
<ul>
<li>[ ] ä¾è³´æ–¹å‘æ¸…æ™°</li>
<li>[ ] é¿å…å¾ªç’°ä¾è³´</li>
<li>[ ] ä½¿ç”¨æŠ½è±¡ä»‹é¢</li>
</ul>
<p><strong>ğŸ§ª æ¸¬è©¦è¦†è“‹å®Œæ•´</strong></p>
<ul>
<li>[ ] å–®å…ƒæ¸¬è©¦ 70%</li>
<li>[ ] æ•´åˆæ¸¬è©¦ 20%</li>
<li>[ ] E2E æ¸¬è©¦ 10%</li>
</ul>
<p><strong>ğŸ”§ å¯ç¶­è­·æ€§è‰¯å¥½</strong></p>
<ul>
<li>[ ] æ¨¡çµ„è·è²¬å–®ä¸€</li>
<li>[ ] ä»‹é¢è¨­è¨ˆç°¡æ½”</li>
<li>[ ] æ–‡æª”èªªæ˜æ¸…æ¥š</li>
</ul>
<h4>ğŸ“ˆ æ¨¡çµ„åŒ–æ”¶ç›Š</h4>
<div class="codehilite"><pre><span></span><code><span class="c1">// âœ… æ¨¡çµ„åŒ–å¸¶ä¾†çš„åƒ¹å€¼</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ModularBenefits</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ğŸ¯ é–‹ç™¼æ•ˆç‡æå‡</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">developmentSpeed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;30-50%&quot;</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// ğŸ› Bug ç™¼ç”Ÿç‡é™ä½  </span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">bugReduction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;40-60%&quot;</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// ğŸ§ª æ¸¬è©¦è¦†è“‹ç‡æé«˜</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">testCoverage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;70-90%&quot;</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// ğŸ‘¥ åœ˜éšŠå”ä½œæ”¹å–„</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">teamCollaboration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;é¡¯è‘—æå‡&quot;</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// ğŸ”„ ç¶­è­·æˆæœ¬é™ä½</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">maintenanceCost</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;50-70%&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ¯ å¯¦éš›æ‡‰ç”¨ç¯„ä¾‹</h2>
<h3>ç°¡åŒ–çš„æ¨¡çµ„å¯¦ä½œ</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ“‹ Domain Layer - å®šç¾©æŠ½è±¡</span>
<span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">UserRepository</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getUser</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">saveUser</span><span class="p">(</span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">GetUserUseCase</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">UserRepository</span><span class="w"> </span><span class="n">repository</span><span class="p">;</span>
<span class="w">  </span><span class="n">GetUserUseCase</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">repository</span><span class="p">);</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">execute</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">repository</span><span class="p">.</span><span class="n">getUser</span><span class="p">(</span><span class="n">userId</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ğŸ—ƒï¸ Data Layer - å¯¦ä½œå…·é«”é‚è¼¯</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UserRepositoryImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">UserRepository</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">UserRemoteDataSource</span><span class="w"> </span><span class="n">remoteDataSource</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">UserLocalDataSource</span><span class="w"> </span><span class="n">localDataSource</span><span class="p">;</span>

<span class="w">  </span><span class="n">UserRepositoryImpl</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">remoteDataSource</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">localDataSource</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getUser</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// å…ˆå˜—è©¦å¾é ç«¯å–å¾—</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">remoteDataSource</span><span class="p">.</span><span class="n">getUser</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// å¤±æ•—æ™‚å¾æœ¬åœ°å–å¾—</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">localDataSource</span><span class="p">.</span><span class="n">getUser</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ğŸ¨ Presentation Layer - ç®¡ç† UI ç‹€æ…‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UserViewModel</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">GetUserUseCase</span><span class="w"> </span><span class="n">getUserUseCase</span><span class="p">;</span>

<span class="w">  </span><span class="n">UserViewModel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">getUserUseCase</span><span class="p">);</span>

<span class="w">  </span><span class="n">User</span><span class="o">?</span><span class="w"> </span><span class="n">_user</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">_isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">  </span><span class="n">User</span><span class="o">?</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_user</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_isLoading</span><span class="p">;</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">loadUser</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>

<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">getUserUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">userId</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// éŒ¯èª¤è™•ç†</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">      </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>ä¾è³´æ³¨å…¥è¨­å®š</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ”Œ ä¾è³´æ³¨å…¥é…ç½®</span>
<span class="kt">void</span><span class="w"> </span><span class="n">setupDependencies</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Core</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">ApiClient</span><span class="o">&gt;</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ApiClientImpl</span><span class="p">());</span>

<span class="w">  </span><span class="c1">// Data Sources</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">UserRemoteDataSource</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserRemoteDataSourceImpl</span><span class="p">(</span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">UserLocalDataSource</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserLocalDataSourceImpl</span><span class="p">(),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Repositories</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">UserRepository</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserRepositoryImpl</span><span class="p">(</span><span class="n">getIt</span><span class="p">(),</span><span class="w"> </span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Use Cases</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">GetUserUseCase</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">GetUserUseCase</span><span class="p">(</span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ViewModels</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerFactory</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserViewModel</span><span class="p">(</span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ¯ ç¸½çµ</h2>
<h3>æ¨¡çµ„åŒ–æˆåŠŸé—œéµ</h3>
<div class="codehilite"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¸…æ™°   â”‚â”€â”€â”€â–¶â”‚  å–®å‘   â”‚â”€â”€â”€â–¶â”‚  å……åˆ†   â”‚
â”‚  åˆ†å±¤   â”‚    â”‚  ä¾è³´   â”‚    â”‚  æ¸¬è©¦   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚              â”‚              â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â–¼
            ğŸš€ é«˜å“è³ª Flutter æ‡‰ç”¨
</code></pre></div>

<h3>å¯¦è¸å»ºè­°</h3>
<h4>ğŸš€ é–‹å§‹æ­¥é©Ÿ</h4>
<ol>
<li><strong>å¾å°é–‹å§‹</strong>ï¼šé¸æ“‡ä¸€å€‹å°åŠŸèƒ½æ¨¡çµ„ç·´ç¿’</li>
<li><strong>é€æ­¥é‡æ§‹</strong>ï¼šå°‡ç¾æœ‰å°ˆæ¡ˆåˆ†æ­¥æ¨¡çµ„åŒ–</li>
<li><strong>å»ºç«‹è¦ç¯„</strong>ï¼šåˆ¶å®šåœ˜éšŠæ¨¡çµ„åŒ–æ¨™æº–</li>
<li><strong>æŒçºŒæ”¹é€²</strong>ï¼šæ ¹æ“šå¯¦è¸ç¶“é©—å„ªåŒ–æ¶æ§‹</li>
</ol>
<h4>ğŸ¯ æˆåŠŸæŒ‡æ¨™</h4>
<ul>
<li><strong>é–‹ç™¼é€Ÿåº¦</strong>ï¼šæ–°åŠŸèƒ½é–‹ç™¼æ™‚é–“ç¸®çŸ­</li>
<li><strong>ç¨‹å¼ç¢¼å“è³ª</strong>ï¼šBug ç‡æ˜é¡¯ä¸‹é™</li>
<li><strong>æ¸¬è©¦è¦†è“‹</strong>ï¼šè‡ªå‹•åŒ–æ¸¬è©¦è¦†è“‹ç‡æå‡</li>
<li><strong>åœ˜éšŠæ•ˆç‡</strong>ï¼šå”ä½œè¡çªæ¸›å°‘</li>
</ul>
<h4>ğŸ’¡ é—œéµæé†’</h4>
<div class="codehilite"><pre><span></span><code>âš ï¸  å¸¸è¦‹é™·é˜±                âœ…  æ­£ç¢ºåšæ³•
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
éåº¦è¨­è¨ˆï¼Œæ¶æ§‹éæ–¼è¤‡é›œ      â†’  å¾ç°¡å–®é–‹å§‹ï¼Œé€æ­¥å®Œå–„
å¿½ç•¥æ¸¬è©¦ï¼Œç¼ºä¹é©—è­‰          â†’  æ¸¬è©¦å…ˆè¡Œï¼Œä¿è­‰å“è³ª
ä¾è³´é—œä¿‚æ··äº‚ï¼Œè€¦åˆéé«˜      â†’  æ¸…æ™°åˆ†å±¤ï¼Œå–®å‘ä¾è³´
åœ˜éšŠç¼ºä¹è¦ç¯„ï¼Œå„è‡ªç‚ºæ”¿      â†’  å»ºç«‹æ¨™æº–ï¼Œçµ±ä¸€å¯¦è¸
</code></pre></div>

<p><strong>è¨˜ä½ï¼šæ¨¡çµ„åŒ–ä¸æ˜¯ç›®çš„ï¼Œè€Œæ˜¯æå‡é–‹ç™¼æ•ˆç‡å’Œç¨‹å¼ç¢¼å“è³ªçš„æ‰‹æ®µã€‚å¾å¯¦éš›éœ€æ±‚å‡ºç™¼ï¼Œå¾ªåºæ¼¸é€²åœ°å»ºç«‹é©åˆåœ˜éšŠçš„æ¨¡çµ„åŒ–æ¶æ§‹ï¼Œæ‰æ˜¯æˆåŠŸçš„é—œéµï¼</strong> ğŸ¯</p>
                    </div>
                </div>
            
                <div class="tab-pane fade " id="6.-project-design" 
                     role="tabpanel" aria-labelledby="6.-project-design-tab">
                    <div class="content-wrapper">
                        <h1>Flutter å°ˆæ¡ˆè¨­è¨ˆèˆ‡æ¶æ§‹ç®¡ç†æŒ‡å—</h1>
<h2>ğŸ—ï¸ å°ˆæ¡ˆæ¶æ§‹æ¦‚è¦½</h2>
<h3>ç‚ºä»€éº¼éœ€è¦å¥½çš„å°ˆæ¡ˆæ¶æ§‹ï¼Ÿ</h3>
<p>ä¸€å€‹å¥½çš„å°ˆæ¡ˆæ¶æ§‹èƒ½å¤ ï¼š</p>
<ul>
<li>ğŸ¯ <strong>æé«˜é–‹ç™¼æ•ˆç‡</strong>ï¼šæ¸…æ™°çš„çµæ§‹è®“åŠŸèƒ½é–‹ç™¼æ›´å¿«é€Ÿ</li>
<li>ğŸ”§ <strong>ä¾¿æ–¼ç¶­è­·</strong>ï¼šæ˜“æ–¼ç†è§£å’Œä¿®æ”¹ç¾æœ‰åŠŸèƒ½</li>
<li>ğŸ‘¥ <strong>åœ˜éšŠå”ä½œ</strong>ï¼šçµ±ä¸€çš„æ¶æ§‹è¦ç¯„è®“å¤šäººå”ä½œæ›´é †æš¢</li>
<li>ğŸš€ <strong>å¯æ“´å±•æ€§</strong>ï¼šéš¨è‘—å°ˆæ¡ˆæˆé•·èƒ½å¤ è¼•é¬†æ·»åŠ æ–°åŠŸèƒ½</li>
<li>ğŸ§ª <strong>å¯æ¸¬è©¦æ€§</strong>ï¼šæ¸…æ™°çš„åˆ†å±¤è®“å–®å…ƒæ¸¬è©¦æ›´å®¹æ˜“ç·¨å¯«</li>
</ul>
<h3>æ¶æ§‹è¨­è¨ˆåŸå‰‡</h3>
<ol>
<li><strong>å–®ä¸€è·è²¬åŸå‰‡</strong>ï¼šæ¯å€‹é¡åˆ¥æˆ–æ¨¡çµ„åªè² è²¬ä¸€å€‹åŠŸèƒ½</li>
<li><strong>é–‹æ”¾å°é–‰åŸå‰‡</strong>ï¼šå°æ“´å±•é–‹æ”¾ï¼Œå°ä¿®æ”¹å°é–‰</li>
<li><strong>ä¾è³´å€’ç½®åŸå‰‡</strong>ï¼šé«˜å±¤æ¨¡çµ„ä¸ä¾è³´ä½å±¤æ¨¡çµ„</li>
<li><strong>é—œæ³¨é»åˆ†é›¢</strong>ï¼šUIã€æ¥­å‹™é‚è¼¯ã€è³‡æ–™å±¤åˆ†é›¢</li>
<li><strong>å¯æ¸¬è©¦æ€§</strong>ï¼šæ¶æ§‹è¨­è¨ˆè¦ä¾¿æ–¼å–®å…ƒæ¸¬è©¦</li>
</ol>
<hr />
<h2>ğŸ“ å°ˆæ¡ˆç›®éŒ„çµæ§‹è¨­è¨ˆ</h2>
<h3>å®Œæ•´çš„å°ˆæ¡ˆç›®éŒ„æ¶æ§‹</h3>
<div class="codehilite"><pre><span></span><code><span class="n">my_flutter_app</span><span class="o">/</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">android</span><span class="o">/</span><span class="w">                    </span><span class="c1"># Android å¹³å°ç‰¹å®šæª”æ¡ˆ</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">ios</span><span class="o">/</span><span class="w">                        </span><span class="c1"># iOS å¹³å°ç‰¹å®šæª”æ¡ˆ</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">web</span><span class="o">/</span><span class="w">                        </span><span class="c1"># Web å¹³å°ç‰¹å®šæª”æ¡ˆ</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">assets</span><span class="o">/</span><span class="w">                     </span><span class="c1"># è³‡æºæª”æ¡ˆ</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">images</span><span class="o">/</span><span class="w">                 </span><span class="c1"># åœ–ç‰‡è³‡æº</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">icons</span><span class="o">/</span><span class="w">             </span><span class="c1"># åœ–æ¨™</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">backgrounds</span><span class="o">/</span><span class="w">       </span><span class="c1"># èƒŒæ™¯åœ–</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">logos</span><span class="o">/</span><span class="w">             </span><span class="c1"># æ¨™èªŒåœ–ç‰‡</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">fonts</span><span class="o">/</span><span class="w">                 </span><span class="c1"># å­—å‹æª”æ¡ˆ</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">data</span><span class="o">/</span><span class="w">                  </span><span class="c1"># éœæ…‹è³‡æ–™æª”æ¡ˆ</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">json</span><span class="o">/</span><span class="w">              </span><span class="c1"># JSON è³‡æ–™</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">translations</span><span class="o">/</span><span class="w">      </span><span class="c1"># å¤šèªè¨€æª”æ¡ˆ</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">animations</span><span class="o">/</span><span class="w">            </span><span class="c1"># å‹•ç•«æª”æ¡ˆ</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">lottie</span><span class="o">/</span><span class="w">           </span><span class="c1"># Lottie å‹•ç•«</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">rive</span><span class="o">/</span><span class="w">             </span><span class="c1"># Rive å‹•ç•«</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">lib</span><span class="o">/</span><span class="w">                       </span><span class="c1"># ä¸»è¦ç¨‹å¼ç¢¼ç›®éŒ„ ğŸ”¥</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">main</span><span class="o">.</span><span class="n">dart</span><span class="w">             </span><span class="c1"># æ‡‰ç”¨ç¨‹å¼å…¥å£</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app</span><span class="o">.</span><span class="n">dart</span><span class="w">              </span><span class="c1"># ä¸»æ‡‰ç”¨ç¨‹å¼ Widget</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">core</span><span class="o">/</span><span class="w">                 </span><span class="c1"># æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">constants</span><span class="o">/</span><span class="w">        </span><span class="c1"># å¸¸æ•¸å®šç¾©</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_constants</span><span class="o">.</span><span class="n">dart</span><span class="w">      </span><span class="c1"># æ‡‰ç”¨ç¨‹å¼å¸¸æ•¸</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">api_constants</span><span class="o">.</span><span class="n">dart</span><span class="w">      </span><span class="c1"># API ç›¸é—œå¸¸æ•¸</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">storage_constants</span><span class="o">.</span><span class="n">dart</span><span class="w">  </span><span class="c1"># å„²å­˜ç›¸é—œå¸¸æ•¸</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">route_constants</span><span class="o">.</span><span class="n">dart</span><span class="w">    </span><span class="c1"># è·¯ç”±å¸¸æ•¸</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">config</span><span class="o">/</span><span class="w">           </span><span class="c1"># é…ç½®ç®¡ç†</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_config</span><span class="o">.</span><span class="n">dart</span><span class="w">         </span><span class="c1"># æ‡‰ç”¨ç¨‹å¼é…ç½®</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">environment_config</span><span class="o">.</span><span class="n">dart</span><span class="w"> </span><span class="c1"># ç’°å¢ƒé…ç½®</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">theme_config</span><span class="o">.</span><span class="n">dart</span><span class="w">       </span><span class="c1"># ä¸»é¡Œé…ç½®</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">errors</span><span class="o">/</span><span class="w">           </span><span class="c1"># éŒ¯èª¤è™•ç†</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_error</span><span class="o">.</span><span class="n">dart</span><span class="w">          </span><span class="c1"># æ‡‰ç”¨ç¨‹å¼éŒ¯èª¤å®šç¾©</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">error_handler</span><span class="o">.</span><span class="n">dart</span><span class="w">      </span><span class="c1"># éŒ¯èª¤è™•ç†å™¨</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">exceptions</span><span class="o">.</span><span class="n">dart</span><span class="w">         </span><span class="c1"># è‡ªè¨‚ä¾‹å¤–</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">network</span><span class="o">/</span><span class="w">          </span><span class="c1"># ç¶²è·¯å±¤</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">api_client</span><span class="o">.</span><span class="n">dart</span><span class="w">         </span><span class="c1"># API å®¢æˆ¶ç«¯</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">interceptors</span><span class="o">.</span><span class="n">dart</span><span class="w">       </span><span class="c1"># è«‹æ±‚æ””æˆªå™¨</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">network_info</span><span class="o">.</span><span class="n">dart</span><span class="w">       </span><span class="c1"># ç¶²è·¯ç‹€æ…‹æª¢æŸ¥</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">response_wrapper</span><span class="o">.</span><span class="n">dart</span><span class="w">   </span><span class="c1"># éŸ¿æ‡‰åŒ…è£å™¨</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">storage</span><span class="o">/</span><span class="w">          </span><span class="c1"># æœ¬åœ°å„²å­˜</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">local_storage</span><span class="o">.</span><span class="n">dart</span><span class="w">      </span><span class="c1"># æœ¬åœ°å„²å­˜ä»‹é¢</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">shared_prefs_storage</span><span class="o">.</span><span class="n">dart</span><span class="w"> </span><span class="c1"># SharedPreferences å¯¦ä½œ</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">secure_storage</span><span class="o">.</span><span class="n">dart</span><span class="w">     </span><span class="c1"># å®‰å…¨å„²å­˜</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">database</span><span class="o">/</span><span class="w">               </span><span class="c1"># è³‡æ–™åº«ç›¸é—œ</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_database</span><span class="o">.</span><span class="n">dart</span><span class="w">   </span><span class="c1"># è³‡æ–™åº«å®šç¾©</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">dao</span><span class="o">/</span><span class="w">                </span><span class="c1"># è³‡æ–™å­˜å–ç‰©ä»¶</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">entities</span><span class="o">/</span><span class="w">           </span><span class="c1"># è³‡æ–™åº«å¯¦é«”</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">utils</span><span class="o">/</span><span class="w">            </span><span class="c1"># å·¥å…·é¡åˆ¥</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">date_utils</span><span class="o">.</span><span class="n">dart</span><span class="w">         </span><span class="c1"># æ—¥æœŸå·¥å…·</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">validation_utils</span><span class="o">.</span><span class="n">dart</span><span class="w">   </span><span class="c1"># é©—è­‰å·¥å…·</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">format_utils</span><span class="o">.</span><span class="n">dart</span><span class="w">       </span><span class="c1"># æ ¼å¼åŒ–å·¥å…·</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">permission_utils</span><span class="o">.</span><span class="n">dart</span><span class="w">   </span><span class="c1"># æ¬Šé™å·¥å…·</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">image_utils</span><span class="o">.</span><span class="n">dart</span><span class="w">        </span><span class="c1"># åœ–ç‰‡è™•ç†å·¥å…·</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">extensions</span><span class="o">/</span><span class="w">       </span><span class="c1"># æ“´å±•æ–¹æ³•</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">string_extensions</span><span class="o">.</span><span class="n">dart</span><span class="w">  </span><span class="c1"># å­—ä¸²æ“´å±•</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">date_extensions</span><span class="o">.</span><span class="n">dart</span><span class="w">    </span><span class="c1"># æ—¥æœŸæ“´å±•</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">context_extensions</span><span class="o">.</span><span class="n">dart</span><span class="w"> </span><span class="c1"># BuildContext æ“´å±•</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">widget_extensions</span><span class="o">.</span><span class="n">dart</span><span class="w">  </span><span class="c1"># Widget æ“´å±•</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">injection</span><span class="o">/</span><span class="w">        </span><span class="c1"># ä¾è³´æ³¨å…¥</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">injection</span><span class="o">.</span><span class="n">dart</span><span class="w">          </span><span class="c1"># ä¾è³´æ³¨å…¥é…ç½®</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">injection</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">dart</span><span class="w">   </span><span class="c1"># ç”Ÿæˆçš„é…ç½®æª”æ¡ˆ</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">data</span><span class="o">/</span><span class="w">                 </span><span class="c1"># è³‡æ–™å±¤ (Repository Pattern)</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">repositories</span><span class="o">/</span><span class="w">     </span><span class="c1"># å„²å­˜åº«å¯¦ä½œ</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">auth_repository_impl</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user_repository_impl</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">product_repository_impl</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">datasources</span><span class="o">/</span><span class="w">      </span><span class="c1"># è³‡æ–™æº</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="k">remote</span><span class="o">/</span><span class="w">       </span><span class="c1"># é ç«¯è³‡æ–™æº</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">auth_remote_datasource</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user_remote_datasource</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">product_remote_datasource</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">local</span><span class="o">/</span><span class="w">        </span><span class="c1"># æœ¬åœ°è³‡æ–™æº</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">auth_local_datasource</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user_local_datasource</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">product_local_datasource</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">models</span><span class="o">/</span><span class="w">           </span><span class="c1"># è³‡æ–™æ¨¡å‹ (DTO)</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">request</span><span class="o">/</span><span class="w">      </span><span class="c1"># è«‹æ±‚æ¨¡å‹</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">login_request</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">register_request</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">response</span><span class="o">/</span><span class="w">     </span><span class="c1"># éŸ¿æ‡‰æ¨¡å‹</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">login_response</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user_response</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">product_response</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">local</span><span class="o">/</span><span class="w">        </span><span class="c1"># æœ¬åœ°æ¨¡å‹</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">           </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user_local_model</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">           </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">product_local_model</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">domain</span><span class="o">/</span><span class="w">               </span><span class="c1"># æ¥­å‹™é‚è¼¯å±¤</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">entities</span><span class="o">/</span><span class="w">         </span><span class="c1"># æ¥­å‹™å¯¦é«”</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">product</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">order</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">auth_token</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">repositories</span><span class="o">/</span><span class="w">     </span><span class="c1"># å„²å­˜åº«æŠ½è±¡ä»‹é¢</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">auth_repository</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user_repository</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">product_repository</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">usecases</span><span class="o">/</span><span class="w">         </span><span class="c1"># ç”¨ä¾‹ (æ¥­å‹™é‚è¼¯)</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">auth</span><span class="o">/</span><span class="w">         </span><span class="c1"># èªè­‰ç›¸é—œç”¨ä¾‹</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">login_usecase</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">logout_usecase</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">register_usecase</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">refresh_token_usecase</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user</span><span class="o">/</span><span class="w">         </span><span class="c1"># ä½¿ç”¨è€…ç›¸é—œç”¨ä¾‹</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">get_user_profile_usecase</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">update_user_profile_usecase</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">delete_user_account_usecase</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">product</span><span class="o">/</span><span class="w">      </span><span class="c1"># ç”¢å“ç›¸é—œç”¨ä¾‹</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">           </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">get_products_usecase</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">           </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">search_products_usecase</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">           </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">get_product_detail_usecase</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">presentation</span><span class="o">/</span><span class="w">         </span><span class="c1"># è¡¨ç¾å±¤ (UI)</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">pages</span><span class="o">/</span><span class="w">            </span><span class="c1"># é é¢</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">auth</span><span class="o">/</span><span class="w">         </span><span class="c1"># èªè­‰é é¢</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">login_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">register_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">forgot_password_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">home</span><span class="o">/</span><span class="w">         </span><span class="c1"># é¦–é ç›¸é—œ</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">home_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">dashboard_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">profile</span><span class="o">/</span><span class="w">      </span><span class="c1"># å€‹äººè³‡æ–™é é¢</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">profile_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">edit_profile_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">settings_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">product</span><span class="o">/</span><span class="w">      </span><span class="c1"># ç”¢å“é é¢</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">product_list_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">product_detail_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">product_search_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">common</span><span class="o">/</span><span class="w">       </span><span class="c1"># é€šç”¨é é¢</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">splash_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">onboarding_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">error_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">no_internet_page</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">widgets</span><span class="o">/</span><span class="w">          </span><span class="c1"># å¯é‡ç”¨ Widget</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">common</span><span class="o">/</span><span class="w">       </span><span class="c1"># é€šç”¨ Widget</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_button</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_text_field</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_card</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_loading</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_error</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_empty_state</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">app_image</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">forms</span><span class="o">/</span><span class="w">        </span><span class="c1"># è¡¨å–®ç›¸é—œ Widget</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">login_form</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">register_form</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">profile_form</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">lists</span><span class="o">/</span><span class="w">        </span><span class="c1"># åˆ—è¡¨ç›¸é—œ Widget</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">product_list_item</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user_list_item</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">infinite_scroll_list</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">dialogs</span><span class="o">/</span><span class="w">      </span><span class="c1"># å°è©±æ¡† Widget</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">confirmation_dialog</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">loading_dialog</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">info_dialog</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">providers</span><span class="o">/</span><span class="w">        </span><span class="c1"># ç‹€æ…‹ç®¡ç† (ä½¿ç”¨ Provider)</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">auth_provider</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">user_provider</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">product_provider</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">theme_provider</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">blocs</span><span class="o">/</span><span class="w">            </span><span class="c1"># ç‹€æ…‹ç®¡ç† (ä½¿ç”¨ Blocï¼Œå¯é¸)</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">auth</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">auth_bloc</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">auth_event</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">auth_state</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">product</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">product_bloc</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">product_event</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">product_state</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">routes</span><span class="o">/</span><span class="w">           </span><span class="c1"># è·¯ç”±ç®¡ç†</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_router</span><span class="o">.</span><span class="n">dart</span><span class="w">          </span><span class="c1"># ä¸»è·¯ç”±é…ç½®</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">route_names</span><span class="o">.</span><span class="n">dart</span><span class="w">         </span><span class="c1"># è·¯ç”±åç¨±å¸¸æ•¸</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">route_guards</span><span class="o">.</span><span class="n">dart</span><span class="w">        </span><span class="c1"># è·¯ç”±å®ˆè¡›</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">l10n</span><span class="o">/</span><span class="w">                 </span><span class="c1"># åœ‹éš›åŒ–</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_localizations</span><span class="o">.</span><span class="n">dart</span><span class="w">      </span><span class="c1"># æœ¬åœ°åŒ–ä¸»æª”æ¡ˆ</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_localizations_en</span><span class="o">.</span><span class="n">dart</span><span class="w">   </span><span class="c1"># è‹±æ–‡</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">app_localizations_zh</span><span class="o">.</span><span class="n">dart</span><span class="w">   </span><span class="c1"># ä¸­æ–‡</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">l10n</span><span class="o">.</span><span class="n">yaml</span><span class="w">                   </span><span class="c1"># é…ç½®æª”æ¡ˆ</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">test</span><span class="o">/</span><span class="w">                     </span><span class="c1"># æ¸¬è©¦æª”æ¡ˆ</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">unit</span><span class="o">/</span><span class="w">                 </span><span class="c1"># å–®å…ƒæ¸¬è©¦</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">domain</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">usecases</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">data</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">repositories</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">presentation</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">providers</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">widget</span><span class="o">/</span><span class="w">               </span><span class="c1"># Widget æ¸¬è©¦</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">pages</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">widgets</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">integration</span><span class="o">/</span><span class="w">          </span><span class="c1"># æ•´åˆæ¸¬è©¦</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">helpers</span><span class="o">/</span><span class="w">              </span><span class="c1"># æ¸¬è©¦è¼”åŠ©å·¥å…·</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">test_helper</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">mock_data</span><span class="o">.</span><span class="n">dart</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="k">tool</span><span class="o">/</span><span class="w">                     </span><span class="c1"># é–‹ç™¼å·¥å…·</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">build_runner</span><span class="o">.</span><span class="n">dart</span><span class="w">     </span><span class="c1"># ç¨‹å¼ç¢¼ç”Ÿæˆå·¥å…·</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">env_generator</span><span class="o">.</span><span class="n">dart</span><span class="w">    </span><span class="c1"># ç’°å¢ƒæª”æ¡ˆç”Ÿæˆå™¨</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">icon_generator</span><span class="o">.</span><span class="n">dart</span><span class="w">   </span><span class="c1"># åœ–æ¨™ç”Ÿæˆå™¨</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">docs</span><span class="o">/</span><span class="w">                     </span><span class="c1"># å°ˆæ¡ˆæ–‡æª”</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">README</span><span class="o">.</span><span class="n">md</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">CHANGELOG</span><span class="o">.</span><span class="n">md</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">API</span><span class="o">.</span><span class="n">md</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">DEPLOYMENT</span><span class="o">.</span><span class="n">md</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">scripts</span><span class="o">/</span><span class="w">                  </span><span class="c1"># å»ºç½®è…³æœ¬</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">build_android</span><span class="o">.</span><span class="n">sh</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">build_ios</span><span class="o">.</span><span class="n">sh</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">deploy</span><span class="o">.</span><span class="n">sh</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="o">.</span><span class="n">github</span><span class="o">/</span><span class="w">                  </span><span class="c1"># GitHub å·¥ä½œæµç¨‹</span>
<span class="err">â”‚</span><span class="w">   </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">workflows</span><span class="o">/</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">ci</span><span class="o">.</span><span class="n">yml</span>
<span class="err">â”‚</span><span class="w">       </span><span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">cd</span><span class="o">.</span><span class="n">yml</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">pubspec</span><span class="o">.</span><span class="n">yaml</span><span class="w">             </span><span class="c1"># å¥—ä»¶ä¾è³´é…ç½®</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">pubspec</span><span class="o">.</span><span class="n">lock</span><span class="w">             </span><span class="c1"># é–å®šçš„å¥—ä»¶ç‰ˆæœ¬</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="n">analysis_options</span><span class="o">.</span><span class="n">yaml</span><span class="w">    </span><span class="c1"># ç¨‹å¼ç¢¼åˆ†æé…ç½®</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="o">.</span><span class="n">gitignore</span><span class="w">              </span><span class="c1"># Git å¿½ç•¥æª”æ¡ˆ</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">example</span><span class="w">            </span><span class="c1"># ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹</span>
<span class="err">â”œâ”€â”€</span><span class="w"> </span><span class="o">.</span><span class="n">metadata</span><span class="w">               </span><span class="c1"># Flutter å°ˆæ¡ˆå…ƒè³‡æ–™</span>
<span class="err">â””â”€â”€</span><span class="w"> </span><span class="n">README</span><span class="o">.</span><span class="n">md</span><span class="w">               </span><span class="c1"># å°ˆæ¡ˆèªªæ˜</span>
</code></pre></div>

<hr />
<h2>ğŸ›ï¸ MVVM æ¶æ§‹æ¨¡å¼å¯¦ä½œ</h2>
<h3>MVVM æ¶æ§‹å±¤æ¬¡</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ“Š Model Layer (è³‡æ–™å±¤)</span>
<span class="c1">// ä½ç½®: lib/data/ å’Œ lib/domain/</span>

<span class="c1">// 1. Entity (æ¥­å‹™å¯¦é«”) - domain/entities/</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">User</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">email</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">DateTime</span><span class="o">?</span><span class="w"> </span><span class="n">lastLoginAt</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">UserStatus</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">User</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">id</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">email</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">lastLoginAt</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">status</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// æ¥­å‹™é‚è¼¯æ–¹æ³•</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">isActive</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="n">active</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">isNewUser</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">lastLoginAt</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>

<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">displayName</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="n">isNotEmpty</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">email</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;@&#39;</span><span class="p">).</span><span class="n">first</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// è¤‡è£½æ–¹æ³• (ç”¨æ–¼ä¸å¯è®Šç‰©ä»¶)</span>
<span class="w">  </span><span class="n">User</span><span class="w"> </span><span class="n">copyWith</span><span class="p">({</span>
<span class="w">    </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">id</span><span class="p">,</span>
<span class="w">    </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">name</span><span class="p">,</span>
<span class="w">    </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">email</span><span class="p">,</span>
<span class="w">    </span><span class="n">DateTime</span><span class="o">?</span><span class="w"> </span><span class="n">lastLoginAt</span><span class="p">,</span>
<span class="w">    </span><span class="n">UserStatus</span><span class="o">?</span><span class="w"> </span><span class="n">status</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">User</span><span class="p">(</span>
<span class="w">      </span><span class="nl">id:</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">id</span><span class="p">,</span>
<span class="w">      </span><span class="nl">name:</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
<span class="w">      </span><span class="nl">email:</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">email</span><span class="p">,</span>
<span class="w">      </span><span class="nl">lastLoginAt:</span><span class="w"> </span><span class="n">lastLoginAt</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">lastLoginAt</span><span class="p">,</span>
<span class="w">      </span><span class="nl">status:</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">status</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">operator</span><span class="w"> </span><span class="o">==</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">      </span><span class="n">identical</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="o">||</span>
<span class="w">      </span><span class="n">other</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">runtimeType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="n">runtimeType</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">hashCode</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">id</span><span class="p">.</span><span class="n">hashCode</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">enum</span><span class="w"> </span><span class="n">UserStatus</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">active</span><span class="p">,</span><span class="w"> </span><span class="n">inactive</span><span class="p">,</span><span class="w"> </span><span class="n">banned</span><span class="p">,</span><span class="w"> </span><span class="n">pending</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// 2. Data Model (è³‡æ–™å‚³è¼¸ç‰©ä»¶) - data/models/</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UserResponse</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">email</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">lastLoginAt</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>

<span class="w">  </span><span class="n">UserResponse</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">id</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">email</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">lastLoginAt</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">status</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="c1">// JSON åºåˆ—åŒ–</span>
<span class="w">  </span><span class="kd">factory</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">.</span><span class="n">fromJson</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">json</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">(</span>
<span class="w">      </span><span class="nl">id:</span><span class="w"> </span><span class="n">json</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<span class="w">      </span><span class="nl">name:</span><span class="w"> </span><span class="n">json</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<span class="w">      </span><span class="nl">email:</span><span class="w"> </span><span class="n">json</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<span class="w">      </span><span class="nl">lastLoginAt:</span><span class="w"> </span><span class="n">json</span><span class="p">[</span><span class="s1">&#39;last_login_at&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">String</span><span class="o">?</span><span class="p">,</span>
<span class="w">      </span><span class="nl">status:</span><span class="w"> </span><span class="n">json</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">toJson</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s1">&#39;id&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">id</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;name&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;email&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">email</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;last_login_at&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">lastLoginAt</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;status&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">status</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// è½‰æ›ç‚ºæ¥­å‹™å¯¦é«”</span>
<span class="w">  </span><span class="n">User</span><span class="w"> </span><span class="n">toEntity</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">User</span><span class="p">(</span>
<span class="w">      </span><span class="nl">id:</span><span class="w"> </span><span class="n">id</span><span class="p">,</span>
<span class="w">      </span><span class="nl">name:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span>
<span class="w">      </span><span class="nl">email:</span><span class="w"> </span><span class="n">email</span><span class="p">,</span>
<span class="w">      </span><span class="nl">lastLoginAt:</span><span class="w"> </span><span class="n">lastLoginAt</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span>
<span class="w">          </span><span class="o">?</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">tryParse</span><span class="p">(</span><span class="n">lastLoginAt</span><span class="o">!</span><span class="p">)</span><span class="w"> </span>
<span class="w">          </span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">      </span><span class="nl">status:</span><span class="w"> </span><span class="n">_parseStatus</span><span class="p">(</span><span class="n">status</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">UserStatus</span><span class="w"> </span><span class="n">_parseStatus</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="p">.</span><span class="n">toLowerCase</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;active&#39;</span><span class="o">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="n">active</span><span class="p">;</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;inactive&#39;</span><span class="o">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="n">inactive</span><span class="p">;</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;banned&#39;</span><span class="o">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="n">banned</span><span class="p">;</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;pending&#39;</span><span class="o">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="n">pending</span><span class="p">;</span>
<span class="w">      </span><span class="k">default</span><span class="o">:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="n">inactive</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 3. Repository Interface (æŠ½è±¡å„²å­˜åº«) - domain/repositories/</span>
<span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">UserRepository</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">User</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">getUserById</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">getUsers</span><span class="p">({</span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">});</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createUser</span><span class="p">(</span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">);</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">updateUser</span><span class="p">(</span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">);</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">deleteUser</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">searchUsers</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">query</span><span class="p">);</span>
<span class="w">  </span><span class="n">Stream</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getUserStream</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// 4. Repository Implementation (å„²å­˜åº«å¯¦ä½œ) - data/repositories/</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UserRepositoryImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">UserRepository</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">UserRemoteDataSource</span><span class="w"> </span><span class="n">_remoteDataSource</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">UserLocalDataSource</span><span class="w"> </span><span class="n">_localDataSource</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">NetworkInfo</span><span class="w"> </span><span class="n">_networkInfo</span><span class="p">;</span>

<span class="w">  </span><span class="n">UserRepositoryImpl</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="n">UserRemoteDataSource</span><span class="w"> </span><span class="n">remoteDataSource</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="n">UserLocalDataSource</span><span class="w"> </span><span class="n">localDataSource</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="n">NetworkInfo</span><span class="w"> </span><span class="n">networkInfo</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_remoteDataSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">remoteDataSource</span><span class="p">,</span>
<span class="w">       </span><span class="n">_localDataSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localDataSource</span><span class="p">,</span>
<span class="w">       </span><span class="n">_networkInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">networkInfo</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">User</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">getUserById</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// å…ˆå¾æœ¬åœ°å¿«å–å–å¾—</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">localUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_localDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="kd">await</span><span class="w"> </span><span class="n">_networkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// æœ‰ç¶²è·¯æ™‚å¾é ç«¯æ›´æ–°</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">remoteUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_remoteDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">remoteUser</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="c1">// æ›´æ–°æœ¬åœ°å¿«å–</span>
<span class="w">          </span><span class="kd">await</span><span class="w"> </span><span class="n">_localDataSource</span><span class="p">.</span><span class="n">cacheUser</span><span class="p">(</span><span class="n">remoteUser</span><span class="p">);</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">remoteUser</span><span class="p">.</span><span class="n">toEntity</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">localUser</span><span class="o">?</span><span class="p">.</span><span class="n">toEntity</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">UserException</span><span class="p">(</span><span class="s1">&#39;ç„¡æ³•å–å¾—ä½¿ç”¨è€…è³‡æ–™: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">getUsers</span><span class="p">({</span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">})</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="kd">await</span><span class="w"> </span><span class="n">_networkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">remoteUsers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_remoteDataSource</span><span class="p">.</span><span class="n">getUsers</span><span class="p">(</span>
<span class="w">          </span><span class="nl">page:</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">          </span><span class="nl">limit:</span><span class="w"> </span><span class="n">limit</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="c1">// å¿«å–è³‡æ–™</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">_localDataSource</span><span class="p">.</span><span class="n">cacheUsers</span><span class="p">(</span><span class="n">remoteUsers</span><span class="p">);</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">remoteUsers</span><span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">toEntity</span><span class="p">()).</span><span class="n">toList</span><span class="p">();</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// é›¢ç·šæ™‚å¾æœ¬åœ°å–å¾—</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">localUsers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_localDataSource</span><span class="p">.</span><span class="n">getCachedUsers</span><span class="p">(</span>
<span class="w">          </span><span class="nl">page:</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">          </span><span class="nl">limit:</span><span class="w"> </span><span class="n">limit</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">localUsers</span><span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">toEntity</span><span class="p">()).</span><span class="n">toList</span><span class="p">();</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">UserException</span><span class="p">(</span><span class="s1">&#39;ç„¡æ³•å–å¾—ä½¿ç”¨è€…åˆ—è¡¨: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createUser</span><span class="p">(</span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="kd">await</span><span class="w"> </span><span class="n">_networkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">NetworkException</span><span class="p">(</span><span class="s1">&#39;å»ºç«‹ä½¿ç”¨è€…éœ€è¦ç¶²è·¯é€£ç·š&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">userResponse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">(</span>
<span class="w">        </span><span class="nl">id:</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">id</span><span class="p">,</span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
<span class="w">        </span><span class="nl">email:</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">email</span><span class="p">,</span>
<span class="w">        </span><span class="nl">lastLoginAt:</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">lastLoginAt</span><span class="o">?</span><span class="p">.</span><span class="n">toIso8601String</span><span class="p">(),</span>
<span class="w">        </span><span class="nl">status:</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">status</span><span class="p">.</span><span class="n">toString</span><span class="p">().</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">).</span><span class="n">last</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">createdUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_remoteDataSource</span><span class="p">.</span><span class="n">createUser</span><span class="p">(</span><span class="n">userResponse</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// å¿«å–æ–°å»ºç«‹çš„ä½¿ç”¨è€…</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_localDataSource</span><span class="p">.</span><span class="n">cacheUser</span><span class="p">(</span><span class="n">createdUser</span><span class="p">);</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">createdUser</span><span class="p">.</span><span class="n">toEntity</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">UserException</span><span class="p">(</span><span class="s1">&#39;å»ºç«‹ä½¿ç”¨è€…å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// å…¶ä»–æ–¹æ³•å¯¦ä½œ...</span>
<span class="p">}</span>
</code></pre></div>

<h3>ViewModel Layer (è¡¨ç¾é‚è¼¯å±¤)</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ“± ViewModel (ä½¿ç”¨ ChangeNotifier)</span>
<span class="c1">// ä½ç½®: lib/presentation/providers/</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">UserViewModel</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">GetUserProfileUseCase</span><span class="w"> </span><span class="n">_getUserProfileUseCase</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">UpdateUserProfileUseCase</span><span class="w"> </span><span class="n">_updateUserProfileUseCase</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">DeleteUserAccountUseCase</span><span class="w"> </span><span class="n">_deleteUserAccountUseCase</span><span class="p">;</span>

<span class="w">  </span><span class="n">UserViewModel</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="n">GetUserProfileUseCase</span><span class="w"> </span><span class="n">getUserProfileUseCase</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="n">UpdateUserProfileUseCase</span><span class="w"> </span><span class="n">updateUserProfileUseCase</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="n">DeleteUserAccountUseCase</span><span class="w"> </span><span class="n">deleteUserAccountUseCase</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_getUserProfileUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getUserProfileUseCase</span><span class="p">,</span>
<span class="w">       </span><span class="n">_updateUserProfileUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">updateUserProfileUseCase</span><span class="p">,</span>
<span class="w">       </span><span class="n">_deleteUserAccountUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">deleteUserAccountUseCase</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// ç‹€æ…‹è®Šæ•¸</span>
<span class="w">  </span><span class="n">User</span><span class="o">?</span><span class="w"> </span><span class="n">_user</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">_isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">_errorMessage</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">_isUpdating</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Getters (æš´éœ²çµ¦ View)</span>
<span class="w">  </span><span class="n">User</span><span class="o">?</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_user</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_isLoading</span><span class="p">;</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_errorMessage</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">isUpdating</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_isUpdating</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">hasUser</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_user</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// æ¥­å‹™é‚è¼¯æ–¹æ³•</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">loadUserProfile</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_setLoading</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="n">_clearError</span><span class="p">();</span>

<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_getUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">userId</span><span class="p">);</span>
<span class="w">      </span><span class="n">result</span><span class="p">.</span><span class="n">fold</span><span class="p">(</span>
<span class="w">        </span><span class="p">(</span><span class="n">failure</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_setError</span><span class="p">(</span><span class="n">failure</span><span class="p">.</span><span class="n">message</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_setUser</span><span class="p">(</span><span class="n">user</span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_setError</span><span class="p">(</span><span class="s1">&#39;è¼‰å…¥ä½¿ç”¨è€…è³‡æ–™å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_setLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">updateProfile</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">email</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_user</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>

<span class="w">    </span><span class="n">_setUpdating</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="n">_clearError</span><span class="p">();</span>

<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">updatedUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_user</span><span class="o">!</span><span class="p">.</span><span class="n">copyWith</span><span class="p">(</span><span class="nl">name:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="nl">email:</span><span class="w"> </span><span class="n">email</span><span class="p">);</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_updateUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">updatedUser</span><span class="p">);</span>

<span class="w">      </span><span class="n">result</span><span class="p">.</span><span class="n">fold</span><span class="p">(</span>
<span class="w">        </span><span class="p">(</span><span class="n">failure</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_setError</span><span class="p">(</span><span class="n">failure</span><span class="p">.</span><span class="n">message</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">_setUser</span><span class="p">(</span><span class="n">user</span><span class="p">);</span>
<span class="w">          </span><span class="n">_showSuccessMessage</span><span class="p">(</span><span class="s1">&#39;å€‹äººè³‡æ–™æ›´æ–°æˆåŠŸ&#39;</span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_setError</span><span class="p">(</span><span class="s1">&#39;æ›´æ–°å€‹äººè³‡æ–™å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_setUpdating</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="w"> </span><span class="n">deleteAccount</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_user</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">    </span><span class="n">_setLoading</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="n">_clearError</span><span class="p">();</span>

<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_deleteUserAccountUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">_user</span><span class="o">!</span><span class="p">.</span><span class="n">id</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="n">fold</span><span class="p">(</span>
<span class="w">        </span><span class="p">(</span><span class="n">failure</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">_setError</span><span class="p">(</span><span class="n">failure</span><span class="p">.</span><span class="n">message</span><span class="p">);</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">_clearUser</span><span class="p">();</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_setError</span><span class="p">(</span><span class="s1">&#39;åˆªé™¤å¸³è™Ÿå¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_setLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// é‡æ–°è¼‰å…¥è³‡æ–™</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">refresh</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_user</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">loadUserProfile</span><span class="p">(</span><span class="n">_user</span><span class="o">!</span><span class="p">.</span><span class="n">id</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ¸…é™¤éŒ¯èª¤è¨Šæ¯</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">clearError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_clearError</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// ç§æœ‰æ–¹æ³• (ç‹€æ…‹ç®¡ç†)</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_setUser</span><span class="p">(</span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p">;</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_clearUser</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_setLoading</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">loading</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">loading</span><span class="p">;</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_setUpdating</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">updating</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_isUpdating</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">updating</span><span class="p">;</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_setError</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="p">;</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_clearError</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_showSuccessMessage</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// å¯ä»¥é€šéäº‹ä»¶ç³»çµ±æˆ–å…¶ä»–æ–¹å¼é€šçŸ¥ UI é¡¯ç¤ºæˆåŠŸè¨Šæ¯</span>
<span class="w">    </span><span class="c1">// é€™è£¡å¯ä»¥ä½¿ç”¨ EventBus æˆ–å…¶ä»–é€šçŸ¥æ©Ÿåˆ¶</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">dispose</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// æ¸…ç†è³‡æº</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ä½¿ç”¨ Riverpod çš„ ViewModel å¯¦ä½œ (å¯é¸)</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UserNotifier</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StateNotifier</span><span class="o">&lt;</span><span class="n">UserState</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">GetUserProfileUseCase</span><span class="w"> </span><span class="n">_getUserProfileUseCase</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">UpdateUserProfileUseCase</span><span class="w"> </span><span class="n">_updateUserProfileUseCase</span><span class="p">;</span>

<span class="w">  </span><span class="n">UserNotifier</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="n">GetUserProfileUseCase</span><span class="w"> </span><span class="n">getUserProfileUseCase</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="n">UpdateUserProfileUseCase</span><span class="w"> </span><span class="n">updateUserProfileUseCase</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_getUserProfileUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getUserProfileUseCase</span><span class="p">,</span>
<span class="w">       </span><span class="n">_updateUserProfileUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">updateUserProfileUseCase</span><span class="p">,</span>
<span class="w">       </span><span class="k">super</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">UserState</span><span class="p">.</span><span class="n">initial</span><span class="p">());</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">loadUser</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">UserState</span><span class="p">.</span><span class="n">loading</span><span class="p">();</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_getUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">userId</span><span class="p">);</span>
<span class="w">    </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="n">fold</span><span class="p">(</span>
<span class="w">      </span><span class="p">(</span><span class="n">failure</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserState</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="n">failure</span><span class="p">.</span><span class="n">message</span><span class="p">),</span>
<span class="w">      </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserState</span><span class="p">.</span><span class="n">loaded</span><span class="p">(</span><span class="n">user</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">updateUser</span><span class="p">(</span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">copyWith</span><span class="p">(</span><span class="nl">isUpdating:</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_updateUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">user</span><span class="p">);</span>
<span class="w">    </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="n">fold</span><span class="p">(</span>
<span class="w">      </span><span class="p">(</span><span class="n">failure</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">copyWith</span><span class="p">(</span>
<span class="w">        </span><span class="nl">isUpdating:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nl">errorMessage:</span><span class="w"> </span><span class="n">failure</span><span class="p">.</span><span class="n">message</span><span class="p">,</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="p">(</span><span class="n">updatedUser</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserState</span><span class="p">.</span><span class="n">loaded</span><span class="p">(</span><span class="n">updatedUser</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ç‹€æ…‹é¡åˆ¥ (ç”¨æ–¼ Riverpod)</span>
<span class="nd">@freezed</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UserState</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">_$UserState</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kd">factory</span><span class="w"> </span><span class="n">UserState</span><span class="p">.</span><span class="n">initial</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_Initial</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kd">factory</span><span class="w"> </span><span class="n">UserState</span><span class="p">.</span><span class="n">loading</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_Loading</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kd">factory</span><span class="w"> </span><span class="n">UserState</span><span class="p">.</span><span class="n">loaded</span><span class="p">(</span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_Loaded</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kd">factory</span><span class="w"> </span><span class="n">UserState</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_Error</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kd">factory</span><span class="w"> </span><span class="n">UserState</span><span class="p">.</span><span class="n">custom</span><span class="p">({</span>
<span class="w">    </span><span class="n">User</span><span class="o">?</span><span class="w"> </span><span class="n">user</span><span class="p">,</span>
<span class="w">    </span><span class="nd">@Default</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">isLoading</span><span class="p">,</span>
<span class="w">    </span><span class="nd">@Default</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">isUpdating</span><span class="p">,</span>
<span class="w">    </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_Custom</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3>View Layer (è¡¨ç¾å±¤)</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ–¼ï¸ View (UI å±¤)</span>
<span class="c1">// ä½ç½®: lib/presentation/pages/</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">UserProfilePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">userId</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">UserProfilePage</span><span class="p">({</span>
<span class="w">    </span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">userId</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">State</span><span class="o">&lt;</span><span class="n">UserProfilePage</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_UserProfilePageState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_UserProfilePageState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">UserProfilePage</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">UserViewModel</span><span class="w"> </span><span class="n">_viewModel</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">initState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">initState</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// å¾ä¾è³´æ³¨å…¥å®¹å™¨å–å¾— ViewModel</span>
<span class="w">    </span><span class="n">_viewModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getIt</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// è¼‰å…¥ä½¿ç”¨è€…è³‡æ–™</span>
<span class="w">    </span><span class="n">WidgetsBinding</span><span class="p">.</span><span class="n">instance</span><span class="p">.</span><span class="n">addPostFrameCallback</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">_viewModel</span><span class="p">.</span><span class="n">loadUserProfile</span><span class="p">(</span><span class="n">widget</span><span class="p">.</span><span class="n">userId</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">      </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;å€‹äººè³‡æ–™&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">actions:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">refresh</span><span class="p">),</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_handleRefresh</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="n">PopupMenuButton</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">            </span><span class="nl">onSelected:</span><span class="w"> </span><span class="n">_handleMenuAction</span><span class="p">,</span>
<span class="w">            </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="n">PopupMenuItem</span><span class="p">(</span><span class="nl">value:</span><span class="w"> </span><span class="s1">&#39;edit&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ç·¨è¼¯&#39;</span><span class="p">)),</span>
<span class="w">              </span><span class="n">PopupMenuItem</span><span class="p">(</span><span class="nl">value:</span><span class="w"> </span><span class="s1">&#39;delete&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;åˆªé™¤å¸³è™Ÿ&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">body:</span><span class="w"> </span><span class="n">ChangeNotifierProvider</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">        </span><span class="nl">value:</span><span class="w"> </span><span class="n">_viewModel</span><span class="p">,</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Consumer</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">          </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">viewModel</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">_buildBody</span><span class="p">(</span><span class="n">viewModel</span><span class="p">);</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">_buildBody</span><span class="p">(</span><span class="n">UserViewModel</span><span class="w"> </span><span class="n">viewModel</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">isLoading</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">viewModel</span><span class="p">.</span><span class="n">hasUser</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">_buildLoadingState</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">errorMessage</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">viewModel</span><span class="p">.</span><span class="n">hasUser</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">_buildErrorState</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">errorMessage</span><span class="o">!</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">hasUser</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">_buildUserProfile</span><span class="p">(</span><span class="n">viewModel</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_buildEmptyState</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">_buildLoadingState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">CircularProgressIndicator</span><span class="p">(),</span>
<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">          </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;è¼‰å…¥ä½¿ç”¨è€…è³‡æ–™ä¸­...&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">_buildErrorState</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">              </span><span class="n">Icons</span><span class="p">.</span><span class="n">error_outline</span><span class="p">,</span>
<span class="w">              </span><span class="nl">size:</span><span class="w"> </span><span class="m">64</span><span class="p">,</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;è¼‰å…¥å¤±æ•—&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="n">error</span><span class="p">,</span>
<span class="w">              </span><span class="nl">textAlign:</span><span class="w"> </span><span class="n">TextAlign</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">600</span><span class="p">]),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>
<span class="w">            </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_viewModel</span><span class="p">.</span><span class="n">loadUserProfile</span><span class="p">(</span><span class="n">widget</span><span class="p">.</span><span class="n">userId</span><span class="p">),</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;é‡æ–°è¼‰å…¥&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">_buildEmptyState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">        </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">            </span><span class="n">Icons</span><span class="p">.</span><span class="n">person_outline</span><span class="p">,</span>
<span class="w">            </span><span class="nl">size:</span><span class="w"> </span><span class="m">64</span><span class="p">,</span>
<span class="w">            </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">          </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;æœªæ‰¾åˆ°ä½¿ç”¨è€…è³‡æ–™&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">_buildUserProfile</span><span class="p">(</span><span class="n">UserViewModel</span><span class="w"> </span><span class="n">viewModel</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="o">!</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">RefreshIndicator</span><span class="p">(</span>
<span class="w">      </span><span class="nl">onRefresh:</span><span class="w"> </span><span class="n">_handleRefresh</span><span class="p">,</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">SingleChildScrollView</span><span class="p">(</span>
<span class="w">        </span><span class="nl">physics:</span><span class="w"> </span><span class="n">AlwaysScrollableScrollPhysics</span><span class="p">(),</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="c1">// éŒ¯èª¤è¨Šæ¯é¡¯ç¤º</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">errorMessage</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
<span class="w">              </span><span class="n">_buildErrorBanner</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">errorMessage</span><span class="o">!</span><span class="p">),</span>

<span class="w">            </span><span class="c1">// ä½¿ç”¨è€…é ­åƒå’ŒåŸºæœ¬è³‡è¨Š</span>
<span class="w">            </span><span class="n">_buildUserHeader</span><span class="p">(</span><span class="n">user</span><span class="p">),</span>

<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>

<span class="w">            </span><span class="c1">// ä½¿ç”¨è€…è©³ç´°è³‡è¨Š</span>
<span class="w">            </span><span class="n">_buildUserDetails</span><span class="p">(</span><span class="n">user</span><span class="p">),</span>

<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>

<span class="w">            </span><span class="c1">// æ“ä½œæŒ‰éˆ•</span>
<span class="w">            </span><span class="n">_buildActionButtons</span><span class="p">(</span><span class="n">viewModel</span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">_buildErrorBanner</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">      </span><span class="nl">width:</span><span class="w"> </span><span class="kt">double</span><span class="p">.</span><span class="n">infinity</span><span class="p">,</span>
<span class="w">      </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">12</span><span class="p">),</span>
<span class="w">      </span><span class="nl">margin:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">only</span><span class="p">(</span><span class="nl">bottom:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">      </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">        </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">[</span><span class="m">100</span><span class="p">],</span>
<span class="w">        </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">8</span><span class="p">),</span>
<span class="w">        </span><span class="nl">border:</span><span class="w"> </span><span class="n">Border</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">[</span><span class="m">300</span><span class="p">]</span><span class="o">!</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">[</span><span class="m">700</span><span class="p">]),</span>
<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">width:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">          </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="n">error</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">[</span><span class="m">700</span><span class="p">]),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="n">IconButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">close</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">[</span><span class="m">700</span><span class="p">]),</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_viewModel</span><span class="p">.</span><span class="n">clearError</span><span class="p">,</span>
<span class="w">            </span><span class="nl">constraints:</span><span class="w"> </span><span class="n">BoxConstraints</span><span class="p">(</span><span class="nl">minWidth:</span><span class="w"> </span><span class="m">24</span><span class="p">,</span><span class="w"> </span><span class="nl">minHeight:</span><span class="w"> </span><span class="m">24</span><span class="p">),</span>
<span class="w">            </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">zero</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">_buildUserHeader</span><span class="p">(</span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Card</span><span class="p">(</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="c1">// é ­åƒ</span>
<span class="w">            </span><span class="n">CircleAvatar</span><span class="p">(</span>
<span class="w">              </span><span class="nl">radius:</span><span class="w"> </span><span class="m">40</span><span class="p">,</span>
<span class="w">              </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">[</span><span class="m">100</span><span class="p">],</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                </span><span class="n">user</span><span class="p">.</span><span class="n">displayName</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">toUpperCase</span><span class="p">(),</span>
<span class="w">                </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">32</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                  </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">[</span><span class="m">700</span><span class="p">],</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">width:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">            </span><span class="c1">// åŸºæœ¬è³‡è¨Š</span>
<span class="w">            </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">                </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                    </span><span class="n">user</span><span class="p">.</span><span class="n">displayName</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">4</span><span class="p">),</span>
<span class="w">                  </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                    </span><span class="n">user</span><span class="p">.</span><span class="n">email</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                      </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">14</span><span class="p">,</span>
<span class="w">                      </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">600</span><span class="p">],</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>

<span class="w">                  </span><span class="c1">// ç‹€æ…‹æ¨™ç±¤</span>
<span class="w">                  </span><span class="n">_buildStatusChip</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">status</span><span class="p">),</span>
<span class="w">                </span><span class="p">],</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">_buildStatusChip</span><span class="p">(</span><span class="n">UserStatus</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Color</span><span class="w"> </span><span class="n">backgroundColor</span><span class="p">;</span>
<span class="w">    </span><span class="n">Color</span><span class="w"> </span><span class="n">textColor</span><span class="p">;</span>
<span class="w">    </span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>

<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="nl">active:</span>
<span class="w">        </span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">[</span><span class="m">100</span><span class="p">]</span><span class="o">!</span><span class="p">;</span>
<span class="w">        </span><span class="n">textColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">[</span><span class="m">700</span><span class="p">]</span><span class="o">!</span><span class="p">;</span>
<span class="w">        </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;æ´»èº&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="nl">inactive:</span>
<span class="w">        </span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">100</span><span class="p">]</span><span class="o">!</span><span class="p">;</span>
<span class="w">        </span><span class="n">textColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">700</span><span class="p">]</span><span class="o">!</span><span class="p">;</span>
<span class="w">        </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;éæ´»èº&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="nl">banned:</span>
<span class="w">        </span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">[</span><span class="m">100</span><span class="p">]</span><span class="o">!</span><span class="p">;</span>
<span class="w">        </span><span class="n">textColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">[</span><span class="m">700</span><span class="p">]</span><span class="o">!</span><span class="p">;</span>
<span class="w">        </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;å·²å°é–&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="nl">pending:</span>
<span class="w">        </span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">orange</span><span class="p">[</span><span class="m">100</span><span class="p">]</span><span class="o">!</span><span class="p">;</span>
<span class="w">        </span><span class="n">textColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">orange</span><span class="p">[</span><span class="m">700</span><span class="p">]</span><span class="o">!</span><span class="p">;</span>
<span class="w">        </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ç­‰å¾…ä¸­&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">      </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">horizontal:</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="nl">vertical:</span><span class="w"> </span><span class="m">4</span><span class="p">),</span>
<span class="w">      </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">        </span><span class="nl">color:</span><span class="w"> </span><span class="n">backgroundColor</span><span class="p">,</span>
<span class="w">        </span><span class="nl">borderRadius:</span><span class="w"> </span><span class="n">BorderRadius</span><span class="p">.</span><span class="n">circular</span><span class="p">(</span><span class="m">12</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">        </span><span class="n">text</span><span class="p">,</span>
<span class="w">        </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">          </span><span class="nl">color:</span><span class="w"> </span><span class="n">textColor</span><span class="p">,</span>
<span class="w">          </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">12</span><span class="p">,</span>
<span class="w">          </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">w500</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">_buildUserDetails</span><span class="p">(</span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Card</span><span class="p">(</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">start</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;è©³ç´°è³‡è¨Š&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">,</span>
<span class="w">                </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>

<span class="w">            </span><span class="n">_buildDetailItem</span><span class="p">(</span>
<span class="w">              </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icons</span><span class="p">.</span><span class="n">person</span><span class="p">,</span>
<span class="w">              </span><span class="nl">label:</span><span class="w"> </span><span class="s1">&#39;ä½¿ç”¨è€… ID&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">value:</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">id</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="n">_buildDetailItem</span><span class="p">(</span>
<span class="w">              </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icons</span><span class="p">.</span><span class="n">email</span><span class="p">,</span>
<span class="w">              </span><span class="nl">label:</span><span class="w"> </span><span class="s1">&#39;é›»å­éƒµä»¶&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">value:</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">email</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="n">_buildDetailItem</span><span class="p">(</span>
<span class="w">              </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icons</span><span class="p">.</span><span class="n">access_time</span><span class="p">,</span>
<span class="w">              </span><span class="nl">label:</span><span class="w"> </span><span class="s1">&#39;æœ€å¾Œç™»å…¥&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">value:</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">lastLoginAt</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span>
<span class="w">                  </span><span class="o">?</span><span class="w"> </span><span class="n">_formatDateTime</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">lastLoginAt</span><span class="o">!</span><span class="p">)</span>
<span class="w">                  </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;å¾æœªç™»å…¥&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="n">_buildDetailItem</span><span class="p">(</span>
<span class="w">              </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icons</span><span class="p">.</span><span class="n">info</span><span class="p">,</span>
<span class="w">              </span><span class="nl">label:</span><span class="w"> </span><span class="s1">&#39;å¸³è™Ÿç‹€æ…‹&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">value:</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">isActive</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;æ­£å¸¸&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;éæ´»èº&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">isNewUser</span><span class="p">)</span>
<span class="w">              </span><span class="n">_buildDetailItem</span><span class="p">(</span>
<span class="w">                </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icons</span><span class="p">.</span><span class="n">new_releases</span><span class="p">,</span>
<span class="w">                </span><span class="nl">label:</span><span class="w"> </span><span class="s1">&#39;å¸³è™Ÿé¡å‹&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nl">value:</span><span class="w"> </span><span class="s1">&#39;æ–°ä½¿ç”¨è€…&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">_buildDetailItem</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="n">IconData</span><span class="w"> </span><span class="n">icon</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">label</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">value</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">      </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">only</span><span class="p">(</span><span class="nl">bottom:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Row</span><span class="p">(</span>
<span class="w">        </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">Icon</span><span class="p">(</span><span class="n">icon</span><span class="p">,</span><span class="w"> </span><span class="nl">size:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">600</span><span class="p">]),</span>
<span class="w">          </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">width:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">          </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">            </span><span class="nl">flex:</span><span class="w"> </span><span class="m">2</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="n">label</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">w500</span><span class="p">,</span>
<span class="w">                </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">700</span><span class="p">],</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">            </span><span class="nl">flex:</span><span class="w"> </span><span class="m">3</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="n">value</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">w400</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">_buildActionButtons</span><span class="p">(</span><span class="n">UserViewModel</span><span class="w"> </span><span class="n">viewModel</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">      </span><span class="nl">crossAxisAlignment:</span><span class="w"> </span><span class="n">CrossAxisAlignment</span><span class="p">.</span><span class="n">stretch</span><span class="p">,</span>
<span class="w">      </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">icon</span><span class="p">(</span>
<span class="w">          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">isUpdating</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_handleEditProfile</span><span class="p">,</span>
<span class="w">          </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">edit</span><span class="p">),</span>
<span class="w">          </span><span class="nl">label:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;ç·¨è¼¯å€‹äººè³‡æ–™&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">            </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">vertical:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>

<span class="w">        </span><span class="n">OutlinedButton</span><span class="p">.</span><span class="n">icon</span><span class="p">(</span>
<span class="w">          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">isLoading</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_handleChangePassword</span><span class="p">,</span>
<span class="w">          </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">lock</span><span class="p">),</span>
<span class="w">          </span><span class="nl">label:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;æ›´æ”¹å¯†ç¢¼&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="nl">style:</span><span class="w"> </span><span class="n">OutlinedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">            </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">vertical:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>

<span class="w">        </span><span class="n">TextButton</span><span class="p">.</span><span class="n">icon</span><span class="p">(</span>
<span class="w">          </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">isLoading</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_handleDeleteAccount</span><span class="p">,</span>
<span class="w">          </span><span class="nl">icon:</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">delete</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">),</span>
<span class="w">          </span><span class="nl">label:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;åˆªé™¤å¸³è™Ÿ&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">            </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">symmetric</span><span class="p">(</span><span class="nl">vertical:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="c1">// è¼‰å…¥æŒ‡ç¤ºå™¨</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">isUpdating</span><span class="p">)</span>
<span class="w">          </span><span class="n">Padding</span><span class="p">(</span>
<span class="w">            </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">only</span><span class="p">(</span><span class="nl">top:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="n">SizedBox</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">width:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">CircularProgressIndicator</span><span class="p">(</span><span class="nl">strokeWidth:</span><span class="w"> </span><span class="m">2</span><span class="p">),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                  </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">                  </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                    </span><span class="s1">&#39;æ›´æ–°ä¸­...&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">12</span><span class="p">,</span><span class="w"> </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">grey</span><span class="p">[</span><span class="m">600</span><span class="p">]),</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">],</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// äº‹ä»¶è™•ç†æ–¹æ³•</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_handleRefresh</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">_viewModel</span><span class="p">.</span><span class="n">refresh</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_handleMenuAction</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;edit&#39;</span><span class="o">:</span>
<span class="w">        </span><span class="n">_handleEditProfile</span><span class="p">();</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;delete&#39;</span><span class="o">:</span>
<span class="w">        </span><span class="n">_handleDeleteAccount</span><span class="p">();</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_handleEditProfile</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_viewModel</span><span class="p">.</span><span class="n">user</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>

<span class="w">    </span><span class="n">Navigator</span><span class="p">.</span><span class="n">push</span><span class="p">(</span>
<span class="w">      </span><span class="n">context</span><span class="p">,</span>
<span class="w">      </span><span class="n">MaterialPageRoute</span><span class="p">(</span>
<span class="w">        </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">EditProfilePage</span><span class="p">(</span><span class="nl">user:</span><span class="w"> </span><span class="n">_viewModel</span><span class="p">.</span><span class="n">user</span><span class="o">!</span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">).</span><span class="n">then</span><span class="p">((</span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// å¦‚æœç·¨è¼¯æˆåŠŸï¼Œé‡æ–°è¼‰å…¥è³‡æ–™</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_viewModel</span><span class="p">.</span><span class="n">refresh</span><span class="p">();</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_handleChangePassword</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Navigator</span><span class="p">.</span><span class="n">push</span><span class="p">(</span>
<span class="w">      </span><span class="n">context</span><span class="p">,</span>
<span class="w">      </span><span class="n">MaterialPageRoute</span><span class="p">(</span>
<span class="w">        </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ChangePasswordPage</span><span class="p">(),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_handleDeleteAccount</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">showDialog</span><span class="p">(</span>
<span class="w">      </span><span class="nl">context:</span><span class="w"> </span><span class="n">context</span><span class="p">,</span>
<span class="w">      </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">AlertDialog</span><span class="p">(</span>
<span class="w">        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;åˆªé™¤å¸³è™Ÿ&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="nl">content:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">          </span><span class="s1">&#39;ç¢ºå®šè¦åˆªé™¤æ­¤å¸³è™Ÿå—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="nl">actions:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="n">TextButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">),</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;å–æ¶ˆ&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="n">TextButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
<span class="w">              </span><span class="kd">final</span><span class="w"> </span><span class="n">success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_viewModel</span><span class="p">.</span><span class="n">deleteAccount</span><span class="p">();</span>
<span class="w">              </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">success</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_showSuccessSnackBar</span><span class="p">(</span><span class="s1">&#39;å¸³è™Ÿå·²æˆåŠŸåˆªé™¤&#39;</span><span class="p">);</span>
<span class="w">                </span><span class="n">Navigator</span><span class="p">.</span><span class="n">pop</span><span class="p">(</span><span class="n">context</span><span class="p">);</span><span class="w"> </span><span class="c1">// è¿”å›ä¸Šä¸€é </span>
<span class="w">              </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;åˆªé™¤&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">_showSuccessSnackBar</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ScaffoldMessenger</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">showSnackBar</span><span class="p">(</span>
<span class="w">      </span><span class="n">SnackBar</span><span class="p">(</span>
<span class="w">        </span><span class="nl">content:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="n">message</span><span class="p">),</span>
<span class="w">        </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">green</span><span class="p">,</span>
<span class="w">        </span><span class="nl">behavior:</span><span class="w"> </span><span class="n">SnackBarBehavior</span><span class="p">.</span><span class="n">floating</span><span class="p">,</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">_formatDateTime</span><span class="p">(</span><span class="n">DateTime</span><span class="w"> </span><span class="n">dateTime</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">now</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="p">.</span><span class="n">difference</span><span class="p">(</span><span class="n">dateTime</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">difference</span><span class="p">.</span><span class="n">inDays</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;</span><span class="si">${</span><span class="n">difference</span><span class="p">.</span><span class="n">inDays</span><span class="si">}</span><span class="s1"> å¤©å‰&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">difference</span><span class="p">.</span><span class="n">inHours</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;</span><span class="si">${</span><span class="n">difference</span><span class="p">.</span><span class="n">inHours</span><span class="si">}</span><span class="s1"> å°æ™‚å‰&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">difference</span><span class="p">.</span><span class="n">inMinutes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;</span><span class="si">${</span><span class="n">difference</span><span class="p">.</span><span class="n">inMinutes</span><span class="si">}</span><span class="s1"> åˆ†é˜å‰&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;å‰›å‰›&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">dispose</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// æ¸…ç†è³‡æº</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ”„ UseCase å±¤ (æ¥­å‹™é‚è¼¯)</h2>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ“‹ UseCase (ç”¨ä¾‹å±¤)</span>
<span class="c1">// ä½ç½®: lib/domain/usecases/</span>

<span class="c1">// åŸºç¤ UseCase æŠ½è±¡é¡åˆ¥</span>
<span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">UseCase</span><span class="o">&lt;</span><span class="n">Type</span><span class="p">,</span><span class="w"> </span><span class="n">Params</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">Either</span><span class="o">&lt;</span><span class="n">Failure</span><span class="p">,</span><span class="w"> </span><span class="n">Type</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">execute</span><span class="p">(</span><span class="n">Params</span><span class="w"> </span><span class="n">params</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">UseCaseNoParams</span><span class="o">&lt;</span><span class="n">Type</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">Either</span><span class="o">&lt;</span><span class="n">Failure</span><span class="p">,</span><span class="w"> </span><span class="n">Type</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">execute</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// å–å¾—ä½¿ç”¨è€…å€‹äººè³‡æ–™ç”¨ä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">GetUserProfileUseCase</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">UseCase</span><span class="o">&lt;</span><span class="n">User</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">UserRepository</span><span class="w"> </span><span class="n">_repository</span><span class="p">;</span>

<span class="w">  </span><span class="n">GetUserProfileUseCase</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">_repository</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">Either</span><span class="o">&lt;</span><span class="n">Failure</span><span class="p">,</span><span class="w"> </span><span class="n">User</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">execute</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// é©—è­‰è¼¸å…¥åƒæ•¸</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">userId</span><span class="p">.</span><span class="n">isEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">ValidationFailure</span><span class="p">(</span><span class="s1">&#39;ä½¿ç”¨è€… ID ä¸èƒ½ç‚ºç©º&#39;</span><span class="p">));</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="c1">// å‘¼å«å„²å­˜åº«</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_repository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">userId</span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">NotFoundFailure</span><span class="p">(</span><span class="s1">&#39;æ‰¾ä¸åˆ°æŒ‡å®šçš„ä½¿ç”¨è€…&#39;</span><span class="p">));</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">Right</span><span class="p">(</span><span class="n">user</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">ServerFailure</span><span class="p">(</span><span class="s1">&#39;å–å¾—ä½¿ç”¨è€…è³‡æ–™å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// æ›´æ–°ä½¿ç”¨è€…å€‹äººè³‡æ–™ç”¨ä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UpdateUserProfileUseCase</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">UseCase</span><span class="o">&lt;</span><span class="n">User</span><span class="p">,</span><span class="w"> </span><span class="n">UpdateUserParams</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">UserRepository</span><span class="w"> </span><span class="n">_repository</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">ValidationService</span><span class="w"> </span><span class="n">_validationService</span><span class="p">;</span>

<span class="w">  </span><span class="n">UpdateUserProfileUseCase</span><span class="p">(</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">_repository</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">_validationService</span><span class="p">,</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">Either</span><span class="o">&lt;</span><span class="n">Failure</span><span class="p">,</span><span class="w"> </span><span class="n">User</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">execute</span><span class="p">(</span><span class="n">UpdateUserParams</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// é©—è­‰è¼¸å…¥è³‡æ–™</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">validationResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_validationService</span><span class="p">.</span><span class="n">validateUser</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">user</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">validationResult</span><span class="p">.</span><span class="n">isValid</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">ValidationFailure</span><span class="p">(</span><span class="n">validationResult</span><span class="p">.</span><span class="n">errorMessage</span><span class="p">));</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="c1">// æª¢æŸ¥ä½¿ç”¨è€…æ˜¯å¦å­˜åœ¨</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">existingUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_repository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">user</span><span class="p">.</span><span class="n">id</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">existingUser</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">NotFoundFailure</span><span class="p">(</span><span class="s1">&#39;ä½¿ç”¨è€…ä¸å­˜åœ¨&#39;</span><span class="p">));</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="c1">// æª¢æŸ¥é›»å­éƒµä»¶æ˜¯å¦å·²è¢«å…¶ä»–ä½¿ç”¨è€…ä½¿ç”¨</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">user</span><span class="p">.</span><span class="n">email</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">existingUser</span><span class="p">.</span><span class="n">email</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">emailExists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_repository</span><span class="p">.</span><span class="n">isEmailExists</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">user</span><span class="p">.</span><span class="n">email</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">emailExists</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">ValidationFailure</span><span class="p">(</span><span class="s1">&#39;æ­¤é›»å­éƒµä»¶å·²è¢«ä½¿ç”¨&#39;</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="c1">// åŸ·è¡Œæ›´æ–°</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">updatedUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_repository</span><span class="p">.</span><span class="n">updateUser</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">user</span><span class="p">);</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">Right</span><span class="p">(</span><span class="n">updatedUser</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">ServerFailure</span><span class="p">(</span><span class="s1">&#39;æ›´æ–°ä½¿ç”¨è€…è³‡æ–™å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// åƒæ•¸é¡åˆ¥</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">UpdateUserParams</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">user</span><span class="p">;</span>

<span class="w">  </span><span class="n">UpdateUserParams</span><span class="p">({</span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">user</span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// æœå°‹ä½¿ç”¨è€…ç”¨ä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">SearchUsersUseCase</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">UseCase</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">SearchUsersParams</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">UserRepository</span><span class="w"> </span><span class="n">_repository</span><span class="p">;</span>

<span class="w">  </span><span class="n">SearchUsersUseCase</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">_repository</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">Either</span><span class="o">&lt;</span><span class="n">Failure</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">execute</span><span class="p">(</span><span class="n">SearchUsersParams</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// é©—è­‰æœå°‹æŸ¥è©¢</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">query</span><span class="p">.</span><span class="n">trim</span><span class="p">().</span><span class="n">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">ValidationFailure</span><span class="p">(</span><span class="s1">&#39;æœå°‹é—œéµå­—è‡³å°‘éœ€è¦ 2 å€‹å­—å…ƒ&#39;</span><span class="p">));</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="c1">// åŸ·è¡Œæœå°‹</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_repository</span><span class="p">.</span><span class="n">searchUsers</span><span class="p">(</span>
<span class="w">        </span><span class="n">params</span><span class="p">.</span><span class="n">query</span><span class="p">,</span>
<span class="w">        </span><span class="nl">page:</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">page</span><span class="p">,</span>
<span class="w">        </span><span class="nl">limit:</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">limit</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">Right</span><span class="p">(</span><span class="n">users</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">ServerFailure</span><span class="p">(</span><span class="s1">&#39;æœå°‹ä½¿ç”¨è€…å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">SearchUsersParams</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">query</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">limit</span><span class="p">;</span>

<span class="w">  </span><span class="n">SearchUsersParams</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">query</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// åˆªé™¤ä½¿ç”¨è€…å¸³è™Ÿç”¨ä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">DeleteUserAccountUseCase</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">UseCase</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">UserRepository</span><span class="w"> </span><span class="n">_repository</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">AuthRepository</span><span class="w"> </span><span class="n">_authRepository</span><span class="p">;</span>

<span class="w">  </span><span class="n">DeleteUserAccountUseCase</span><span class="p">(</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">_repository</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">_authRepository</span><span class="p">,</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">Either</span><span class="o">&lt;</span><span class="n">Failure</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">execute</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// æª¢æŸ¥ä½¿ç”¨è€…æ˜¯å¦å­˜åœ¨</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_repository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">userId</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">NotFoundFailure</span><span class="p">(</span><span class="s1">&#39;ä½¿ç”¨è€…ä¸å­˜åœ¨&#39;</span><span class="p">));</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="c1">// æª¢æŸ¥æ˜¯å¦ç‚ºç•¶å‰ç™»å…¥ä½¿ç”¨è€…</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">currentUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_authRepository</span><span class="p">.</span><span class="n">getCurrentUser</span><span class="p">();</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">currentUser</span><span class="o">?</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">UnauthorizedFailure</span><span class="p">(</span><span class="s1">&#39;åªèƒ½åˆªé™¤è‡ªå·±çš„å¸³è™Ÿ&#39;</span><span class="p">));</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="c1">// åŸ·è¡Œåˆªé™¤æ“ä½œ</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_repository</span><span class="p">.</span><span class="n">deleteUser</span><span class="p">(</span><span class="n">userId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// ç™»å‡ºä½¿ç”¨è€…</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_authRepository</span><span class="p">.</span><span class="n">logout</span><span class="p">();</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">Right</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">ServerFailure</span><span class="p">(</span><span class="s1">&#39;åˆªé™¤å¸³è™Ÿå¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ—ƒï¸ è³‡æ–™æºè¨­è¨ˆ</h2>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸŒ Remote Data Source (é ç«¯è³‡æ–™æº)</span>
<span class="c1">// ä½ç½®: lib/data/datasources/remote/</span>

<span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">UserRemoteDataSource</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getUserById</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">getUsers</span><span class="p">({</span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">});</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createUser</span><span class="p">(</span><span class="n">UserResponse</span><span class="w"> </span><span class="n">user</span><span class="p">);</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">updateUser</span><span class="p">(</span><span class="n">UserResponse</span><span class="w"> </span><span class="n">user</span><span class="p">);</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">deleteUser</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">searchUsers</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">});</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="w"> </span><span class="n">isEmailExists</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">email</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">UserRemoteDataSourceImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">UserRemoteDataSource</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">ApiClient</span><span class="w"> </span><span class="n">_apiClient</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">_baseUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;/api/v1/users&#39;</span><span class="p">;</span>

<span class="w">  </span><span class="n">UserRemoteDataSourceImpl</span><span class="p">({</span><span class="kd">required</span><span class="w"> </span><span class="n">ApiClient</span><span class="w"> </span><span class="n">apiClient</span><span class="p">})</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="n">_apiClient</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">apiClient</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getUserById</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_apiClient</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">_baseUrl</span><span class="s1">/</span><span class="si">$</span><span class="n">id</span><span class="s1">&#39;</span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">.</span><span class="n">fromJson</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">data</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;å–å¾—ä½¿ç”¨è€…è³‡æ–™å¤±æ•—: </span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;ç¶²è·¯éŒ¯èª¤: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">getUsers</span><span class="p">({</span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">})</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_apiClient</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span>
<span class="w">        </span><span class="n">_baseUrl</span><span class="p">,</span>
<span class="w">        </span><span class="nl">queryParameters:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="s1">&#39;page&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">          </span><span class="s1">&#39;limit&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">limit</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">jsonList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">];</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">jsonList</span><span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">json</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">.</span><span class="n">fromJson</span><span class="p">(</span><span class="n">json</span><span class="p">)).</span><span class="n">toList</span><span class="p">();</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;å–å¾—ä½¿ç”¨è€…åˆ—è¡¨å¤±æ•—: </span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;ç¶²è·¯éŒ¯èª¤: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createUser</span><span class="p">(</span><span class="n">UserResponse</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_apiClient</span><span class="p">.</span><span class="n">post</span><span class="p">(</span>
<span class="w">        </span><span class="n">_baseUrl</span><span class="p">,</span>
<span class="w">        </span><span class="nl">data:</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">toJson</span><span class="p">(),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">201</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">.</span><span class="n">fromJson</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">data</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;å»ºç«‹ä½¿ç”¨è€…å¤±æ•—: </span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;ç¶²è·¯éŒ¯èª¤: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">updateUser</span><span class="p">(</span><span class="n">UserResponse</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_apiClient</span><span class="p">.</span><span class="n">put</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="si">$</span><span class="n">_baseUrl</span><span class="s1">/</span><span class="si">${</span><span class="n">user</span><span class="p">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nl">data:</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">toJson</span><span class="p">(),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">.</span><span class="n">fromJson</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">data</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;æ›´æ–°ä½¿ç”¨è€…å¤±æ•—: </span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;ç¶²è·¯éŒ¯èª¤: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">deleteUser</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_apiClient</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">_baseUrl</span><span class="s1">/</span><span class="si">$</span><span class="n">id</span><span class="s1">&#39;</span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">204</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;åˆªé™¤ä½¿ç”¨è€…å¤±æ•—: </span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;ç¶²è·¯éŒ¯èª¤: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">searchUsers</span><span class="p">(</span>
<span class="w">    </span><span class="kt">String</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_apiClient</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="si">$</span><span class="n">_baseUrl</span><span class="s1">/search&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nl">queryParameters:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="s1">&#39;q&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">query</span><span class="p">,</span>
<span class="w">          </span><span class="s1">&#39;page&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">page</span><span class="p">,</span>
<span class="w">          </span><span class="s1">&#39;limit&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">limit</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">jsonList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">];</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">jsonList</span><span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">json</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">.</span><span class="n">fromJson</span><span class="p">(</span><span class="n">json</span><span class="p">)).</span><span class="n">toList</span><span class="p">();</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;æœå°‹ä½¿ç”¨è€…å¤±æ•—: </span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;ç¶²è·¯éŒ¯èª¤: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="w"> </span><span class="n">isEmailExists</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">email</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_apiClient</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="si">$</span><span class="n">_baseUrl</span><span class="s1">/check-email&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nl">queryParameters:</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;email&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">email</span><span class="p">},</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">200</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;exists&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;æª¢æŸ¥é›»å­éƒµä»¶å¤±æ•—: </span><span class="si">${</span><span class="n">response</span><span class="p">.</span><span class="n">statusCode</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;ç¶²è·¯éŒ¯èª¤: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ğŸ’¾ Local Data Source (æœ¬åœ°è³‡æ–™æº)</span>
<span class="c1">// ä½ç½®: lib/data/datasources/local/</span>

<span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">UserLocalDataSource</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">getUserById</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">getCachedUsers</span><span class="p">({</span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">});</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cacheUser</span><span class="p">(</span><span class="n">UserResponse</span><span class="w"> </span><span class="n">user</span><span class="p">);</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cacheUsers</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">users</span><span class="p">);</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">deleteUser</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">clearCache</span><span class="p">();</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">searchCachedUsers</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">query</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">UserLocalDataSourceImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">UserLocalDataSource</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">LocalStorage</span><span class="w"> </span><span class="n">_localStorage</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">_usersKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;cached_users&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">_userPrefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;user_&#39;</span><span class="p">;</span>

<span class="w">  </span><span class="n">UserLocalDataSourceImpl</span><span class="p">({</span><span class="kd">required</span><span class="w"> </span><span class="n">LocalStorage</span><span class="w"> </span><span class="n">localStorage</span><span class="p">})</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="n">_localStorage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">localStorage</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">getUserById</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">userData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_localStorage</span><span class="p">.</span><span class="n">getString</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">_userPrefix</span><span class="si">$</span><span class="n">id</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">userData</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">jsonData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jsonDecode</span><span class="p">(</span><span class="n">userData</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">.</span><span class="n">fromJson</span><span class="p">(</span><span class="n">jsonData</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">CacheException</span><span class="p">(</span><span class="s1">&#39;å–å¾—å¿«å–ä½¿ç”¨è€…è³‡æ–™å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">getCachedUsers</span><span class="p">({</span><span class="kt">int</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">})</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">usersData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_localStorage</span><span class="p">.</span><span class="n">getString</span><span class="p">(</span><span class="n">_usersKey</span><span class="p">);</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">usersData</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">jsonList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jsonDecode</span><span class="p">(</span><span class="n">usersData</span><span class="p">);</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">jsonList</span><span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">json</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">.</span><span class="n">fromJson</span><span class="p">(</span><span class="n">json</span><span class="p">)).</span><span class="n">toList</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// å¯¦ä½œåˆ†é </span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">startIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">page</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">limit</span><span class="p">;</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">endIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">startIndex</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">limit</span><span class="p">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">startIndex</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">users</span><span class="p">.</span><span class="n">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="p">[];</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">users</span><span class="p">.</span><span class="n">sublist</span><span class="p">(</span>
<span class="w">          </span><span class="n">startIndex</span><span class="p">,</span>
<span class="w">          </span><span class="n">endIndex</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">users</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">users</span><span class="p">.</span><span class="n">length</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">endIndex</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">[];</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">CacheException</span><span class="p">(</span><span class="s1">&#39;å–å¾—å¿«å–ä½¿ç”¨è€…åˆ—è¡¨å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cacheUser</span><span class="p">(</span><span class="n">UserResponse</span><span class="w"> </span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// å¿«å–å€‹åˆ¥ä½¿ç”¨è€…</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_localStorage</span><span class="p">.</span><span class="n">setString</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;</span><span class="si">$</span><span class="n">_userPrefix</span><span class="si">${</span><span class="n">user</span><span class="p">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="n">jsonEncode</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">toJson</span><span class="p">()),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æ›´æ–°ä½¿ç”¨è€…åˆ—è¡¨å¿«å–</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">getCachedUsers</span><span class="p">(</span><span class="nl">page:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nl">limit:</span><span class="w"> </span><span class="m">1000</span><span class="p">);</span><span class="w"> </span><span class="c1">// å–å¾—æ‰€æœ‰å¿«å–çš„ä½¿ç”¨è€…</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">userIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">users</span><span class="p">.</span><span class="n">indexWhere</span><span class="p">((</span><span class="n">u</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">u</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">id</span><span class="p">);</span>

<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">userIndex</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">-</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">users</span><span class="p">[</span><span class="n">userIndex</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p">;</span><span class="w"> </span><span class="c1">// æ›´æ–°ç¾æœ‰ä½¿ç”¨è€…</span>
<span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">users</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">user</span><span class="p">);</span><span class="w"> </span><span class="c1">// æ–°å¢ä½¿ç”¨è€…</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_localStorage</span><span class="p">.</span><span class="n">setString</span><span class="p">(</span>
<span class="w">        </span><span class="n">_usersKey</span><span class="p">,</span>
<span class="w">        </span><span class="n">jsonEncode</span><span class="p">(</span><span class="n">users</span><span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">u</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">u</span><span class="p">.</span><span class="n">toJson</span><span class="p">()).</span><span class="n">toList</span><span class="p">()),</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">CacheException</span><span class="p">(</span><span class="s1">&#39;å¿«å–ä½¿ç”¨è€…è³‡æ–™å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cacheUsers</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;</span><span class="w"> </span><span class="n">users</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// å¿«å–ä½¿ç”¨è€…åˆ—è¡¨</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_localStorage</span><span class="p">.</span><span class="n">setString</span><span class="p">(</span>
<span class="w">        </span><span class="n">_usersKey</span><span class="p">,</span>
<span class="w">        </span><span class="n">jsonEncode</span><span class="p">(</span><span class="n">users</span><span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">u</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">u</span><span class="p">.</span><span class="n">toJson</span><span class="p">()).</span><span class="n">toList</span><span class="p">()),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// å€‹åˆ¥å¿«å–æ¯å€‹ä½¿ç”¨è€…</span>
<span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">final</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">users</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">_localStorage</span><span class="p">.</span><span class="n">setString</span><span class="p">(</span>
<span class="w">          </span><span class="s1">&#39;</span><span class="si">$</span><span class="n">_userPrefix</span><span class="si">${</span><span class="n">user</span><span class="p">.</span><span class="n">id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="n">jsonEncode</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">toJson</span><span class="p">()),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">CacheException</span><span class="p">(</span><span class="s1">&#39;å¿«å–ä½¿ç”¨è€…åˆ—è¡¨å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">deleteUser</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// åˆªé™¤å€‹åˆ¥ä½¿ç”¨è€…å¿«å–</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_localStorage</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">$</span><span class="n">_userPrefix</span><span class="si">$</span><span class="n">id</span><span class="s1">&#39;</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// å¾ä½¿ç”¨è€…åˆ—è¡¨å¿«å–ä¸­ç§»é™¤</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">getCachedUsers</span><span class="p">(</span><span class="nl">page:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nl">limit:</span><span class="w"> </span><span class="m">1000</span><span class="p">);</span>
<span class="w">      </span><span class="n">users</span><span class="p">.</span><span class="n">removeWhere</span><span class="p">((</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_localStorage</span><span class="p">.</span><span class="n">setString</span><span class="p">(</span>
<span class="w">        </span><span class="n">_usersKey</span><span class="p">,</span>
<span class="w">        </span><span class="n">jsonEncode</span><span class="p">(</span><span class="n">users</span><span class="p">.</span><span class="n">map</span><span class="p">((</span><span class="n">u</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">u</span><span class="p">.</span><span class="n">toJson</span><span class="p">()).</span><span class="n">toList</span><span class="p">()),</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">CacheException</span><span class="p">(</span><span class="s1">&#39;åˆªé™¤å¿«å–ä½¿ç”¨è€…å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">clearCache</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_localStorage</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">_usersKey</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// åˆªé™¤æ‰€æœ‰å€‹åˆ¥ä½¿ç”¨è€…å¿«å–</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_localStorage</span><span class="p">.</span><span class="n">getKeys</span><span class="p">();</span>
<span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">final</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">keys</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">key</span><span class="p">.</span><span class="n">startsWith</span><span class="p">(</span><span class="n">_userPrefix</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="kd">await</span><span class="w"> </span><span class="n">_localStorage</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">key</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">CacheException</span><span class="p">(</span><span class="s1">&#39;æ¸…é™¤ä½¿ç”¨è€…å¿«å–å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">UserResponse</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">searchCachedUsers</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">query</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">getCachedUsers</span><span class="p">(</span><span class="nl">page:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nl">limit:</span><span class="w"> </span><span class="m">1000</span><span class="p">);</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">lowerQuery</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">query</span><span class="p">.</span><span class="n">toLowerCase</span><span class="p">();</span>

<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">users</span><span class="p">.</span><span class="n">where</span><span class="p">((</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">user</span><span class="p">.</span><span class="n">name</span><span class="p">.</span><span class="n">toLowerCase</span><span class="p">().</span><span class="n">contains</span><span class="p">(</span><span class="n">lowerQuery</span><span class="p">)</span><span class="w"> </span><span class="o">||</span>
<span class="w">               </span><span class="n">user</span><span class="p">.</span><span class="n">email</span><span class="p">.</span><span class="n">toLowerCase</span><span class="p">().</span><span class="n">contains</span><span class="p">(</span><span class="n">lowerQuery</span><span class="p">);</span>
<span class="w">      </span><span class="p">}).</span><span class="n">toList</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">throw</span><span class="w"> </span><span class="n">CacheException</span><span class="p">(</span><span class="s1">&#39;æœå°‹å¿«å–ä½¿ç”¨è€…å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ­ ä¾è³´æ³¨å…¥è¨­å®š</h2>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ”§ Dependency Injection Setup</span>
<span class="c1">// ä½ç½®: lib/core/injection/injection.dart</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:get_it/get_it.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:dio/dio.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:shared_preferences/shared_preferences.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:connectivity_plus/connectivity_plus.dart&#39;</span><span class="p">;</span>

<span class="kd">final</span><span class="w"> </span><span class="n">GetIt</span><span class="w"> </span><span class="n">getIt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetIt</span><span class="p">.</span><span class="n">instance</span><span class="p">;</span>

<span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">configureDependencies</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ğŸ”Œ å¤–éƒ¨ä¾è³´ (Third-party)</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">_registerExternalDependencies</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// ğŸ—ï¸ æ ¸å¿ƒæœå‹™</span>
<span class="w">  </span><span class="n">_registerCoreServices</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// ğŸ—ƒï¸ è³‡æ–™å±¤</span>
<span class="w">  </span><span class="n">_registerDataLayer</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// ğŸ“‹ æ¥­å‹™é‚è¼¯å±¤</span>
<span class="w">  </span><span class="n">_registerDomainLayer</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// ğŸ¨ è¡¨ç¾å±¤</span>
<span class="w">  </span><span class="n">_registerPresentationLayer</span><span class="p">();</span>
<span class="p">}</span>

<span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_registerExternalDependencies</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// SharedPreferences</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">sharedPreferences</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">SharedPreferences</span><span class="p">.</span><span class="n">getInstance</span><span class="p">();</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">SharedPreferences</span><span class="o">&gt;</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">sharedPreferences</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Connectivity</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">Connectivity</span><span class="o">&gt;</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Connectivity</span><span class="p">());</span>

<span class="w">  </span><span class="c1">// Dio HTTP Client</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">dio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Dio</span><span class="p">();</span>
<span class="w">  </span><span class="n">dio</span><span class="p">.</span><span class="n">options</span><span class="p">.</span><span class="n">baseUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AppConfig</span><span class="p">.</span><span class="n">apiBaseUrl</span><span class="p">;</span>
<span class="w">  </span><span class="n">dio</span><span class="p">.</span><span class="n">options</span><span class="p">.</span><span class="n">connectTimeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">30</span><span class="p">);</span>
<span class="w">  </span><span class="n">dio</span><span class="p">.</span><span class="n">options</span><span class="p">.</span><span class="n">receiveTimeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">30</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// æ·»åŠ æ””æˆªå™¨</span>
<span class="w">  </span><span class="n">dio</span><span class="p">.</span><span class="n">interceptors</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">AuthInterceptor</span><span class="p">());</span>
<span class="w">  </span><span class="n">dio</span><span class="p">.</span><span class="n">interceptors</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">LoggingInterceptor</span><span class="p">());</span>
<span class="w">  </span><span class="n">dio</span><span class="p">.</span><span class="n">interceptors</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">ErrorInterceptor</span><span class="p">());</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">Dio</span><span class="o">&gt;</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">dio</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">_registerCoreServices</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ğŸŒ ç¶²è·¯ç›¸é—œ</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">NetworkInfo</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">NetworkInfoImpl</span><span class="p">(</span><span class="nl">connectivity:</span><span class="w"> </span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">ApiClient</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ApiClientImpl</span><span class="p">(</span><span class="nl">dio:</span><span class="w"> </span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ğŸ’¾ å„²å­˜ç›¸é—œ</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">LocalStorage</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SharedPrefsStorage</span><span class="p">(</span><span class="nl">sharedPreferences:</span><span class="w"> </span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">SecureStorage</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SecureStorageImpl</span><span class="p">(),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ğŸ›¡ï¸ å®‰å…¨å’Œé©—è­‰</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">ValidationService</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ValidationServiceImpl</span><span class="p">(),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">EncryptionService</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">EncryptionServiceImpl</span><span class="p">(),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ğŸ“Š åˆ†æå’Œæ—¥èªŒ</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">LoggingService</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">LoggingServiceImpl</span><span class="p">(),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">AnalyticsService</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">AnalyticsServiceImpl</span><span class="p">(),</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">_registerDataLayer</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ğŸŒ Remote Data Sources</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">AuthRemoteDataSource</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">AuthRemoteDataSourceImpl</span><span class="p">(</span><span class="nl">apiClient:</span><span class="w"> </span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">UserRemoteDataSource</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserRemoteDataSourceImpl</span><span class="p">(</span><span class="nl">apiClient:</span><span class="w"> </span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">ProductRemoteDataSource</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ProductRemoteDataSourceImpl</span><span class="p">(</span><span class="nl">apiClient:</span><span class="w"> </span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ğŸ’¾ Local Data Sources</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">AuthLocalDataSource</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">AuthLocalDataSourceImpl</span><span class="p">(</span>
<span class="w">      </span><span class="nl">localStorage:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">secureStorage:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">UserLocalDataSource</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserLocalDataSourceImpl</span><span class="p">(</span><span class="nl">localStorage:</span><span class="w"> </span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">ProductLocalDataSource</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ProductLocalDataSourceImpl</span><span class="p">(</span><span class="nl">localStorage:</span><span class="w"> </span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ğŸ—ƒï¸ Repositories</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">AuthRepository</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">AuthRepositoryImpl</span><span class="p">(</span>
<span class="w">      </span><span class="nl">remoteDataSource:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">localDataSource:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">networkInfo:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">UserRepository</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserRepositoryImpl</span><span class="p">(</span>
<span class="w">      </span><span class="nl">remoteDataSource:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">localDataSource:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">networkInfo:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">ProductRepository</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ProductRepositoryImpl</span><span class="p">(</span>
<span class="w">      </span><span class="nl">remoteDataSource:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">localDataSource:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">networkInfo:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">_registerDomainLayer</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ğŸ” Authentication Use Cases</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">LoginUseCase</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">LoginUseCase</span><span class="p">(</span>
<span class="w">      </span><span class="nl">repository:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">validationService:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">LogoutUseCase</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">LogoutUseCase</span><span class="p">(</span><span class="nl">repository:</span><span class="w"> </span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">RegisterUseCase</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">RegisterUseCase</span><span class="p">(</span>
<span class="w">      </span><span class="nl">repository:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">validationService:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">RefreshTokenUseCase</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">RefreshTokenUseCase</span><span class="p">(</span><span class="nl">repository:</span><span class="w"> </span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ğŸ‘¤ User Use Cases</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">GetUserProfileUseCase</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">GetUserProfileUseCase</span><span class="p">(</span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">UpdateUserProfileUseCase</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UpdateUserProfileUseCase</span><span class="p">(</span>
<span class="w">      </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="n">getIt</span><span class="o">&lt;</span><span class="n">ValidationService</span><span class="o">&gt;</span><span class="p">(),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">DeleteUserAccountUseCase</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">DeleteUserAccountUseCase</span><span class="p">(</span>
<span class="w">      </span><span class="n">getIt</span><span class="o">&lt;</span><span class="n">UserRepository</span><span class="o">&gt;</span><span class="p">(),</span>
<span class="w">      </span><span class="n">getIt</span><span class="o">&lt;</span><span class="n">AuthRepository</span><span class="o">&gt;</span><span class="p">(),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">SearchUsersUseCase</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SearchUsersUseCase</span><span class="p">(</span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ğŸ›ï¸ Product Use Cases</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">GetProductsUseCase</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">GetProductsUseCase</span><span class="p">(</span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">GetProductDetailUseCase</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">GetProductDetailUseCase</span><span class="p">(</span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">SearchProductsUseCase</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SearchProductsUseCase</span><span class="p">(</span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">_registerPresentationLayer</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ğŸ” Authentication ViewModels</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerFactory</span><span class="o">&lt;</span><span class="n">AuthViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">AuthViewModel</span><span class="p">(</span>
<span class="w">      </span><span class="nl">loginUseCase:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">logoutUseCase:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">registerUseCase:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">refreshTokenUseCase:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ğŸ‘¤ User ViewModels</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerFactory</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserViewModel</span><span class="p">(</span>
<span class="w">      </span><span class="nl">getUserProfileUseCase:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">updateUserProfileUseCase:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">deleteUserAccountUseCase:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerFactory</span><span class="o">&lt;</span><span class="n">UserListViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserListViewModel</span><span class="p">(</span>
<span class="w">      </span><span class="nl">searchUsersUseCase:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ğŸ›ï¸ Product ViewModels</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerFactory</span><span class="o">&lt;</span><span class="n">ProductViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ProductViewModel</span><span class="p">(</span>
<span class="w">      </span><span class="nl">getProductsUseCase:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">getProductDetailUseCase:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">      </span><span class="nl">searchProductsUseCase:</span><span class="w"> </span><span class="n">getIt</span><span class="p">(),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ğŸ¨ UI Services</span>
<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">NavigationService</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">NavigationServiceImpl</span><span class="p">(),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">DialogService</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">DialogServiceImpl</span><span class="p">(),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">SnackBarService</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">SnackBarServiceImpl</span><span class="p">(),</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="n">getIt</span><span class="p">.</span><span class="n">registerLazySingleton</span><span class="o">&lt;</span><span class="n">ThemeService</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">    </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ThemeServiceImpl</span><span class="p">(</span><span class="nl">localStorage:</span><span class="w"> </span><span class="n">getIt</span><span class="p">()),</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ğŸ§¹ æ¸…ç†ä¾è³´ (ç”¨æ–¼æ¸¬è©¦)</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">resetDependencies</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">getIt</span><span class="p">.</span><span class="n">reset</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ”€ ç‹€æ…‹ç®¡ç†ç­–ç•¥</h2>
<h3>Provider ç‹€æ…‹ç®¡ç†å¯¦ä½œ</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ¯ å¤š Provider è¨­å®š</span>
<span class="c1">// ä½ç½®: lib/main.dart</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">WidgetsFlutterBinding</span><span class="p">.</span><span class="n">ensureInitialized</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// é…ç½®ä¾è³´æ³¨å…¥</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">configureDependencies</span><span class="p">();</span>

<span class="w">  </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MultiProvider</span><span class="p">(</span>
<span class="w">      </span><span class="nl">providers:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="c1">// ğŸ” èªè­‰ç‹€æ…‹</span>
<span class="w">        </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">AuthViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">          </span><span class="nl">create:</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getIt</span><span class="o">&lt;</span><span class="n">AuthViewModel</span><span class="o">&gt;</span><span class="p">(),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="c1">// ğŸ‘¤ ä½¿ç”¨è€…ç‹€æ…‹</span>
<span class="w">        </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">          </span><span class="nl">create:</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getIt</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">(),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="c1">// ğŸ›ï¸ ç”¢å“ç‹€æ…‹</span>
<span class="w">        </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">ProductViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">          </span><span class="nl">create:</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getIt</span><span class="o">&lt;</span><span class="n">ProductViewModel</span><span class="o">&gt;</span><span class="p">(),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="c1">// ğŸ¨ ä¸»é¡Œç‹€æ…‹</span>
<span class="w">        </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">ThemeViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">          </span><span class="nl">create:</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getIt</span><span class="o">&lt;</span><span class="n">ThemeViewModel</span><span class="o">&gt;</span><span class="p">(),</span>
<span class="w">        </span><span class="p">),</span>

<span class="w">        </span><span class="c1">// ğŸŒ æ‡‰ç”¨ç¨‹å¼ç‹€æ…‹</span>
<span class="w">        </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">AppViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">          </span><span class="nl">create:</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">getIt</span><span class="o">&lt;</span><span class="n">AppViewModel</span><span class="o">&gt;</span><span class="p">(),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Consumer</span><span class="o">&lt;</span><span class="n">ThemeViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">        </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">themeViewModel</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">            </span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;Flutter MVVM App&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nl">theme:</span><span class="w"> </span><span class="n">themeViewModel</span><span class="p">.</span><span class="n">lightTheme</span><span class="p">,</span>
<span class="w">            </span><span class="nl">darkTheme:</span><span class="w"> </span><span class="n">themeViewModel</span><span class="p">.</span><span class="n">darkTheme</span><span class="p">,</span>
<span class="w">            </span><span class="nl">themeMode:</span><span class="w"> </span><span class="n">themeViewModel</span><span class="p">.</span><span class="n">themeMode</span><span class="p">,</span>
<span class="w">            </span><span class="nl">initialRoute:</span><span class="w"> </span><span class="n">AppRoutes</span><span class="p">.</span><span class="n">splash</span><span class="p">,</span>
<span class="w">            </span><span class="nl">onGenerateRoute:</span><span class="w"> </span><span class="n">AppRouter</span><span class="p">.</span><span class="n">generateRoute</span><span class="p">,</span>
<span class="w">            </span><span class="nl">navigatorKey:</span><span class="w"> </span><span class="n">getIt</span><span class="o">&lt;</span><span class="n">NavigationService</span><span class="o">&gt;</span><span class="p">().</span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="k">return</span><span class="w"> </span><span class="n">AppErrorBoundary</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">Container</span><span class="p">(),</span>
<span class="w">              </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ğŸ¨ ä¸»é¡Œç®¡ç† ViewModel</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ThemeViewModel</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">ThemeService</span><span class="w"> </span><span class="n">_themeService</span><span class="p">;</span>

<span class="w">  </span><span class="n">ThemeViewModel</span><span class="p">({</span><span class="kd">required</span><span class="w"> </span><span class="n">ThemeService</span><span class="w"> </span><span class="n">themeService</span><span class="p">})</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="n">_themeService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">themeService</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_loadThemeMode</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">ThemeMode</span><span class="w"> </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">system</span><span class="p">;</span>
<span class="w">  </span><span class="n">ThemeData</span><span class="o">?</span><span class="w"> </span><span class="n">_customLightTheme</span><span class="p">;</span>
<span class="w">  </span><span class="n">ThemeData</span><span class="o">?</span><span class="w"> </span><span class="n">_customDarkTheme</span><span class="p">;</span>

<span class="w">  </span><span class="n">ThemeMode</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">themeMode</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_themeMode</span><span class="p">;</span>

<span class="w">  </span><span class="n">ThemeData</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">lightTheme</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_customLightTheme</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">AppTheme</span><span class="p">.</span><span class="n">lightTheme</span><span class="p">;</span>
<span class="w">  </span><span class="n">ThemeData</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">darkTheme</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_customDarkTheme</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">AppTheme</span><span class="p">.</span><span class="n">darkTheme</span><span class="p">;</span>

<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">isDarkMode</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">dark</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">isSystemMode</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">system</span><span class="p">;</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_loadThemeMode</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_themeService</span><span class="p">.</span><span class="n">getThemeMode</span><span class="p">();</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setThemeMode</span><span class="p">(</span><span class="n">ThemeMode</span><span class="w"> </span><span class="n">mode</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mode</span><span class="p">;</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">_themeService</span><span class="p">.</span><span class="n">setThemeMode</span><span class="p">(</span><span class="n">mode</span><span class="p">);</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">toggleTheme</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">newMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="w"> </span>
<span class="w">        </span><span class="o">?</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">dark</span><span class="w"> </span>
<span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="p">;</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">setThemeMode</span><span class="p">(</span><span class="n">newMode</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setCustomTheme</span><span class="p">({</span><span class="n">ThemeData</span><span class="o">?</span><span class="w"> </span><span class="n">light</span><span class="p">,</span><span class="w"> </span><span class="n">ThemeData</span><span class="o">?</span><span class="w"> </span><span class="n">dark</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_customLightTheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">light</span><span class="p">;</span>
<span class="w">    </span><span class="n">_customDarkTheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dark</span><span class="p">;</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ğŸŒ æ‡‰ç”¨ç¨‹å¼å…¨åŸŸç‹€æ…‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">AppViewModel</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">NetworkInfo</span><span class="w"> </span><span class="n">_networkInfo</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">AnalyticsService</span><span class="w"> </span><span class="n">_analyticsService</span><span class="p">;</span>

<span class="w">  </span><span class="n">AppViewModel</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="n">NetworkInfo</span><span class="w"> </span><span class="n">networkInfo</span><span class="p">,</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="n">AnalyticsService</span><span class="w"> </span><span class="n">analyticsService</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_networkInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">networkInfo</span><span class="p">,</span>
<span class="w">       </span><span class="n">_analyticsService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">analyticsService</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_initializeApp</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">_isInitialized</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">_isConnected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">_appVersion</span><span class="p">;</span>
<span class="w">  </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_featureFlags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>

<span class="w">  </span><span class="c1">// Getters</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">isInitialized</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_isInitialized</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">isConnected</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_isConnected</span><span class="p">;</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">appVersion</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_appVersion</span><span class="p">;</span>
<span class="w">  </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">featureFlags</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_featureFlags</span><span class="p">;</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_initializeApp</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// è¼‰å…¥æ‡‰ç”¨ç¨‹å¼ç‰ˆæœ¬</span>
<span class="w">      </span><span class="n">_appVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_getAppVersion</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// æª¢æŸ¥ç¶²è·¯é€£ç·š</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_checkConnectivity</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// è¼‰å…¥åŠŸèƒ½é–‹é—œ</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_loadFeatureFlags</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// åˆå§‹åŒ–åˆ†ææœå‹™</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_analyticsService</span><span class="p">.</span><span class="n">initialize</span><span class="p">();</span>

<span class="w">      </span><span class="n">_isInitialized</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">      </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;æ‡‰ç”¨ç¨‹å¼åˆå§‹åŒ–å¤±æ•—: </span><span class="si">$</span><span class="n">error</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_checkConnectivity</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_isConnected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">_networkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// ç›£è½ç¶²è·¯ç‹€æ…‹è®ŠåŒ–</span>
<span class="w">    </span><span class="n">_networkInfo</span><span class="p">.</span><span class="n">onConnectivityChanged</span><span class="p">.</span><span class="n">listen</span><span class="p">((</span><span class="n">isConnected</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_isConnected</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">isConnected</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_isConnected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">isConnected</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// è¨˜éŒ„ç¶²è·¯ç‹€æ…‹è®ŠåŒ–</span>
<span class="w">        </span><span class="n">_analyticsService</span><span class="p">.</span><span class="n">logEvent</span><span class="p">(</span><span class="s1">&#39;network_status_changed&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="s1">&#39;is_connected&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">isConnected</span><span class="p">,</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_getAppVersion</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">packageInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">PackageInfo</span><span class="p">.</span><span class="n">fromPlatform</span><span class="p">();</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;</span><span class="si">${</span><span class="n">packageInfo</span><span class="p">.</span><span class="n">version</span><span class="si">}</span><span class="s1">+</span><span class="si">${</span><span class="n">packageInfo</span><span class="p">.</span><span class="n">buildNumber</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_loadFeatureFlags</span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// é€™è£¡å¯ä»¥å¾é ç«¯é…ç½®æœå‹™è¼‰å…¥åŠŸèƒ½é–‹é—œ</span>
<span class="w">    </span><span class="c1">// ä¾‹å¦‚ Firebase Remote Config</span>
<span class="w">    </span><span class="n">_featureFlags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s1">&#39;new_user_onboarding&#39;</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;dark_mode_enabled&#39;</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;push_notifications&#39;</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;analytics_enabled&#39;</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isFeatureEnabled</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">featureName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">_featureFlags</span><span class="p">[</span><span class="n">featureName</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">updateFeatureFlag</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">featureName</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">enabled</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_featureFlags</span><span class="p">[</span><span class="n">featureName</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">enabled</span><span class="p">;</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>

<span class="w">    </span><span class="n">_analyticsService</span><span class="p">.</span><span class="n">logEvent</span><span class="p">(</span><span class="s1">&#39;feature_flag_changed&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="s1">&#39;feature_name&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">featureName</span><span class="p">,</span>
<span class="w">      </span><span class="s1">&#39;enabled&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">enabled</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3>Riverpod ç‹€æ…‹ç®¡ç†å¯¦ä½œ (æ›¿ä»£æ–¹æ¡ˆ)</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ¯ Riverpod Providers</span>
<span class="c1">// ä½ç½®: lib/presentation/providers/app_providers.dart</span>

<span class="c1">// ğŸ” èªè­‰ç›¸é—œ Providers</span>
<span class="kd">final</span><span class="w"> </span><span class="n">authViewModelProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StateNotifierProvider</span><span class="o">&lt;</span><span class="n">AuthNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">AuthState</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">  </span><span class="p">(</span><span class="n">ref</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">AuthNotifier</span><span class="p">(</span>
<span class="w">    </span><span class="nl">loginUseCase:</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">loginUseCaseProvider</span><span class="p">),</span>
<span class="w">    </span><span class="nl">logoutUseCase:</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">logoutUseCaseProvider</span><span class="p">),</span>
<span class="w">    </span><span class="nl">registerUseCase:</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">registerUseCaseProvider</span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>

<span class="kd">final</span><span class="w"> </span><span class="n">currentUserProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Provider</span><span class="o">&lt;</span><span class="n">User</span><span class="o">?&gt;</span><span class="p">((</span><span class="n">ref</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">authState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">watch</span><span class="p">(</span><span class="n">authViewModelProvider</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">authState</span><span class="p">.</span><span class="n">maybeWhen</span><span class="p">(</span>
<span class="w">    </span><span class="nl">authenticated:</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">user</span><span class="p">,</span>
<span class="w">    </span><span class="nl">orElse:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// ğŸ‘¤ ä½¿ç”¨è€…ç›¸é—œ Providers</span>
<span class="kd">final</span><span class="w"> </span><span class="n">userViewModelProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StateNotifierProvider</span><span class="p">.</span><span class="n">family</span><span class="o">&lt;</span><span class="n">UserNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">UserState</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">  </span><span class="p">(</span><span class="n">ref</span><span class="p">,</span><span class="w"> </span><span class="n">userId</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserNotifier</span><span class="p">(</span>
<span class="w">    </span><span class="nl">userId:</span><span class="w"> </span><span class="n">userId</span><span class="p">,</span>
<span class="w">    </span><span class="nl">getUserProfileUseCase:</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">getUserProfileUseCaseProvider</span><span class="p">),</span>
<span class="w">    </span><span class="nl">updateUserProfileUseCase:</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">updateUserProfileUseCaseProvider</span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>

<span class="kd">final</span><span class="w"> </span><span class="n">userListViewModelProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StateNotifierProvider</span><span class="o">&lt;</span><span class="n">UserListNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">UserListState</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">  </span><span class="p">(</span><span class="n">ref</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">UserListNotifier</span><span class="p">(</span>
<span class="w">    </span><span class="nl">searchUsersUseCase:</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">searchUsersUseCaseProvider</span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>

<span class="c1">// ğŸ›ï¸ ç”¢å“ç›¸é—œ Providers</span>
<span class="kd">final</span><span class="w"> </span><span class="n">productListProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StateNotifierProvider</span><span class="o">&lt;</span><span class="n">ProductListNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">ProductListState</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">  </span><span class="p">(</span><span class="n">ref</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ProductListNotifier</span><span class="p">(</span>
<span class="w">    </span><span class="nl">getProductsUseCase:</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">getProductsUseCaseProvider</span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>

<span class="kd">final</span><span class="w"> </span><span class="n">productDetailProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StateNotifierProvider</span><span class="p">.</span><span class="n">family</span><span class="o">&lt;</span><span class="n">ProductDetailNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">ProductDetailState</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">  </span><span class="p">(</span><span class="n">ref</span><span class="p">,</span><span class="w"> </span><span class="n">productId</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ProductDetailNotifier</span><span class="p">(</span>
<span class="w">    </span><span class="nl">productId:</span><span class="w"> </span><span class="n">productId</span><span class="p">,</span>
<span class="w">    </span><span class="nl">getProductDetailUseCase:</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">getProductDetailUseCaseProvider</span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>

<span class="c1">// ğŸ¨ ä¸»é¡Œ Provider</span>
<span class="kd">final</span><span class="w"> </span><span class="n">themeProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StateNotifierProvider</span><span class="o">&lt;</span><span class="n">ThemeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">ThemeState</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">  </span><span class="p">(</span><span class="n">ref</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">ThemeNotifier</span><span class="p">(</span>
<span class="w">    </span><span class="nl">themeService:</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">themeServiceProvider</span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>

<span class="c1">// ğŸŒ æ‡‰ç”¨ç¨‹å¼ç‹€æ…‹ Provider</span>
<span class="kd">final</span><span class="w"> </span><span class="n">appStateProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StateNotifierProvider</span><span class="o">&lt;</span><span class="n">AppStateNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">AppState</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">  </span><span class="p">(</span><span class="n">ref</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">AppStateNotifier</span><span class="p">(</span>
<span class="w">    </span><span class="nl">networkInfo:</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">networkInfoProvider</span><span class="p">),</span>
<span class="w">    </span><span class="nl">analyticsService:</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">analyticsServiceProvider</span><span class="p">),</span>
<span class="w">  </span><span class="p">),</span>
<span class="p">);</span>

<span class="c1">// ä½¿ç”¨ç¯„ä¾‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">MyRiverpodApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ConsumerWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">WidgetRef</span><span class="w"> </span><span class="n">ref</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">themeState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">watch</span><span class="p">(</span><span class="n">themeProvider</span><span class="p">);</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">appState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">watch</span><span class="p">(</span><span class="n">appStateProvider</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">appState</span><span class="p">.</span><span class="n">isInitialized</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">        </span><span class="nl">home:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">          </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">CircularProgressIndicator</span><span class="p">(),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">      </span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;Riverpod MVVM App&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">theme:</span><span class="w"> </span><span class="n">themeState</span><span class="p">.</span><span class="n">lightTheme</span><span class="p">,</span>
<span class="w">      </span><span class="nl">darkTheme:</span><span class="w"> </span><span class="n">themeState</span><span class="p">.</span><span class="n">darkTheme</span><span class="p">,</span>
<span class="w">      </span><span class="nl">themeMode:</span><span class="w"> </span><span class="n">themeState</span><span class="p">.</span><span class="n">themeMode</span><span class="p">,</span>
<span class="w">      </span><span class="nl">initialRoute:</span><span class="w"> </span><span class="n">AppRoutes</span><span class="p">.</span><span class="n">splash</span><span class="p">,</span>
<span class="w">      </span><span class="nl">onGenerateRoute:</span><span class="w"> </span><span class="n">AppRouter</span><span class="p">.</span><span class="n">generateRoute</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ§© éŒ¯èª¤è™•ç†èˆ‡ç•°å¸¸ç®¡ç†</h2>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸš¨ éŒ¯èª¤è™•ç†ç³»çµ±</span>
<span class="c1">// ä½ç½®: lib/core/errors/</span>

<span class="c1">// åŸºç¤éŒ¯èª¤é¡åˆ¥</span>
<span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Failure</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="o">?</span><span class="w"> </span><span class="n">code</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">dynamic</span><span class="w"> </span><span class="n">originalError</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Failure</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">message</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">code</span><span class="p">,</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="n">originalError</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">toString</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;Failure(message: </span><span class="si">$</span><span class="n">message</span><span class="s1">, code: </span><span class="si">$</span><span class="n">code</span><span class="s1">)&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// å…·é«”éŒ¯èª¤é¡å‹</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ServerFailure</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Failure</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">ServerFailure</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="kt">int</span><span class="o">?</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="w"> </span><span class="n">originalError</span><span class="p">})</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">message:</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="nl">code:</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="nl">originalError:</span><span class="w"> </span><span class="n">originalError</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">NetworkFailure</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Failure</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">NetworkFailure</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="kt">int</span><span class="o">?</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="w"> </span><span class="n">originalError</span><span class="p">})</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">message:</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="nl">code:</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="nl">originalError:</span><span class="w"> </span><span class="n">originalError</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">ValidationFailure</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Failure</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">ValidationFailure</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="kt">int</span><span class="o">?</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="w"> </span><span class="n">originalError</span><span class="p">})</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">message:</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="nl">code:</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="nl">originalError:</span><span class="w"> </span><span class="n">originalError</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">AuthenticationFailure</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Failure</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">AuthenticationFailure</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="kt">int</span><span class="o">?</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="w"> </span><span class="n">originalError</span><span class="p">})</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">message:</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="nl">code:</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="nl">originalError:</span><span class="w"> </span><span class="n">originalError</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">AuthorizationFailure</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Failure</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">AuthorizationFailure</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="kt">int</span><span class="o">?</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="w"> </span><span class="n">originalError</span><span class="p">})</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">message:</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="nl">code:</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="nl">originalError:</span><span class="w"> </span><span class="n">originalError</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">NotFoundFailure</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Failure</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">NotFoundFailure</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="kt">int</span><span class="o">?</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="w"> </span><span class="n">originalError</span><span class="p">})</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">message:</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="nl">code:</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="nl">originalError:</span><span class="w"> </span><span class="n">originalError</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">CacheFailure</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Failure</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">CacheFailure</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="kt">int</span><span class="o">?</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">dynamic</span><span class="w"> </span><span class="n">originalError</span><span class="p">})</span>
<span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">message:</span><span class="w"> </span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="nl">code:</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="nl">originalError:</span><span class="w"> </span><span class="n">originalError</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ç•°å¸¸é¡åˆ¥</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ServerException</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="o">?</span><span class="w"> </span><span class="n">statusCode</span><span class="p">;</span>

<span class="w">  </span><span class="n">ServerException</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="n">statusCode</span><span class="p">});</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">toString</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;ServerException: </span><span class="si">$</span><span class="n">message</span><span class="s1"> (Code: </span><span class="si">$</span><span class="n">statusCode</span><span class="s1">)&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">NetworkException</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">;</span>

<span class="w">  </span><span class="n">NetworkException</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">message</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">toString</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;NetworkException: </span><span class="si">$</span><span class="n">message</span><span class="s1">&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">CacheException</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">;</span>

<span class="w">  </span><span class="n">CacheException</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">message</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">toString</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;CacheException: </span><span class="si">$</span><span class="n">message</span><span class="s1">&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">ValidationException</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">message</span><span class="p">;</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;?</span><span class="w"> </span><span class="n">fieldErrors</span><span class="p">;</span>

<span class="w">  </span><span class="n">ValidationException</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="n">fieldErrors</span><span class="p">});</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">String</span><span class="w"> </span><span class="n">toString</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;ValidationException: </span><span class="si">$</span><span class="n">message</span><span class="s1">&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// éŒ¯èª¤è™•ç†å™¨</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">ErrorHandler</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Failure</span><span class="w"> </span><span class="n">handleError</span><span class="p">(</span><span class="kt">dynamic</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">ServerException</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">ServerFailure</span><span class="p">(</span>
<span class="w">        </span><span class="n">error</span><span class="p">.</span><span class="n">message</span><span class="p">,</span>
<span class="w">        </span><span class="nl">code:</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="n">statusCode</span><span class="p">,</span>
<span class="w">        </span><span class="nl">originalError:</span><span class="w"> </span><span class="n">error</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">NetworkException</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">NetworkFailure</span><span class="p">(</span>
<span class="w">        </span><span class="n">error</span><span class="p">.</span><span class="n">message</span><span class="p">,</span>
<span class="w">        </span><span class="nl">originalError:</span><span class="w"> </span><span class="n">error</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">CacheException</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">CacheFailure</span><span class="p">(</span>
<span class="w">        </span><span class="n">error</span><span class="p">.</span><span class="n">message</span><span class="p">,</span>
<span class="w">        </span><span class="nl">originalError:</span><span class="w"> </span><span class="n">error</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">ValidationException</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">ValidationFailure</span><span class="p">(</span>
<span class="w">        </span><span class="n">error</span><span class="p">.</span><span class="n">message</span><span class="p">,</span>
<span class="w">        </span><span class="nl">originalError:</span><span class="w"> </span><span class="n">error</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">DioError</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">_handleDioError</span><span class="p">(</span><span class="n">error</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">ServerFailure</span><span class="p">(</span>
<span class="w">        </span><span class="s1">&#39;æœªçŸ¥éŒ¯èª¤: </span><span class="si">${</span><span class="n">error</span><span class="p">.</span><span class="n">toString</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nl">originalError:</span><span class="w"> </span><span class="n">error</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Failure</span><span class="w"> </span><span class="n">_handleDioError</span><span class="p">(</span><span class="n">DioError</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">.</span><span class="n">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">DioErrorType</span><span class="p">.</span><span class="nl">connectionTimeout:</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">DioErrorType</span><span class="p">.</span><span class="nl">sendTimeout:</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">DioErrorType</span><span class="p">.</span><span class="nl">receiveTimeout:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">NetworkFailure</span><span class="p">(</span><span class="s1">&#39;é€£ç·šé€¾æ™‚ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·š&#39;</span><span class="p">);</span>

<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">DioErrorType</span><span class="p">.</span><span class="nl">badResponse:</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">statusCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="n">response</span><span class="o">?</span><span class="p">.</span><span class="n">statusCode</span><span class="p">;</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">error</span><span class="p">.</span><span class="n">response</span><span class="o">?</span><span class="p">.</span><span class="n">data</span><span class="o">?</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;ä¼ºæœå™¨éŒ¯èª¤&#39;</span><span class="p">;</span>

<span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">statusCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">case</span><span class="w"> </span><span class="m">400</span><span class="o">:</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ValidationFailure</span><span class="p">(</span><span class="s1">&#39;è«‹æ±‚åƒæ•¸éŒ¯èª¤: </span><span class="si">$</span><span class="n">message</span><span class="s1">&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">code:</span><span class="w"> </span><span class="n">statusCode</span><span class="p">);</span>
<span class="w">          </span><span class="k">case</span><span class="w"> </span><span class="m">401</span><span class="o">:</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">AuthenticationFailure</span><span class="p">(</span><span class="s1">&#39;èº«ä»½é©—è­‰å¤±æ•—&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">code:</span><span class="w"> </span><span class="n">statusCode</span><span class="p">);</span>
<span class="w">          </span><span class="k">case</span><span class="w"> </span><span class="m">403</span><span class="o">:</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">AuthorizationFailure</span><span class="p">(</span><span class="s1">&#39;æ¬Šé™ä¸è¶³&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">code:</span><span class="w"> </span><span class="n">statusCode</span><span class="p">);</span>
<span class="w">          </span><span class="k">case</span><span class="w"> </span><span class="m">404</span><span class="o">:</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">NotFoundFailure</span><span class="p">(</span><span class="s1">&#39;è³‡æºæœªæ‰¾åˆ°&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">code:</span><span class="w"> </span><span class="n">statusCode</span><span class="p">);</span>
<span class="w">          </span><span class="k">case</span><span class="w"> </span><span class="m">500</span><span class="o">:</span>
<span class="w">          </span><span class="k">default</span><span class="o">:</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ServerFailure</span><span class="p">(</span><span class="s1">&#39;ä¼ºæœå™¨éŒ¯èª¤: </span><span class="si">$</span><span class="n">message</span><span class="s1">&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">code:</span><span class="w"> </span><span class="n">statusCode</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">DioErrorType</span><span class="p">.</span><span class="nl">cancel:</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">NetworkFailure</span><span class="p">(</span><span class="s1">&#39;è«‹æ±‚å·²å–æ¶ˆ&#39;</span><span class="p">);</span>

<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">DioErrorType</span><span class="p">.</span><span class="nl">unknown:</span>
<span class="w">      </span><span class="k">default</span><span class="o">:</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="p">.</span><span class="n">error</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">SocketException</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="k">return</span><span class="w"> </span><span class="n">NetworkFailure</span><span class="p">(</span><span class="s1">&#39;ç¶²è·¯é€£ç·šå¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯è¨­å®š&#39;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ServerFailure</span><span class="p">(</span><span class="s1">&#39;æœªçŸ¥ç¶²è·¯éŒ¯èª¤: </span><span class="si">${</span><span class="n">error</span><span class="p">.</span><span class="n">message</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// å…¨åŸŸéŒ¯èª¤é‚Šç•Œ Widget</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">AppErrorBoundary</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>

<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">AppErrorBoundary</span><span class="p">({</span><span class="n">Key</span><span class="o">?</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">child</span><span class="p">})</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">super</span><span class="p">(</span><span class="nl">key:</span><span class="w"> </span><span class="n">key</span><span class="p">);</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">State</span><span class="o">&lt;</span><span class="n">AppErrorBoundary</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_AppErrorBoundaryState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_AppErrorBoundaryState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">AppErrorBoundary</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">ErrorWidgetBuilder</span><span class="o">?</span><span class="w"> </span><span class="n">_oldErrorWidgetBuilder</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">initState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">initState</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// è¨­å®šå…¨åŸŸéŒ¯èª¤è™•ç†</span>
<span class="w">    </span><span class="n">_oldErrorWidgetBuilder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ErrorWidget</span><span class="p">.</span><span class="n">builder</span><span class="p">;</span>
<span class="w">    </span><span class="n">ErrorWidget</span><span class="p">.</span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">FlutterErrorDetails</span><span class="w"> </span><span class="n">details</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// è¨˜éŒ„éŒ¯èª¤</span>
<span class="w">      </span><span class="n">getIt</span><span class="o">&lt;</span><span class="n">LoggingService</span><span class="o">&gt;</span><span class="p">().</span><span class="n">logError</span><span class="p">(</span>
<span class="w">        </span><span class="n">details</span><span class="p">.</span><span class="n">exception</span><span class="p">,</span>
<span class="w">        </span><span class="n">details</span><span class="p">.</span><span class="n">stack</span><span class="p">,</span>
<span class="w">        </span><span class="n">details</span><span class="p">.</span><span class="n">context</span><span class="o">?</span><span class="p">.</span><span class="n">toString</span><span class="p">(),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// å›å‚³è‡ªè¨‚éŒ¯èª¤ Widget</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">_buildErrorWidget</span><span class="p">(</span><span class="n">details</span><span class="p">);</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="c1">// è¨­å®š Flutter éŒ¯èª¤è™•ç†</span>
<span class="w">    </span><span class="n">FlutterError</span><span class="p">.</span><span class="n">onError</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">FlutterErrorDetails</span><span class="w"> </span><span class="n">details</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">getIt</span><span class="o">&lt;</span><span class="n">LoggingService</span><span class="o">&gt;</span><span class="p">().</span><span class="n">logError</span><span class="p">(</span>
<span class="w">        </span><span class="n">details</span><span class="p">.</span><span class="n">exception</span><span class="p">,</span>
<span class="w">        </span><span class="n">details</span><span class="p">.</span><span class="n">stack</span><span class="p">,</span>
<span class="w">        </span><span class="n">details</span><span class="p">.</span><span class="n">context</span><span class="o">?</span><span class="p">.</span><span class="n">toString</span><span class="p">(),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// åœ¨ debug æ¨¡å¼ä¸‹é¡¯ç¤ºè©³ç´°éŒ¯èª¤</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">kDebugMode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">FlutterError</span><span class="p">.</span><span class="n">presentError</span><span class="p">(</span><span class="n">details</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">dispose</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// æ¢å¾©åŸå§‹éŒ¯èª¤è™•ç†å™¨</span>
<span class="w">    </span><span class="n">ErrorWidget</span><span class="p">.</span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_oldErrorWidgetBuilder</span><span class="o">!</span><span class="p">;</span>
<span class="w">    </span><span class="k">super</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">_buildErrorWidget</span><span class="p">(</span><span class="n">FlutterErrorDetails</span><span class="w"> </span><span class="n">details</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Material</span><span class="p">(</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">16</span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">          </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">          </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Icon</span><span class="p">(</span>
<span class="w">              </span><span class="n">Icons</span><span class="p">.</span><span class="n">error_outline</span><span class="p">,</span>
<span class="w">              </span><span class="nl">size:</span><span class="w"> </span><span class="m">48</span><span class="p">,</span>
<span class="w">              </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">            </span><span class="n">Text</span><span class="p">(</span>
<span class="w">              </span><span class="s1">&#39;æ‡‰ç”¨ç¨‹å¼ç™¼ç”ŸéŒ¯èª¤&#39;</span><span class="p">,</span>
<span class="w">              </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">,</span>
<span class="w">                </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">kDebugMode</span><span class="p">)</span><span class="w"> </span><span class="p">...[</span>
<span class="w">              </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                </span><span class="n">details</span><span class="p">.</span><span class="n">exception</span><span class="p">.</span><span class="n">toString</span><span class="p">(),</span>
<span class="w">                </span><span class="nl">textAlign:</span><span class="w"> </span><span class="n">TextAlign</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">12</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">              </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// é‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼</span>
<span class="w">                </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;é‡æ–°å•Ÿå‹•&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">widget</span><span class="p">.</span><span class="n">child</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h2>ğŸ§ª æ¸¬è©¦åŸºç¤è¨­å®š</h2>
<div class="codehilite"><pre><span></span><code><span class="c1">// ğŸ§ª æ¸¬è©¦åŸºç¤è¨­å®š</span>
<span class="c1">// ä½ç½®: test/helpers/test_helper.dart</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter_test/flutter_test.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:mockito/mockito.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:mockito/annotations.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:provider/provider.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:network_image_mock/network_image_mock.dart&#39;</span><span class="p">;</span>

<span class="c1">// æ¸¬è©¦è¼”åŠ©å·¥å…·</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">TestHelper</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Mock è³‡æ–™</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">createMockUser</span><span class="p">({</span>
<span class="w">    </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">id</span><span class="p">,</span>
<span class="w">    </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">name</span><span class="p">,</span>
<span class="w">    </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">email</span><span class="p">,</span>
<span class="w">    </span><span class="n">UserStatus</span><span class="o">?</span><span class="w"> </span><span class="n">status</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">User</span><span class="p">(</span>
<span class="w">      </span><span class="nl">id:</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;test_user_id&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">name:</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;Test User&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">email:</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;test@example.com&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">status:</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="n">active</span><span class="p">,</span>
<span class="w">      </span><span class="nl">lastLoginAt:</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">now</span><span class="p">(),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createMockUserList</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">createMockUser</span><span class="p">(</span>
<span class="w">      </span><span class="nl">id:</span><span class="w"> </span><span class="s1">&#39;user_</span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;User </span><span class="si">$</span><span class="n">index</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;user</span><span class="si">$</span><span class="n">index</span><span class="s1">@example.com&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">AuthToken</span><span class="w"> </span><span class="n">createMockAuthToken</span><span class="p">({</span>
<span class="w">    </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">token</span><span class="p">,</span>
<span class="w">    </span><span class="n">DateTime</span><span class="o">?</span><span class="w"> </span><span class="n">expiresAt</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">AuthToken</span><span class="p">(</span>
<span class="w">      </span><span class="nl">accessToken:</span><span class="w"> </span><span class="n">token</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;mock_access_token&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">refreshToken:</span><span class="w"> </span><span class="s1">&#39;mock_refresh_token&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">tokenType:</span><span class="w"> </span><span class="s1">&#39;Bearer&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">expiresAt:</span><span class="w"> </span><span class="n">expiresAt</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">add</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">hours:</span><span class="w"> </span><span class="m">1</span><span class="p">)),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">ApiResponse</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createMockApiResponse</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">({</span>
<span class="w">    </span><span class="kd">required</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">,</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">statusCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">200</span><span class="p">,</span>
<span class="w">    </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">error</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">success</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">success</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">statusCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">ApiResponse</span><span class="p">.</span><span class="n">failure</span><span class="p">(</span><span class="n">error</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;Mock error&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">statusCode</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ¸¬è©¦ç”¨çš„ Widget åŒ…è£å™¨</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">child</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">ThemeData</span><span class="o">?</span><span class="w"> </span><span class="n">theme</span><span class="p">,</span>
<span class="w">    </span><span class="n">Locale</span><span class="o">?</span><span class="w"> </span><span class="n">locale</span><span class="p">,</span>
<span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Locale</span><span class="o">&gt;?</span><span class="w"> </span><span class="n">supportedLocales</span><span class="p">,</span>
<span class="w">    </span><span class="n">NavigatorObserver</span><span class="o">?</span><span class="w"> </span><span class="n">navigatorObserver</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">      </span><span class="nl">theme:</span><span class="w"> </span><span class="n">theme</span><span class="p">,</span>
<span class="w">      </span><span class="nl">locale:</span><span class="w"> </span><span class="n">locale</span><span class="p">,</span>
<span class="w">      </span><span class="nl">supportedLocales:</span><span class="w"> </span><span class="n">supportedLocales</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="p">[</span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="p">)],</span>
<span class="w">      </span><span class="nl">navigatorObservers:</span><span class="w"> </span><span class="n">navigatorObserver</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">[</span><span class="n">navigatorObserver</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">      </span><span class="nl">home:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span><span class="nl">body:</span><span class="w"> </span><span class="n">child</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">wrapWithProviders</span><span class="p">(</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">child</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">UserViewModel</span><span class="o">?</span><span class="w"> </span><span class="n">userViewModel</span><span class="p">,</span>
<span class="w">    </span><span class="n">AuthViewModel</span><span class="o">?</span><span class="w"> </span><span class="n">authViewModel</span><span class="p">,</span>
<span class="w">    </span><span class="n">ThemeViewModel</span><span class="o">?</span><span class="w"> </span><span class="n">themeViewModel</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MultiProvider</span><span class="p">(</span>
<span class="w">      </span><span class="nl">providers:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">          </span><span class="nl">create:</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">userViewModel</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">MockUserViewModel</span><span class="p">(),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">AuthViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">          </span><span class="nl">create:</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">authViewModel</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">MockAuthViewModel</span><span class="p">(),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">ThemeViewModel</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">          </span><span class="nl">create:</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">themeViewModel</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="n">MockThemeViewModel</span><span class="p">(),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">wrapWithMaterialApp</span><span class="p">(</span><span class="n">child</span><span class="p">),</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">wrapWithMediaQuery</span><span class="p">(</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">child</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">400</span><span class="p">,</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">800</span><span class="p">,</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">devicePixelRatio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1.0</span><span class="p">,</span>
<span class="w">    </span><span class="n">Brightness</span><span class="w"> </span><span class="n">platformBrightness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">light</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MediaQuery</span><span class="p">(</span>
<span class="w">      </span><span class="nl">data:</span><span class="w"> </span><span class="n">MediaQueryData</span><span class="p">(</span>
<span class="w">        </span><span class="nl">size:</span><span class="w"> </span><span class="n">Size</span><span class="p">(</span><span class="n">width</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">),</span>
<span class="w">        </span><span class="nl">devicePixelRatio:</span><span class="w"> </span><span class="n">devicePixelRatio</span><span class="p">,</span>
<span class="w">        </span><span class="nl">platformBrightness:</span><span class="w"> </span><span class="n">platformBrightness</span><span class="p">,</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">      </span><span class="nl">child:</span><span class="w"> </span><span class="n">child</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// éåŒæ­¥æ“ä½œè¼”åŠ©</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pumpAndSettle</span><span class="p">(</span>
<span class="w">    </span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Duration</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">10</span><span class="p">),</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">timeout</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pumpFrames</span><span class="p">(</span>
<span class="w">    </span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">,</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">frames</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Duration</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">milliseconds:</span><span class="w"> </span><span class="m">16</span><span class="p">),</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">frames</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pump</span><span class="p">(</span><span class="n">duration</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ‰‹å‹¢æ¨¡æ“¬</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">tapAndSettle</span><span class="p">(</span>
<span class="w">    </span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">,</span>
<span class="w">    </span><span class="n">Finder</span><span class="w"> </span><span class="n">finder</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">warnIfMissed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">tap</span><span class="p">(</span><span class="n">finder</span><span class="p">,</span><span class="w"> </span><span class="nl">warnIfMissed:</span><span class="w"> </span><span class="n">warnIfMissed</span><span class="p">);</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">longPressAndSettle</span><span class="p">(</span>
<span class="w">    </span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">,</span>
<span class="w">    </span><span class="n">Finder</span><span class="w"> </span><span class="n">finder</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">warnIfMissed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">longPress</span><span class="p">(</span><span class="n">finder</span><span class="p">,</span><span class="w"> </span><span class="nl">warnIfMissed:</span><span class="w"> </span><span class="n">warnIfMissed</span><span class="p">);</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dragAndSettle</span><span class="p">(</span>
<span class="w">    </span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">,</span>
<span class="w">    </span><span class="n">Finder</span><span class="w"> </span><span class="n">finder</span><span class="p">,</span>
<span class="w">    </span><span class="n">Offset</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">warnIfMissed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">drag</span><span class="p">(</span><span class="n">finder</span><span class="p">,</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="nl">warnIfMissed:</span><span class="w"> </span><span class="n">warnIfMissed</span><span class="p">);</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// è¼¸å…¥æ¨¡æ“¬</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">enterTextAndSettle</span><span class="p">(</span>
<span class="w">    </span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">,</span>
<span class="w">    </span><span class="n">Finder</span><span class="w"> </span><span class="n">finder</span><span class="p">,</span>
<span class="w">    </span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">,</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">enterText</span><span class="p">(</span><span class="n">finder</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="p">);</span>
<span class="w">    </span><span class="kd">await</span><span class="w"> </span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// ç¶²è·¯åœ–ç‰‡æ¨¡æ“¬</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mockNetworkImages</span><span class="p">(</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="kt">Function</span><span class="p">()</span><span class="w"> </span><span class="n">testCode</span><span class="p">,</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">mockNetworkImagesFor</span><span class="p">(</span><span class="n">testCode</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// é©—è­‰è¼”åŠ©</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">Finder</span><span class="w"> </span><span class="n">finder</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">reason</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">expect</span><span class="p">(</span><span class="n">finder</span><span class="p">,</span><span class="w"> </span><span class="n">findsOneWidget</span><span class="p">,</span><span class="w"> </span><span class="nl">reason:</span><span class="w"> </span><span class="n">reason</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">expectWidgetNotExists</span><span class="p">(</span><span class="n">Finder</span><span class="w"> </span><span class="n">finder</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">reason</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">expect</span><span class="p">(</span><span class="n">finder</span><span class="p">,</span><span class="w"> </span><span class="n">findsNothing</span><span class="p">,</span><span class="w"> </span><span class="nl">reason:</span><span class="w"> </span><span class="n">reason</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">expectWidgetCount</span><span class="p">(</span><span class="n">Finder</span><span class="w"> </span><span class="n">finder</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">reason</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">expect</span><span class="p">(</span><span class="n">finder</span><span class="p">,</span><span class="w"> </span><span class="n">findsNWidgets</span><span class="p">(</span><span class="n">count</span><span class="p">),</span><span class="w"> </span><span class="nl">reason:</span><span class="w"> </span><span class="n">reason</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">expectTextExists</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">reason</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">expect</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">text</span><span class="p">),</span><span class="w"> </span><span class="n">findsOneWidget</span><span class="p">,</span><span class="w"> </span><span class="nl">reason:</span><span class="w"> </span><span class="n">reason</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ¸¬è©¦è³‡æ–™é‡ç½®</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">resetMockData</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// é‡ç½®æ‰€æœ‰éœæ…‹æ¸¬è©¦è³‡æ–™</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ¸¬è©¦ç’°å¢ƒè¨­å®š</span>
<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">setUpTestEnvironment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// è¨­å®šæ¸¬è©¦ç’°å¢ƒè®Šæ•¸</span>
<span class="w">    </span><span class="n">TestWidgetsFlutterBinding</span><span class="p">.</span><span class="n">ensureInitialized</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">tearDownTestEnvironment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// æ¸…ç†æ¸¬è©¦ç’°å¢ƒ</span>
<span class="w">    </span><span class="n">resetMockData</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Mock é¡åˆ¥ç”Ÿæˆå™¨è¨»è§£</span>
<span class="nd">@GenerateMocks</span><span class="p">([</span>
<span class="w">  </span><span class="n">UserRepository</span><span class="p">,</span>
<span class="w">  </span><span class="n">UserRemoteDataSource</span><span class="p">,</span>
<span class="w">  </span><span class="n">UserLocalDataSource</span><span class="p">,</span>
<span class="w">  </span><span class="n">AuthRepository</span><span class="p">,</span>
<span class="w">  </span><span class="n">AuthRemoteDataSource</span><span class="p">,</span>
<span class="w">  </span><span class="n">AuthLocalDataSource</span><span class="p">,</span>
<span class="w">  </span><span class="n">NetworkInfo</span><span class="p">,</span>
<span class="w">  </span><span class="n">ValidationService</span><span class="p">,</span>
<span class="w">  </span><span class="n">LocalStorage</span><span class="p">,</span>
<span class="w">  </span><span class="n">ApiClient</span><span class="p">,</span>
<span class="w">  </span><span class="n">AnalyticsService</span><span class="p">,</span>
<span class="w">  </span><span class="n">LoggingService</span><span class="p">,</span>
<span class="p">])</span>
<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="c1">// æ‰‹å‹• Mock é¡åˆ¥ (è¤‡é›œè¡Œç‚ºæ¨¡æ“¬)</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">MockUserViewModel</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Mock</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">UserViewModel</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">User</span><span class="o">?</span><span class="w"> </span><span class="n">user</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isUpdating</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">hasUser</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setMockState</span><span class="p">({</span>
<span class="w">    </span><span class="n">User</span><span class="o">?</span><span class="w"> </span><span class="n">mockUser</span><span class="p">,</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">mockIsLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">mockError</span><span class="p">,</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">mockIsUpdating</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mockUser</span><span class="p">;</span>
<span class="w">    </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mockIsLoading</span><span class="p">;</span>
<span class="w">    </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mockError</span><span class="p">;</span>
<span class="w">    </span><span class="n">isUpdating</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mockIsUpdating</span><span class="p">;</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MockAuthViewModel</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Mock</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">AuthViewModel</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">User</span><span class="o">?</span><span class="w"> </span><span class="n">currentUser</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isAuthenticated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">;</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setMockAuthState</span><span class="p">({</span>
<span class="w">    </span><span class="n">User</span><span class="o">?</span><span class="w"> </span><span class="n">mockUser</span><span class="p">,</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">mockIsAuthenticated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">mockIsLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="n">mockError</span><span class="p">,</span>
<span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">currentUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mockUser</span><span class="p">;</span>
<span class="w">    </span><span class="n">isAuthenticated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mockIsAuthenticated</span><span class="p">;</span>
<span class="w">    </span><span class="n">isLoading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mockIsLoading</span><span class="p">;</span>
<span class="w">    </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mockError</span><span class="p">;</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MockThemeViewModel</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Mock</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ThemeViewModel</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="n">ThemeMode</span><span class="w"> </span><span class="n">themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="p">;</span>

<span class="w">  </span><span class="nd">@override</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">isDarkMode</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">themeMode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">dark</span><span class="p">;</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">setMockTheme</span><span class="p">(</span><span class="n">ThemeMode</span><span class="w"> </span><span class="n">mode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mode</span><span class="p">;</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ”¬ å–®å…ƒæ¸¬è©¦è¨­è¨ˆ</h2>
<h3>UseCase æ¸¬è©¦ç¯„ä¾‹</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ä½ç½®: test/unit/domain/usecases/get_user_profile_usecase_test.dart</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter_test/flutter_test.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:mockito/mockito.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:dartz/dartz.dart&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;../../../helpers/test_helper.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;../../../helpers/test_helper.mocks.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">GetUserProfileUseCase</span><span class="w"> </span><span class="n">useCase</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">MockUserRepository</span><span class="w"> </span><span class="n">mockRepository</span><span class="p">;</span>

<span class="w">  </span><span class="n">setUp</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">setUpTestEnvironment</span><span class="p">();</span>
<span class="w">    </span><span class="n">mockRepository</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MockUserRepository</span><span class="p">();</span>
<span class="w">    </span><span class="n">useCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GetUserProfileUseCase</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">tearDown</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tearDownTestEnvironment</span><span class="p">();</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;GetUserProfileUseCase&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">testUserId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;test_user_id&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">(</span><span class="nl">id:</span><span class="w"> </span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should return User when repository call is successful&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">testUser</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">useCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">Right</span><span class="p">(</span><span class="n">testUser</span><span class="p">)));</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">));</span>
<span class="w">      </span><span class="n">verifyNoMoreInteractions</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should return NotFoundFailure when user does not exist&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">useCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">Left</span><span class="p">(</span><span class="n">NotFoundFailure</span><span class="p">(</span><span class="s1">&#39;æ‰¾ä¸åˆ°æŒ‡å®šçš„ä½¿ç”¨è€…&#39;</span><span class="p">))));</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">));</span>
<span class="w">      </span><span class="n">verifyNoMoreInteractions</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should return ValidationFailure when userId is empty&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">useCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">Left</span><span class="p">(</span><span class="n">ValidationFailure</span><span class="p">(</span><span class="s1">&#39;ä½¿ç”¨è€… ID ä¸èƒ½ç‚ºç©º&#39;</span><span class="p">))));</span>
<span class="w">      </span><span class="n">verifyNever</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">any</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should return ServerFailure when repository throws exception&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenThrow</span><span class="p">(</span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;Database connection failed&#39;</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">useCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">isLeft</span><span class="p">(),</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">      </span><span class="n">result</span><span class="p">.</span><span class="n">fold</span><span class="p">(</span>
<span class="w">        </span><span class="p">(</span><span class="n">failure</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="n">expect</span><span class="p">(</span><span class="n">failure</span><span class="p">,</span><span class="w"> </span><span class="n">isA</span><span class="o">&lt;</span><span class="n">ServerFailure</span><span class="o">&gt;</span><span class="p">());</span>
<span class="w">          </span><span class="n">expect</span><span class="p">(</span><span class="n">failure</span><span class="p">.</span><span class="n">message</span><span class="p">,</span><span class="w"> </span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;å–å¾—ä½¿ç”¨è€…è³‡æ–™å¤±æ•—&#39;</span><span class="p">));</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">fail</span><span class="p">(</span><span class="s1">&#39;Should return failure&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should handle multiple concurrent calls correctly&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">any</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">milliseconds:</span><span class="w"> </span><span class="m">100</span><span class="p">));</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">testUser</span><span class="p">;</span>
<span class="w">          </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">futures</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span>
<span class="w">        </span><span class="m">5</span><span class="p">,</span>
<span class="w">        </span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">useCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUserId</span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">wait</span><span class="p">(</span><span class="n">futures</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">results</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">Right</span><span class="p">(</span><span class="n">testUser</span><span class="p">)));</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">)).</span><span class="n">called</span><span class="p">(</span><span class="m">5</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;Edge Cases&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should handle null userId gracefully&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">useCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="kc">null</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">dynamic</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">isLeft</span><span class="p">(),</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">      </span><span class="n">result</span><span class="p">.</span><span class="n">fold</span><span class="p">(</span>
<span class="w">        </span><span class="p">(</span><span class="n">failure</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">expect</span><span class="p">(</span><span class="n">failure</span><span class="p">,</span><span class="w"> </span><span class="n">isA</span><span class="o">&lt;</span><span class="n">ValidationFailure</span><span class="o">&gt;</span><span class="p">()),</span>
<span class="w">        </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">fail</span><span class="p">(</span><span class="s1">&#39;Should return validation failure&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should handle very long userId&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">longUserId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">1000</span><span class="p">;</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockRepository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">longUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">(</span><span class="nl">id:</span><span class="w"> </span><span class="n">longUserId</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">useCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">longUserId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">isRight</span><span class="p">(),</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>

<h3>Repository æ¸¬è©¦ç¯„ä¾‹</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ä½ç½®: test/unit/data/repositories/user_repository_impl_test.dart</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter_test/flutter_test.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:mockito/mockito.dart&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;../../../helpers/test_helper.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;../../../helpers/test_helper.mocks.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">UserRepositoryImpl</span><span class="w"> </span><span class="n">repository</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">MockUserRemoteDataSource</span><span class="w"> </span><span class="n">mockRemoteDataSource</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">MockUserLocalDataSource</span><span class="w"> </span><span class="n">mockLocalDataSource</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">MockNetworkInfo</span><span class="w"> </span><span class="n">mockNetworkInfo</span><span class="p">;</span>

<span class="w">  </span><span class="n">setUp</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">setUpTestEnvironment</span><span class="p">();</span>
<span class="w">    </span><span class="n">mockRemoteDataSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MockUserRemoteDataSource</span><span class="p">();</span>
<span class="w">    </span><span class="n">mockLocalDataSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MockUserLocalDataSource</span><span class="p">();</span>
<span class="w">    </span><span class="n">mockNetworkInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MockNetworkInfo</span><span class="p">();</span>

<span class="w">    </span><span class="n">repository</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UserRepositoryImpl</span><span class="p">(</span>
<span class="w">      </span><span class="nl">remoteDataSource:</span><span class="w"> </span><span class="n">mockRemoteDataSource</span><span class="p">,</span>
<span class="w">      </span><span class="nl">localDataSource:</span><span class="w"> </span><span class="n">mockLocalDataSource</span><span class="p">,</span>
<span class="w">      </span><span class="nl">networkInfo:</span><span class="w"> </span><span class="n">mockNetworkInfo</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">tearDown</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tearDownTestEnvironment</span><span class="p">();</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;getUserById&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">testUserId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;test_user_id&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">UserResponse</span><span class="w"> </span><span class="n">testUserResponse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">(</span>
<span class="w">      </span><span class="nl">id:</span><span class="w"> </span><span class="n">testUserId</span><span class="p">,</span>
<span class="w">      </span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;Test User&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;test@example.com&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">status:</span><span class="w"> </span><span class="s1">&#39;active&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">testUserResponse</span><span class="p">.</span><span class="n">toEntity</span><span class="p">();</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should return remote data when device is online&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockNetworkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">).</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockRemoteDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">testUserResponse</span><span class="p">);</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockLocalDataSource</span><span class="p">.</span><span class="n">cacheUser</span><span class="p">(</span><span class="n">testUserResponse</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{});</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">repository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">testUser</span><span class="p">));</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockNetworkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">);</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockRemoteDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">));</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockLocalDataSource</span><span class="p">.</span><span class="n">cacheUser</span><span class="p">(</span><span class="n">testUserResponse</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should return cached data when device is offline&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockNetworkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">).</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockLocalDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">testUserResponse</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">repository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">testUser</span><span class="p">));</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockNetworkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">);</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockLocalDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">));</span>
<span class="w">      </span><span class="n">verifyNever</span><span class="p">(</span><span class="n">mockRemoteDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">any</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should fallback to cached data when remote fails&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockNetworkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">).</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockRemoteDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenThrow</span><span class="p">(</span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;Network error&#39;</span><span class="p">));</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockLocalDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">testUserResponse</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">repository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">testUser</span><span class="p">));</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockNetworkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">);</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockRemoteDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">));</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockLocalDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should throw UserException when both remote and local fail&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockNetworkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">).</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockRemoteDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenThrow</span><span class="p">(</span><span class="n">ServerException</span><span class="p">(</span><span class="s1">&#39;Network error&#39;</span><span class="p">));</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockLocalDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenThrow</span><span class="p">(</span><span class="n">CacheException</span><span class="p">(</span><span class="s1">&#39;Cache error&#39;</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// act &amp; assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span>
<span class="w">        </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">repository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">),</span>
<span class="w">        </span><span class="n">throwsA</span><span class="p">(</span><span class="n">isA</span><span class="o">&lt;</span><span class="n">UserException</span><span class="o">&gt;</span><span class="p">()),</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should update cache with latest remote data&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">cachedUserResponse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">(</span>
<span class="w">        </span><span class="nl">id:</span><span class="w"> </span><span class="n">testUserId</span><span class="p">,</span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;Cached User&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;cached@example.com&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nl">status:</span><span class="w"> </span><span class="s1">&#39;inactive&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockNetworkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">).</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockLocalDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">cachedUserResponse</span><span class="p">);</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockRemoteDataSource</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">testUserResponse</span><span class="p">);</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockLocalDataSource</span><span class="p">.</span><span class="n">cacheUser</span><span class="p">(</span><span class="n">testUserResponse</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{});</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">repository</span><span class="p">.</span><span class="n">getUserById</span><span class="p">(</span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">testUser</span><span class="p">));</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="o">?</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="s1">&#39;Test User&#39;</span><span class="p">));</span><span class="w"> </span><span class="c1">// ç¢ºä¿æ˜¯é ç«¯è³‡æ–™</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockLocalDataSource</span><span class="p">.</span><span class="n">cacheUser</span><span class="p">(</span><span class="n">testUserResponse</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;createUser&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">newUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">(</span>
<span class="w">      </span><span class="nl">id:</span><span class="w"> </span><span class="s1">&#39;new_user_id&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;New User&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should create user successfully when online&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockNetworkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">).</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">userResponse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UserResponse</span><span class="p">(</span>
<span class="w">        </span><span class="nl">id:</span><span class="w"> </span><span class="n">newUser</span><span class="p">.</span><span class="n">id</span><span class="p">,</span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="n">newUser</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
<span class="w">        </span><span class="nl">email:</span><span class="w"> </span><span class="n">newUser</span><span class="p">.</span><span class="n">email</span><span class="p">,</span>
<span class="w">        </span><span class="nl">status:</span><span class="w"> </span><span class="n">newUser</span><span class="p">.</span><span class="n">status</span><span class="p">.</span><span class="n">toString</span><span class="p">().</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">).</span><span class="n">last</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockRemoteDataSource</span><span class="p">.</span><span class="n">createUser</span><span class="p">(</span><span class="n">any</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">userResponse</span><span class="p">);</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockLocalDataSource</span><span class="p">.</span><span class="n">cacheUser</span><span class="p">(</span><span class="n">userResponse</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{});</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">repository</span><span class="p">.</span><span class="n">createUser</span><span class="p">(</span><span class="n">newUser</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">newUser</span><span class="p">.</span><span class="n">id</span><span class="p">));</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockNetworkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">);</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockRemoteDataSource</span><span class="p">.</span><span class="n">createUser</span><span class="p">(</span><span class="n">any</span><span class="p">));</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockLocalDataSource</span><span class="p">.</span><span class="n">cacheUser</span><span class="p">(</span><span class="n">userResponse</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should throw NetworkException when offline&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockNetworkInfo</span><span class="p">.</span><span class="n">isConnected</span><span class="p">).</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act &amp; assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span>
<span class="w">        </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">repository</span><span class="p">.</span><span class="n">createUser</span><span class="p">(</span><span class="n">newUser</span><span class="p">),</span>
<span class="w">        </span><span class="n">throwsA</span><span class="p">(</span><span class="n">isA</span><span class="o">&lt;</span><span class="n">NetworkException</span><span class="o">&gt;</span><span class="p">()),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="n">verifyNever</span><span class="p">(</span><span class="n">mockRemoteDataSource</span><span class="p">.</span><span class="n">createUser</span><span class="p">(</span><span class="n">any</span><span class="p">));</span>
<span class="w">      </span><span class="n">verifyNever</span><span class="p">(</span><span class="n">mockLocalDataSource</span><span class="p">.</span><span class="n">cacheUser</span><span class="p">(</span><span class="n">any</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>

<h3>ViewModel æ¸¬è©¦ç¯„ä¾‹</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ä½ç½®: test/unit/presentation/providers/user_view_model_test.dart</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter_test/flutter_test.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:mockito/mockito.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:dartz/dartz.dart&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;../../../helpers/test_helper.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;../../../helpers/test_helper.mocks.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">UserViewModel</span><span class="w"> </span><span class="n">viewModel</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">MockGetUserProfileUseCase</span><span class="w"> </span><span class="n">mockGetUserProfileUseCase</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">MockUpdateUserProfileUseCase</span><span class="w"> </span><span class="n">mockUpdateUserProfileUseCase</span><span class="p">;</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">MockDeleteUserAccountUseCase</span><span class="w"> </span><span class="n">mockDeleteUserAccountUseCase</span><span class="p">;</span>

<span class="w">  </span><span class="n">setUp</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">setUpTestEnvironment</span><span class="p">();</span>
<span class="w">    </span><span class="n">mockGetUserProfileUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MockGetUserProfileUseCase</span><span class="p">();</span>
<span class="w">    </span><span class="n">mockUpdateUserProfileUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MockUpdateUserProfileUseCase</span><span class="p">();</span>
<span class="w">    </span><span class="n">mockDeleteUserAccountUseCase</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MockDeleteUserAccountUseCase</span><span class="p">();</span>

<span class="w">    </span><span class="n">viewModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UserViewModel</span><span class="p">(</span>
<span class="w">      </span><span class="nl">getUserProfileUseCase:</span><span class="w"> </span><span class="n">mockGetUserProfileUseCase</span><span class="p">,</span>
<span class="w">      </span><span class="nl">updateUserProfileUseCase:</span><span class="w"> </span><span class="n">mockUpdateUserProfileUseCase</span><span class="p">,</span>
<span class="w">      </span><span class="nl">deleteUserAccountUseCase:</span><span class="w"> </span><span class="n">mockDeleteUserAccountUseCase</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">tearDown</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">viewModel</span><span class="p">.</span><span class="n">dispose</span><span class="p">();</span>
<span class="w">    </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tearDownTestEnvironment</span><span class="p">();</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;loadUserProfile&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="n">testUserId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;test_user_id&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">(</span><span class="nl">id:</span><span class="w"> </span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should load user profile successfully&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockGetUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Right</span><span class="p">(</span><span class="n">testUser</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">loadUserProfile</span><span class="p">(</span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">testUser</span><span class="p">));</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">isLoading</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">errorMessage</span><span class="p">,</span><span class="w"> </span><span class="n">isNull</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">hasUser</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>

<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockGetUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUserId</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should set loading state correctly&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockGetUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">milliseconds:</span><span class="w"> </span><span class="m">100</span><span class="p">));</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Right</span><span class="p">(</span><span class="n">testUser</span><span class="p">);</span>
<span class="w">          </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">loadUserProfile</span><span class="p">(</span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert - during loading</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">isLoading</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">errorMessage</span><span class="p">,</span><span class="w"> </span><span class="n">isNull</span><span class="p">);</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">future</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// assert - after loading</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">isLoading</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">testUser</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should handle error correctly&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Failed to load user&#39;</span><span class="p">;</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockGetUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">ServerFailure</span><span class="p">(</span><span class="n">errorMessage</span><span class="p">)));</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">loadUserProfile</span><span class="p">(</span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">isNull</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">isLoading</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">errorMessage</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">errorMessage</span><span class="p">));</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">hasUser</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should notify listeners when state changes&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kt">int</span><span class="w"> </span><span class="n">notifyCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">      </span><span class="n">viewModel</span><span class="p">.</span><span class="n">addListener</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">notifyCount</span><span class="o">++</span><span class="p">);</span>

<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockGetUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Right</span><span class="p">(</span><span class="n">testUser</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">loadUserProfile</span><span class="p">(</span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">notifyCount</span><span class="p">,</span><span class="w"> </span><span class="n">greaterThan</span><span class="p">(</span><span class="m">0</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should clear previous error before loading&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">viewModel</span><span class="p">.</span><span class="n">setError</span><span class="p">(</span><span class="s1">&#39;Previous error&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// å‡è¨­æœ‰é€™å€‹æ–¹æ³•ç”¨æ–¼æ¸¬è©¦</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockGetUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUserId</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Right</span><span class="p">(</span><span class="n">testUser</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">loadUserProfile</span><span class="p">(</span><span class="n">testUserId</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">errorMessage</span><span class="p">,</span><span class="w"> </span><span class="n">isNull</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;updateProfile&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">originalUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">updatedUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">originalUser</span><span class="p">.</span><span class="n">copyWith</span><span class="p">(</span>
<span class="w">      </span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;Updated Name&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;updated@example.com&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="n">setUp</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">originalUser</span><span class="p">;</span><span class="w"> </span><span class="c1">// è¨­å®šåˆå§‹ä½¿ç”¨è€…</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should update profile successfully&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockUpdateUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">any</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Right</span><span class="p">(</span><span class="n">updatedUser</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">updateProfile</span><span class="p">(</span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;Updated Name&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;updated@example.com&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">updatedUser</span><span class="p">));</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">isUpdating</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">errorMessage</span><span class="p">,</span><span class="w"> </span><span class="n">isNull</span><span class="p">);</span>

<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockUpdateUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">any</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should set updating state correctly&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockUpdateUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">any</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">await</span><span class="w"> </span><span class="n">Future</span><span class="p">.</span><span class="n">delayed</span><span class="p">(</span><span class="n">Duration</span><span class="p">(</span><span class="nl">milliseconds:</span><span class="w"> </span><span class="m">100</span><span class="p">));</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Right</span><span class="p">(</span><span class="n">updatedUser</span><span class="p">);</span>
<span class="w">          </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">updateProfile</span><span class="p">(</span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;Updated Name&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;updated@example.com&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert - during update</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">isUpdating</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">future</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// assert - after update</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">isUpdating</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should not update when user is null&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">updateProfile</span><span class="p">(</span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;Updated Name&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;updated@example.com&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">verifyNever</span><span class="p">(</span><span class="n">mockUpdateUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">any</span><span class="p">));</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">isUpdating</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should handle update error correctly&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Update failed&#39;</span><span class="p">;</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockUpdateUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">any</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">ValidationFailure</span><span class="p">(</span><span class="n">errorMessage</span><span class="p">)));</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">updateProfile</span><span class="p">(</span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;Updated Name&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;updated@example.com&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">originalUser</span><span class="p">));</span><span class="w"> </span><span class="c1">// ä½¿ç”¨è€…æœªè®Šæ›´</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">isUpdating</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">errorMessage</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">errorMessage</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;deleteAccount&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">();</span>

<span class="w">    </span><span class="n">setUp</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">testUser</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should delete account successfully&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockDeleteUserAccountUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUser</span><span class="p">.</span><span class="n">id</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Right</span><span class="p">(</span><span class="kc">null</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">deleteAccount</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">isNull</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">isLoading</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">errorMessage</span><span class="p">,</span><span class="w"> </span><span class="n">isNull</span><span class="p">);</span>

<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockDeleteUserAccountUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUser</span><span class="p">.</span><span class="n">id</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should return false when user is null&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">deleteAccount</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="n">verifyNever</span><span class="p">(</span><span class="n">mockDeleteUserAccountUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">any</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should handle delete error correctly&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Delete failed&#39;</span><span class="p">;</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockDeleteUserAccountUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUser</span><span class="p">.</span><span class="n">id</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Left</span><span class="p">(</span><span class="n">ServerFailure</span><span class="p">(</span><span class="n">errorMessage</span><span class="p">)));</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">await</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">deleteAccount</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">testUser</span><span class="p">));</span><span class="w"> </span><span class="c1">// ä½¿ç”¨è€…ä»å­˜åœ¨</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">isLoading</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">errorMessage</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">errorMessage</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;refresh&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">User</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">();</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should refresh user data when user exists&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">testUser</span><span class="p">;</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockGetUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUser</span><span class="p">.</span><span class="n">id</span><span class="p">))</span>
<span class="w">          </span><span class="p">.</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Right</span><span class="p">(</span><span class="n">testUser</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">refresh</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockGetUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">testUser</span><span class="p">.</span><span class="n">id</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should not refresh when user is null&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">viewModel</span><span class="p">.</span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">viewModel</span><span class="p">.</span><span class="n">refresh</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">verifyNever</span><span class="p">(</span><span class="n">mockGetUserProfileUseCase</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">any</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;clearError&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">test</span><span class="p">(</span><span class="s1">&#39;should clear error message&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">viewModel</span><span class="p">.</span><span class="n">setError</span><span class="p">(</span><span class="s1">&#39;Test error&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// å‡è¨­æœ‰é€™å€‹æ–¹æ³•</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="n">viewModel</span><span class="p">.</span><span class="n">clearError</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">viewModel</span><span class="p">.</span><span class="n">errorMessage</span><span class="p">,</span><span class="w"> </span><span class="n">isNull</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ–¼ï¸ Widget æ¸¬è©¦è¨­è¨ˆ</h2>
<h3>åŸºæœ¬ Widget æ¸¬è©¦</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ä½ç½®: test/widget/pages/user_profile_page_test.dart</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter_test/flutter_test.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:provider/provider.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:mockito/mockito.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:network_image_mock/network_image_mock.dart&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;../../helpers/test_helper.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;../../helpers/test_helper.mocks.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">late</span><span class="w"> </span><span class="n">MockUserViewModel</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">;</span>

<span class="w">  </span><span class="n">setUp</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">setUpTestEnvironment</span><span class="p">();</span>
<span class="w">    </span><span class="n">mockViewModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MockUserViewModel</span><span class="p">();</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">tearDown</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tearDownTestEnvironment</span><span class="p">();</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;UserProfilePage Widget Tests&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should display loading indicator when isLoading is true&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span><span class="nl">mockIsLoading:</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">        </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">          </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">            </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span>
<span class="w">        </span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">CircularProgressIndicator</span><span class="p">),</span>
<span class="w">        </span><span class="nl">reason:</span><span class="w"> </span><span class="s1">&#39;Loading indicator should be visible&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;è¼‰å…¥ä½¿ç”¨è€…è³‡æ–™ä¸­...&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should display user profile when user is loaded&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">(</span>
<span class="w">        </span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;John Doe&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;john@example.com&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span><span class="nl">mockUser:</span><span class="w"> </span><span class="n">testUser</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">            </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">              </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="n">testUser</span><span class="p">.</span><span class="n">displayName</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="n">testUser</span><span class="p">.</span><span class="n">email</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;ç·¨è¼¯å€‹äººè³‡æ–™&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">CircleAvatar</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should display error message when error occurs&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Failed to load user&#39;</span><span class="p">;</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span><span class="nl">mockError:</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">        </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">          </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">            </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;è¼‰å…¥å¤±æ•—&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="n">errorMessage</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;é‡æ–°è¼‰å…¥&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byIcon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">error_outline</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should call refresh when refresh button is tapped&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Failed to load user&#39;</span><span class="p">;</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span><span class="nl">mockError:</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">        </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">          </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">          </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">            </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tapAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;é‡æ–°è¼‰å…¥&#39;</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">loadUserProfile</span><span class="p">(</span><span class="s1">&#39;test_id&#39;</span><span class="p">)).</span><span class="n">called</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should show error banner when error exists but user is loaded&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">();</span>
<span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Update failed&#39;</span><span class="p">;</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span>
<span class="w">        </span><span class="nl">mockUser:</span><span class="w"> </span><span class="n">testUser</span><span class="p">,</span>
<span class="w">        </span><span class="nl">mockError:</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">            </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">              </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="n">errorMessage</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byIcon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">error</span><span class="p">));</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byIcon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">close</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should dismiss error banner when close button is tapped&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">();</span>
<span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="n">errorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Update failed&#39;</span><span class="p">;</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span>
<span class="w">        </span><span class="nl">mockUser:</span><span class="w"> </span><span class="n">testUser</span><span class="p">,</span>
<span class="w">        </span><span class="nl">mockError:</span><span class="w"> </span><span class="n">errorMessage</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">            </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">              </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tapAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">byIcon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">close</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">clearError</span><span class="p">()).</span><span class="n">called</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should show correct status chip based on user status&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">activeUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">(</span><span class="nl">status:</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="n">active</span><span class="p">);</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span><span class="nl">mockUser:</span><span class="w"> </span><span class="n">activeUser</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">            </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">              </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;æ´»èº&#39;</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// Test different status</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">inactiveUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">(</span><span class="nl">status:</span><span class="w"> </span><span class="n">UserStatus</span><span class="p">.</span><span class="n">inactive</span><span class="p">);</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span><span class="nl">mockUser:</span><span class="w"> </span><span class="n">inactiveUser</span><span class="p">);</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pump</span><span class="p">();</span>

<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;éæ´»èº&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should navigate to edit profile page when edit button is tapped&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">();</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span><span class="nl">mockUser:</span><span class="w"> </span><span class="n">testUser</span><span class="p">);</span>

<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">mockNavigatorObserver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MockNavigatorObserver</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">            </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">              </span><span class="nl">navigatorObservers:</span><span class="w"> </span><span class="p">[</span><span class="n">mockNavigatorObserver</span><span class="p">],</span>
<span class="w">              </span><span class="nl">home:</span><span class="w"> </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="nl">routes:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="s1">&#39;/edit-profile&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">EditProfilePage</span><span class="p">(</span><span class="nl">user:</span><span class="w"> </span><span class="n">testUser</span><span class="p">),</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tapAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;ç·¨è¼¯å€‹äººè³‡æ–™&#39;</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockNavigatorObserver</span><span class="p">.</span><span class="n">didPush</span><span class="p">(</span><span class="n">any</span><span class="p">,</span><span class="w"> </span><span class="n">any</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should show loading indicator on buttons when isUpdating is true&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">();</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span>
<span class="w">        </span><span class="nl">mockUser:</span><span class="w"> </span><span class="n">testUser</span><span class="p">,</span>
<span class="w">        </span><span class="nl">mockIsUpdating:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">            </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">              </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;æ›´æ–°ä¸­...&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">CircularProgressIndicator</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should show delete confirmation dialog when delete button is tapped&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">();</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span><span class="nl">mockUser:</span><span class="w"> </span><span class="n">testUser</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">            </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">              </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tapAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;åˆªé™¤å¸³è™Ÿ&#39;</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">AlertDialog</span><span class="p">));</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;åˆªé™¤å¸³è™Ÿ&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;ç¢ºå®šè¦åˆªé™¤æ­¤å¸³è™Ÿå—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;å–æ¶ˆ&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;åˆªé™¤&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should call deleteAccount when delete is confirmed&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">();</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span><span class="nl">mockUser:</span><span class="w"> </span><span class="n">testUser</span><span class="p">);</span>
<span class="w">      </span><span class="n">when</span><span class="p">(</span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">deleteAccount</span><span class="p">()).</span><span class="n">thenAnswer</span><span class="p">((</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">            </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">              </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tapAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;åˆªé™¤å¸³è™Ÿ&#39;</span><span class="p">));</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tapAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;åˆªé™¤&#39;</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">verify</span><span class="p">(</span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">deleteAccount</span><span class="p">()).</span><span class="n">called</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;UserProfilePage Responsive Tests&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should adapt layout for different screen sizes&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">();</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span><span class="nl">mockUser:</span><span class="w"> </span><span class="n">testUser</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act - Mobile screen</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMediaQuery</span><span class="p">(</span>
<span class="w">            </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">              </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">                </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="nl">width:</span><span class="w"> </span><span class="m">375</span><span class="p">,</span><span class="w"> </span><span class="c1">// Mobile width</span>
<span class="w">            </span><span class="nl">height:</span><span class="w"> </span><span class="m">812</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// assert - Mobile layout</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">Column</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// act - Tablet screen</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">        </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMediaQuery</span><span class="p">(</span>
<span class="w">          </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">            </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">              </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">          </span><span class="nl">width:</span><span class="w"> </span><span class="m">768</span><span class="p">,</span><span class="w"> </span><span class="c1">// Tablet width</span>
<span class="w">          </span><span class="nl">height:</span><span class="w"> </span><span class="m">1024</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pump</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// assert - Layout should still work on tablet</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">UserProfilePage</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should handle dark theme correctly&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">();</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span><span class="nl">mockUser:</span><span class="w"> </span><span class="n">testUser</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMediaQuery</span><span class="p">(</span>
<span class="w">            </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">              </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">                </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">light</span><span class="p">(),</span>
<span class="w">                </span><span class="nl">darkTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">dark</span><span class="p">(),</span>
<span class="w">                </span><span class="nl">themeMode:</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">dark</span><span class="p">,</span>
<span class="w">                </span><span class="nl">home:</span><span class="w"> </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="nl">platformBrightness:</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">dark</span><span class="p">,</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">materialApp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">widget</span><span class="o">&lt;</span><span class="n">MaterialApp</span><span class="o">&gt;</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">MaterialApp</span><span class="p">));</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">materialApp</span><span class="p">.</span><span class="n">darkTheme</span><span class="p">,</span><span class="w"> </span><span class="n">isNotNull</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;UserProfilePage Accessibility Tests&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should have proper accessibility labels&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">();</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span><span class="nl">mockUser:</span><span class="w"> </span><span class="n">testUser</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">            </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">              </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">Semantics</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// æª¢æŸ¥é‡è¦æŒ‰éˆ•æ˜¯å¦æœ‰é©ç•¶çš„èªç¾©æ¨™ç±¤</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">editButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;ç·¨è¼¯å€‹äººè³‡æ–™&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">editButton</span><span class="p">,</span><span class="w"> </span><span class="n">findsOneWidget</span><span class="p">);</span>

<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">deleteButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;åˆªé™¤å¸³è™Ÿ&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">deleteButton</span><span class="p">,</span><span class="w"> </span><span class="n">findsOneWidget</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should be navigable with keyboard&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">testUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">();</span>
<span class="w">      </span><span class="n">mockViewModel</span><span class="p">.</span><span class="n">setMockState</span><span class="p">(</span><span class="nl">mockUser:</span><span class="w"> </span><span class="n">testUser</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">ChangeNotifierProvider</span><span class="o">&lt;</span><span class="n">UserViewModel</span><span class="o">&gt;</span><span class="p">.</span><span class="n">value</span><span class="p">(</span>
<span class="w">            </span><span class="nl">value:</span><span class="w"> </span><span class="n">mockViewModel</span><span class="p">,</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">              </span><span class="n">UserProfilePage</span><span class="p">(</span><span class="nl">userId:</span><span class="w"> </span><span class="s1">&#39;test_id&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// æ¨¡æ“¬ Tab éµå°èˆª</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">sendKeyEvent</span><span class="p">(</span><span class="n">LogicalKeyboardKey</span><span class="p">.</span><span class="n">tab</span><span class="p">);</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pump</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="c1">// ç¢ºä¿ç„¦é»å¯ä»¥åœ¨å¯äº¤äº’å…ƒç´ ä¹‹é–“ç§»å‹•</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">Focus</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// Mock Navigator Observer</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">MockNavigatorObserver</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Mock</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">NavigatorObserver</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>

<h3>è¤‡é›œ Widget æ¸¬è©¦</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ä½ç½®: test/widget/widgets/user_list_widget_test.dart</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter_test/flutter_test.dart&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;../../helpers/test_helper.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;UserListWidget Tests&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should display list of users&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUserList</span><span class="p">(</span><span class="m">5</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">            </span><span class="n">UserListWidget</span><span class="p">(</span>
<span class="w">              </span><span class="nl">users:</span><span class="w"> </span><span class="n">users</span><span class="p">,</span>
<span class="w">              </span><span class="nl">onUserTap:</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetCount</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">ListTile</span><span class="p">),</span><span class="w"> </span><span class="m">5</span><span class="p">);</span>

<span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">final</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">users</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>
<span class="w">        </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">email</span><span class="p">);</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should handle empty user list&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">        </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">          </span><span class="n">UserListWidget</span><span class="p">(</span>
<span class="w">            </span><span class="nl">users:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">            </span><span class="nl">onUserTap:</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{},</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">      </span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;æ²’æœ‰ä½¿ç”¨è€…è³‡æ–™&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byIcon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">person_outline</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should call onUserTap when user is tapped&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUserList</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>
<span class="w">      </span><span class="n">User</span><span class="o">?</span><span class="w"> </span><span class="n">tappedUser</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">            </span><span class="n">UserListWidget</span><span class="p">(</span>
<span class="w">              </span><span class="nl">users:</span><span class="w"> </span><span class="n">users</span><span class="p">,</span>
<span class="w">              </span><span class="nl">onUserTap:</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">tappedUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tapAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">users</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">name</span><span class="p">));</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">tappedUser</span><span class="p">,</span><span class="w"> </span><span class="n">equals</span><span class="p">(</span><span class="n">users</span><span class="p">[</span><span class="m">1</span><span class="p">]));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should support pull to refresh&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUserList</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>
<span class="w">      </span><span class="kt">bool</span><span class="w"> </span><span class="n">refreshCalled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">            </span><span class="n">RefreshIndicator</span><span class="p">(</span>
<span class="w">              </span><span class="nl">onRefresh:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">refreshCalled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">              </span><span class="p">},</span>
<span class="w">              </span><span class="nl">child:</span><span class="w"> </span><span class="n">UserListWidget</span><span class="p">(</span>
<span class="w">                </span><span class="nl">users:</span><span class="w"> </span><span class="n">users</span><span class="p">,</span>
<span class="w">                </span><span class="nl">onUserTap:</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{},</span>
<span class="w">              </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// æ¨¡æ“¬ä¸‹æ‹‰åˆ·æ–°</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">fling</span><span class="p">(</span>
<span class="w">        </span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">ListView</span><span class="p">),</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">Offset</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">300</span><span class="p">),</span>
<span class="w">        </span><span class="m">1000</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">refreshCalled</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should handle scroll to load more&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUserList</span><span class="p">(</span><span class="m">20</span><span class="p">);</span>
<span class="w">      </span><span class="kt">bool</span><span class="w"> </span><span class="n">loadMoreCalled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">            </span><span class="n">UserListWidget</span><span class="p">(</span>
<span class="w">              </span><span class="nl">users:</span><span class="w"> </span><span class="n">users</span><span class="p">,</span>
<span class="w">              </span><span class="nl">onUserTap:</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{},</span>
<span class="w">              </span><span class="nl">onLoadMore:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">loadMoreCalled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// æ»¾å‹•åˆ°åº•éƒ¨</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">scrollUntilVisible</span><span class="p">(</span>
<span class="w">        </span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">users</span><span class="p">.</span><span class="n">last</span><span class="p">.</span><span class="n">name</span><span class="p">),</span>
<span class="w">        </span><span class="m">500.0</span><span class="p">,</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">loadMoreCalled</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should show loading indicator when loading more&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUserList</span><span class="p">(</span><span class="m">10</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">            </span><span class="n">UserListWidget</span><span class="p">(</span>
<span class="w">              </span><span class="nl">users:</span><span class="w"> </span><span class="n">users</span><span class="p">,</span>
<span class="w">              </span><span class="nl">onUserTap:</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{},</span>
<span class="w">              </span><span class="nl">isLoadingMore:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">CircularProgressIndicator</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should filter users based on search query&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;John Doe&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;john@example.com&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;Jane Smith&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;jane@example.com&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUser</span><span class="p">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;Bob Johnson&#39;</span><span class="p">,</span><span class="w"> </span><span class="nl">email:</span><span class="w"> </span><span class="s1">&#39;bob@example.com&#39;</span><span class="p">),</span>
<span class="w">      </span><span class="p">];</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">            </span><span class="n">Column</span><span class="p">(</span>
<span class="w">              </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">TextField</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">key:</span><span class="w"> </span><span class="n">Key</span><span class="p">(</span><span class="s1">&#39;search_field&#39;</span><span class="p">),</span>
<span class="w">                  </span><span class="nl">onChanged:</span><span class="w"> </span><span class="p">(</span><span class="n">query</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="c1">// é€™è£¡æ‡‰è©²è§¸ç™¼æœå°‹é‚è¼¯</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="n">Expanded</span><span class="p">(</span>
<span class="w">                  </span><span class="nl">child:</span><span class="w"> </span><span class="n">UserListWidget</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">users:</span><span class="w"> </span><span class="n">users</span><span class="p">.</span><span class="n">where</span><span class="p">((</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">                        </span><span class="n">user</span><span class="p">.</span><span class="n">name</span><span class="p">.</span><span class="n">toLowerCase</span><span class="p">().</span><span class="n">contains</span><span class="p">(</span><span class="s1">&#39;john&#39;</span><span class="p">)).</span><span class="n">toList</span><span class="p">(),</span>
<span class="w">                    </span><span class="nl">onUserTap:</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{},</span>
<span class="w">                  </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;John Doe&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;Bob Johnson&#39;</span><span class="p">);</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetNotExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;Jane Smith&#39;</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;UserListWidget Performance Tests&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should handle large list efficiently&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">largeUserList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUserList</span><span class="p">(</span><span class="m">1000</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">stopwatch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Stopwatch</span><span class="p">()..</span><span class="n">start</span><span class="p">();</span>

<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">            </span><span class="n">UserListWidget</span><span class="p">(</span>
<span class="w">              </span><span class="nl">users:</span><span class="w"> </span><span class="n">largeUserList</span><span class="p">,</span>
<span class="w">              </span><span class="nl">onUserTap:</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="n">stopwatch</span><span class="p">.</span><span class="n">stop</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">stopwatch</span><span class="p">.</span><span class="n">elapsedMilliseconds</span><span class="p">,</span><span class="w"> </span><span class="n">lessThan</span><span class="p">(</span><span class="m">1000</span><span class="p">));</span><span class="w"> </span><span class="c1">// æ‡‰è©²åœ¨ 1 ç§’å…§å®Œæˆ</span>

<span class="w">      </span><span class="c1">// ç¢ºä¿åªæ¸²æŸ“å¯è¦‹çš„é …ç›®ï¼ˆListView.builder çš„å„ªå‹¢ï¼‰</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">listTiles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">widgetList</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">ListTile</span><span class="p">));</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">listTiles</span><span class="p">.</span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="n">lessThan</span><span class="p">(</span><span class="m">20</span><span class="p">));</span><span class="w"> </span><span class="c1">// å±å¹•ä¸Šä¸æ‡‰è©²æœ‰å¤ªå¤š ListTile</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;should recycle list items efficiently&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// arrange</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">createMockUserList</span><span class="p">(</span><span class="m">100</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// act</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">mockNetworkImages</span><span class="p">(()</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span>
<span class="w">          </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">wrapWithMaterialApp</span><span class="p">(</span>
<span class="w">            </span><span class="n">UserListWidget</span><span class="p">(</span>
<span class="w">              </span><span class="nl">users:</span><span class="w"> </span><span class="n">users</span><span class="p">,</span>
<span class="w">              </span><span class="nl">onUserTap:</span><span class="w"> </span><span class="p">(</span><span class="n">user</span><span class="p">)</span><span class="w"> </span><span class="p">{},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">          </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="c1">// è¨˜éŒ„åˆå§‹çš„ ListTile æ•¸é‡</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">initialTileCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">widgetList</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">ListTile</span><span class="p">)).</span><span class="n">length</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// æ»¾å‹•åˆ—è¡¨</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">drag</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">ListView</span><span class="p">),</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Offset</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="m">2000</span><span class="p">));</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pump</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// å†æ¬¡æª¢æŸ¥ ListTile æ•¸é‡</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">afterScrollTileCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">widgetList</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">ListTile</span><span class="p">)).</span><span class="n">length</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// assert</span>
<span class="w">      </span><span class="c1">// ListView.builder æ‡‰è©²å›æ”¶ä¸å¯è¦‹çš„é …ç›®</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">afterScrollTileCount</span><span class="p">,</span><span class="w"> </span><span class="n">lessThanOrEqualTo</span><span class="p">(</span><span class="n">initialTileCount</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">5</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>ğŸ”— Integration æ¸¬è©¦è¨­è¨ˆ</h2>
<h3>å®Œæ•´æµç¨‹æ¸¬è©¦</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// ä½ç½®: test/integration/user_flow_test.dart</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter_test/flutter_test.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:integration_test/integration_test.dart&#39;</span><span class="p">;</span>

<span class="k">import</span><span class="w"> </span><span class="s1">&#39;../helpers/test_helper.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">IntegrationTestWidgetsFlutterBinding</span><span class="p">.</span><span class="n">ensureInitialized</span><span class="p">();</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;User Profile Flow Integration Tests&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;complete user authentication and profile management flow&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æ­¥é©Ÿ 1: ä½¿ç”¨è€…ç™»å…¥</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_performLogin</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æ­¥é©Ÿ 2: å°èˆªåˆ°å€‹äººè³‡æ–™é é¢</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_navigateToProfile</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æ­¥é©Ÿ 3: æŸ¥çœ‹å€‹äººè³‡æ–™</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_viewProfile</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æ­¥é©Ÿ 4: ç·¨è¼¯å€‹äººè³‡æ–™</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_editProfile</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æ­¥é©Ÿ 5: é©—è­‰æ›´æ–°</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_verifyProfileUpdate</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æ­¥é©Ÿ 6: æ¸¬è©¦éŒ¯èª¤è™•ç†</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_testErrorHandling</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;offline functionality test&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æ¨¡æ“¬é›¢ç·šç‹€æ…‹</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_simulateOfflineMode</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æ¸¬è©¦é›¢ç·šåŠŸèƒ½</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_testOfflineFunctionality</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æ¢å¾©ç·šä¸Šç‹€æ…‹</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_simulateOnlineMode</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æ¸¬è©¦æ•¸æ“šåŒæ­¥</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_testDataSynchronization</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;error recovery flow test&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æ¨¡æ“¬å„ç¨®éŒ¯èª¤æƒ…æ³</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_testNetworkError</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_testValidationError</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_testServerError</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æ¸¬è©¦éŒ¯èª¤æ¢å¾©</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_testErrorRecovery</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>

<span class="w">  </span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;Performance Integration Tests&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;app startup performance test&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">final</span><span class="w"> </span><span class="n">stopwatch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Stopwatch</span><span class="p">()..</span><span class="n">start</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="n">stopwatch</span><span class="p">.</span><span class="n">stop</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// é©—è­‰å•Ÿå‹•æ™‚é–“</span>
<span class="w">      </span><span class="n">expect</span><span class="p">(</span><span class="n">stopwatch</span><span class="p">.</span><span class="n">elapsedMilliseconds</span><span class="p">,</span><span class="w"> </span><span class="n">lessThan</span><span class="p">(</span><span class="m">3000</span><span class="p">));</span><span class="w"> </span><span class="c1">// 3 ç§’å…§å•Ÿå‹•</span>

<span class="w">      </span><span class="c1">// é©—è­‰é¦–é è¼‰å…¥</span>
<span class="w">      </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">HomePage</span><span class="p">));</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="n">testWidgets</span><span class="p">(</span><span class="s1">&#39;memory usage test&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">pumpWidget</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// åŸ·è¡Œè¨˜æ†¶é«”å¯†é›†å‹æ“ä½œ</span>
<span class="w">      </span><span class="kd">await</span><span class="w"> </span><span class="n">_performMemoryIntensiveOperations</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">      </span><span class="c1">// æª¢æŸ¥è¨˜æ†¶é«”ä½¿ç”¨æƒ…æ³</span>
<span class="w">      </span><span class="c1">// é€™è£¡å¯ä»¥æ·»åŠ è¨˜æ†¶é«”ä½¿ç”¨é‡æª¢æŸ¥é‚è¼¯</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// è¼”åŠ©æ–¹æ³•</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_performLogin</span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// å°‹æ‰¾ç™»å…¥æŒ‰éˆ•</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">loginButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;ç™»å…¥&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">loginButton</span><span class="p">.</span><span class="n">evaluate</span><span class="p">().</span><span class="n">isEmpty</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// å¦‚æœæ²’æœ‰ç™»å…¥æŒ‰éˆ•ï¼Œå¯èƒ½å·²ç¶“ç™»å…¥</span>
<span class="w">    </span><span class="k">return</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// é»æ“Šç™»å…¥æŒ‰éˆ•</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tapAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">loginButton</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// è¼¸å…¥ä½¿ç”¨è€…åç¨±</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">enterTextAndSettle</span><span class="p">(</span>
<span class="w">    </span><span class="n">tester</span><span class="p">,</span>
<span class="w">    </span><span class="n">find</span><span class="p">.</span><span class="n">byKey</span><span class="p">(</span><span class="n">Key</span><span class="p">(</span><span class="s1">&#39;username_field&#39;</span><span class="p">)),</span>
<span class="w">    </span><span class="s1">&#39;test@example.com&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// è¼¸å…¥å¯†ç¢¼</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">enterTextAndSettle</span><span class="p">(</span>
<span class="w">    </span><span class="n">tester</span><span class="p">,</span>
<span class="w">    </span><span class="n">find</span><span class="p">.</span><span class="n">byKey</span><span class="p">(</span><span class="n">Key</span><span class="p">(</span><span class="s1">&#39;password_field&#39;</span><span class="p">)),</span>
<span class="w">    </span><span class="s1">&#39;password123&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="p">);</span>

<span class="w">  </span><span class="c1">// æäº¤ç™»å…¥è¡¨å–®</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tapAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;ç™»å…¥&#39;</span><span class="p">));</span>

<span class="w">  </span><span class="c1">// ç­‰å¾…ç™»å…¥å®Œæˆ</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// é©—è­‰ç™»å…¥æˆåŠŸ</span>
<span class="w">  </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">HomePage</span><span class="p">));</span>
<span class="p">}</span>

<span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_navigateToProfile</span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// é»æ“Šå€‹äººè³‡æ–™é¸é …å¡æˆ–æŒ‰éˆ•</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tapAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">byIcon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">person</span><span class="p">));</span>

<span class="w">  </span><span class="c1">// é©—è­‰å°èˆªæˆåŠŸ</span>
<span class="w">  </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">UserProfilePage</span><span class="p">));</span>
<span class="p">}</span>

<span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_viewProfile</span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ç­‰å¾…å€‹äººè³‡æ–™è¼‰å…¥</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// é©—è­‰å€‹äººè³‡æ–™é¡¯ç¤º</span>
<span class="w">  </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">CircleAvatar</span><span class="p">));</span>
<span class="w">  </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">textContaining</span><span class="p">(</span><span class="s1">&#39;@&#39;</span><span class="p">));</span><span class="w"> </span><span class="c1">// é›»å­éƒµä»¶</span>
<span class="w">  </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectTextExists</span><span class="p">(</span><span class="s1">&#39;ç·¨è¼¯å€‹äººè³‡æ–™&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_editProfile</span><span class="p">(</span><span class="n">WidgetTester</span><span class="w"> </span><span class="n">tester</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// é»æ“Šç·¨è¼¯æŒ‰éˆ•</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tapAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;ç·¨è¼¯å€‹äººè³‡æ–™&#39;</span><span class="p">));</span>

<span class="w">  </span><span class="c1">// é©—è­‰ç·¨è¼¯é é¢é–‹å•Ÿ</span>
<span class="w">  </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">expectWidgetExists</span><span class="p">(</span><span class="n">find</span><span class="p">.</span><span class="n">byType</span><span class="p">(</span><span class="n">EditProfilePage</span><span class="p">));</span>

<span class="w">  </span><span class="c1">// ä¿®æ”¹ä½¿ç”¨è€…åç¨±</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">nameField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">byKey</span><span class="p">(</span><span class="n">Key</span><span class="p">(</span><span class="s1">&#39;name_field&#39;</span><span class="p">));</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">clear</span><span class="p">(</span><span class="n">nameField</span><span class="p">);</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">enterTextAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">nameField</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Updated Name&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ä¿®æ”¹é›»å­éƒµä»¶</span>
<span class="w">  </span><span class="kd">final</span><span class="w"> </span><span class="n">emailField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">byKey</span><span class="p">(</span><span class="n">Key</span><span class="p">(</span><span class="s1">&#39;email_field&#39;</span><span class="p">));</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">tester</span><span class="p">.</span><span class="n">clear</span><span class="p">(</span><span class="n">emailField</span><span class="p">);</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">enterTextAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">emailField</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;updated@example.com&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// ä¿å­˜è®Šæ›´</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">tapAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span><span class="w"> </span><span class="n">find</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;ä¿å­˜&#39;</span><span class="p">));</span>

<span class="w">  </span><span class="c1">// ç­‰å¾…ä¿å­˜å®Œæˆ</span>
<span class="w">  </span><span class="kd">await</span><span class="w"> </span><span class="n">TestHelper</span><span class="p">.</span><span class="n">pumpAndSettle</span><span class="p">(</span><span class="n">tester</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
                    </div>
                </div>
            
                <div class="tab-pane fade" id="secrets" role="tabpanel" aria-labelledby="secrets-tab">
                    <div class="encrypted-content">
                        <div class="password-input-container">
                            <h4>ğŸ”’ æ­¤å…§å®¹éœ€è¦å¯†ç¢¼å­˜å–</h4>
                            <div class="password-hint">
                                <div class="alert alert-info">
                                    <i class="fas fa-lightbulb"></i>
                                    <strong>æç¤ºï¼š</strong>é–±è®€å®Œæ•´ä»½æ–‡ä»¶å³å¯çŸ¥é“å¯†ç¢¼ ğŸ˜‰
                                    <br>
                                    <small class="text-muted">ä»”ç´°çš„åšå®Œæ¯å€‹ç·´ç¿’ (ğŸ¯ å¯¦ä½œç·´ç¿’)ï¼Œå¯†ç¢¼å¯èƒ½å°±åœ¨æŸå€‹åœ°æ–¹...</small>
                                    <br>
                                </div>
                            </div>
                            <div class="input-group mb-3">
                                <input type="password" class="form-control" id="password-secrets" 
                                       placeholder="Enter password" maxlength="15">
                                <button class="btn btn-primary" type="button" 
                                        onclick="decryptContent('secrets')">
                                    <i class="fas fa-unlock"></i> Unlock
                                </button>
                            </div>
                            <div class="password-attempts" id="attempts-secrets">
                                <small class="text-muted">Remaining attempts: <span id="remaining-secrets">3</span></small>
                            </div>
                        </div>
                        <div class="decrypted-content" id="decrypted-secrets" style="display: none;">
                        </div>
                    </div>
                </div>
            
        </div>
        <div id="debug-log"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    
        <script>
        (function() {
            'use strict';
            
            // æª¢æŸ¥ pako åº«æ˜¯å¦è¼‰å…¥
            if (typeof pako === 'undefined') {
                showMessage('è§£å£“ç¸®åº«æœªè¼‰å…¥ï¼Œè«‹é‡æ–°æ•´ç†é é¢ã€‚', 'danger');
                return;
            }
            
            // éš±è—çš„èª˜é¤Œæ•¸æ“šé™£åˆ—
            const _a56349d2033c8598 = ["sIsTQpxfL5c3/3FRUtcj4M5Dtudqs4XhPh8nKXIlslgiHECJ9VfpAiZP06Ar/DHv2yh6aNmtceUNwerLHeKNrtWzQM1unrmc4NxfnpVsWu1zzNpTfrAf30ktQFng0C2CSP2abiZ8m4jvOk2VeVaXP6ZmNVaW2+1JcYOmxkAxT0sqdomqpMm4X9iji/1uIqXLnv6a8AF9uSQq+zEEq3IN+kjmLVot91qQ8qzbNkRjtd0a1R2A5JCdkt9EowWf07WQSIkNzXgYo1E=", "fG5Jzga5o6SCtzP+6TexacLB1TiVQOv5PxjRleSVSPBfhnBaHcSHemeQRh1gF/p29Qz8wejmLImPRBgmKVAvPIsIEBmGFetq8N7p3S1zAOLRKyPp7rEYyfdRG4MZpK6937+ZCIQx0oinu8AKB98rV8gTKnH/TOwXTHCKBRMHd4mDA4NIbDC3kWD+AsKfmp4OuuumRTzsnYtxU817uVGsJg9rzHU8L0CcLn9XJoipDhk554lmKedYyKoYp2DQBWg+n8EMoNkcJhM=", "zDFtRk4Q1DghaZjPr/ps9Xs8CYeJIUs4w6H0X75+s2ixP5QCzTteEjwqwO4Mc4CzjwiOCQK2WTQqcnzHs9Qt85f0+g0dQmNq8XWllLOS5w2WahtygPGtWzfu40vWOTzSfNesK4goRwqlrT/672rjG/74pVUFF8btH0TL0y4EcTuwGg8odHE4fbmhSMC2gAUKwtsYbuRNrrVfl3OQQ07R538+74NPRN6bp2B14JWhIcEphseBfBn5t2Mn3JF7hVJlBVWws2b1NSU=", "L8kgH4w5YaVP5rVtSIJmRd4xp2OuIzLgggY5AFRgiiZLUTGMn9xbGcn44VFxN7++BnjLx0uTFk7eR8Zra0iR+QcO+bhH7pkPzt44b9gTXN8xanP2tRv7dfn71LQ4jYOM6cShxIGMj8cN2gmL/7x7c0OhB2Xbxeuf/jWk+yrh71OOxe3Vo++HjrR2NhagC7w5Z+pjk3C3g11wx8qu9RUTb+l+DUerzP51Sa6HFZci3FPGnOyasB/PtvYB4dyWCmzc0VTftxfSjvPoj7z3I3xGv8tFgpf5eJXH9gGaqDHh94hoT3/es10/CRxZ+I+acnyohJyI3SbvWbcxPxyabI/svcoV81YtzfiOJR73Z2pe4kmoKzF1JOEv611mlH26qdAQFIUnw0QvGmBWLUdurHOfY0mvYeCfBZbFhu7UmiUpxwgQgsUBaHGudubYLAi+I7R2K7BwfZuEDvbpt5hBcau3vGfoL+flKDCbbMqxaC05TJB035921VPlDH3rVLuYo246jLpjufbt7H/amdU5tgVeU5SvUFjSZprq42qzmfS08fchNyo70B9SvtlA/akqVrUjmJ5bPm2u5VdgVA4mUC7EUd9gsVHOzlq37tRhjTGKyvAMcrY6Omnxt4eBXPbR5fcjabJldp8FnVm2PrxfPo+tCRmKImSWOsnV+TOb8k75EX64YvxkqWTb/KrQmMOdaefHg5I9m7cSRdZ6IL23Ee+qup0lpLFXIci7lSI+gK1VsJlEwHPZNXvPu+GlRLiB8Sm+tu3pj7Zn1xwOLssMOIRR4j6kSjd3Knxgzljzx7ru1ps73RkYvrwn6/aPXvk+cA8TBvmaZL3GJhmnSOinnX9wVLf19HwgzcJk1NRIOdHsSTEyCH0F+MK6ZWmpf9zntZnfi4iZxK3+SI4UHn+Lk/f9UrveeslEXhS5y6POD9w/diB5IFQoMynPSih34csL3zpiNI5PgyT2o2Hs7iv/6B83CDcaGyWRYwD8qdgBsp8D/Q73ZPFVMzQN0gly9r4nqEBsUpWuMtg+vwXKYaBWo2+oTgZNfGaVjEriU1g17mezxSraC/IBYP/A2NvMinDudMykTwK7doNwLO/jV31F/OuTDL7bPXxCGrd6CnJJAdabWc5oVjSrganCwjJrh2cmfa/vZT8+65IJsBu8WOwXNYDJEUSfYHooQJX3dc0vqU1cfIzzKA92J80hJp5Arm4y/zDLJ42AiWKaYI9IE1PNRYkzF63I8Lhn+patjYb8wqhGMWVGNjrhj8wvXxxDoFdcy2WAuezYNJhXX4/5gEYj0gvJptuPYFJqX/aOx39lX8Jv8DJb7Z3tX5vNhREgxHG7mrPiPR02dEB9IGVTTmcBsxiG8vUrSscCfgInVzK5CuicTeYZbt9BRTBRxD0tmqZIwExvRMlE6vfEB5N9sORZtlAHG2N+jtq3+VVTAwWXj6kpEsAPw3/nEfLPI4lFyCd+t2u7xUFm8AhTnxVazqKO2RttWartA9Z8UMucdZ7+/nIRXPeYovVj9ISIymLPSmHlK6AeIC7/s1gX3iRVpLlwKZqXX9tGfA7SovKKPVViO2P1e1J/JAQFJkGKzZIKgsJbKGMng2xlhc947OYY6Vp7FE+mc6tzfhJWl2TeOMbTsfJJCkf/v3TAXSZV5wW1U7y7YPGVT+XHEwRR3y7HYIakyhE/BlDIK5WVlodX4yqWAqrplSgeO3c/nyHfEAWybHaPI08dvCGY6GpoRckQ+J75vwelRtcy/O60as0UAgZdsg1B6ER08EbjOGP7bTZgerpSvc3lB9jUkxHOzv/X0g0R1o/WVi9RsBlYjRDuq9HEG2nZyKX3FSo9HNUk4FZaCWQ+QC5NGki3QJUMHgfP1YEWHYRkYvtHieGmUONy7r/9iN89b8WjmE+UUCpRBSbu+oiT6TEXSrnupSYUSLq0CQVF6KYoGw/ODmCUVnkZXnvQTAcT5CXeJqr1ePWjIWfq2B0GMZGmduGQcOBKuTi9p2Z4QzmhXWL7h8eSs0HtpPZGg4jM3uRkis+AqTxqDwIymt77vGbWIsPKAKFJw5rzuSaZrNoc0tRPAwocTCgKTKrWbvty42gsp/wP/x23brQjw0ezRtER6h5ZAEg1AkmCzFD8PutXtIIPJQL8/Z4SC4aVgyGbddhKd58rjZh6jC1txOdXw1WMGOC7FZhUi+3cOc+ZAmqoMMEdPVXiV4lXoiH2rgWhFxL1AlXzhLZsr9H4luZwhMi5GtEDPIrAMNBOcmqlY0YGdwIlmVrkFfPMpX1+LVSPLG51f2WqiQ8ou897zzQODYKPHuaHk0E5wxWHeBj1HIZY3+VKr9eKwkeEPwDBZgckO/UqqpQlHZyiE9esHDSkp08y4JnXDuUyak6nsC30NnclVcoPpFIXU540L2HqyyXIG5yMCGBtcf4+jXw5ImxyLPVO8q76adn9qmbOtnLR6HZu8GF2GNuBVJnGVJ+f6kABIFI8pRrUv/ZUJN8jVztqjlwXxwY/IME4YaEQXkA5Yamedcbs8XmqM5El1O//3E4vZEasdWIT4f18AYUC1KVWyTyk34GQMp/I2yIsGUs1JeIBBFv7tYNIIiNDr9N0ZUnwkC0LpUhhIPSxGfZBBlSrXZkjGFSwOrZ8eeoh/TKI/Seydm3yswwoahc2q3wgPHCVMebLiExYSNWOQxunCQOuB1Qn2IFK4X8xCBLLe01ZcicoSvnkImW0Q8IXFqcTWSgzjQ6EpJz8u1FppfeWBpzMiuN6hzjZG8cfRLlhF34jYxTtsZpCEzp2OVJ8qkxKnbecO/5cfJkm2e21cZb5AoimBYZCKhF87RrQ8gPjqlnRSjXmvOxaKxFMfwBhx/YNB60bamnjwneOzhncQQ2OJRe8IASkxsVp7Y/TwCdD1JFdN41NCLmQOZ+0HQ7C0UIvOwOdIPc+xvnndrgo/FPcONEVq+yS9pfE4wJdKgJnmGbEgZ52VIOENkrUjXz3+sMc6Rkpsdm5aHkpfe9TM3VM5kirDhRARGFSSBZ+hsPLovlLiMIiu7vA54831dXOZNqDXs+MwyRgHXXy578vCpxvW6/gHQA8PJpfLGrbFXldsmG0ifxZpaOOcL5EtC0DJUB6An6Mye99dr4Lq39haFLNZvUqkITPaxxWZALZ0cbV4e5VaTux4wl+nDWHsG4vTRf9Jb2SL/Gl2/439xKcK21DMYQ8h0FQ8vXOxgxao936QRTdwVOreQWF7odEuRVtdR2DzVz6OdalyDLGBdAzkrmIKg1flERh6LJaGrgzlPaHPHQpurmZVVEHHjtVsceA6DJ4Roe2dnWOsj8iHRXscoNYgE7mHRwmz4binYlP6XFiPckG3X4KQWsdKCG/AP01ZFtEkHFaskYRd4/zKmEy2eVDQXylnmnW42p++favd0TrrYni7uSHjCtsfBjxETuSVszjVKn0yNATce9tLhMKm/KBwiJ1FTTle5tdilDyysfi1S6qSi1sSsqH0AOr+BFhFYZjfkpD+B8htPaH+5PUXXlmrEVHuY9+0vSrd+ZGV099X64WXKbpfXGwD66/CPSbN2PvkceoOEycusAoHyWITSJJpmglD66vkwVET6vS3Yp0xZrmv2sY+OWnSVycBWEUfYlhowoR2HcBhkqsFb2VHMxhUqJ/aNtRWKVGPYNYzjxdfMmNIZ++eAji1JqjJISG0Jdhf/tz60J2ZYBLFNW1L3CUBJj7DnpdpnaMN5rsxE7p49dsr4DksuwL5hZlTHYzeGdK694+CEOaMIhjPNKT7DGicC8aGW7MwNaYO2rP0IyLAxhVRh0TQER8ejQ2sGj4q/fdkC2uMr5Ooiw+Saioo0cIT4RTQHEcrRiupHTaDO7knzH8FpSuxVNAurAOPwVqq48sZOjh/2/0U4xxUM1wpfVsim7k7gTpOqmL+WUJVYDv3JBGZbFQbCFVBdm0wtM07dxZpJfiopi0w8e0mWigi+UxqwLhWrtWlyee3o3Jg2CpqhRhnpn4Y/gIhgBk/JMa2bPGrtXxwd37mFFSmyukx3ts+rN1aMNuDs2Fu7l3drY5LtkK/me5lmz8eO/jw8RDo2u1xzgtyEf/Z8YykEf8NTCNC7DrYWD+rrEvROJfavJ+8BpOdytkR6u2U8LX64rnT2xhTsQDn1xDV6TRB9iM9v538SLffyk/mnujHU246qHt3Dn3J4Rx6lp+kyelkF2JxoNPpdlfkP1A2kTQHErklk9pkPk17HpwgQbiV924VtBFn9xDTnc1XXEu+pL/KA6XW/8w1Ss/U8n3qovRPQNxEA+BMUtKsiu6psBJMO0jnNu8K/oLIVHv+QuC8ij1hMs94K3AzbQ32kJdRUZdDugNqHi5L7nb/1+FaWiSav9tUmFEA7QPa+LhQWMIL32Ku6u2dMp2XhprjHZMpOZqqYDIir2mJg3gefZkg4TpVWKBKpLFcZFnonfB6ODh5MHcH8WlsXT+paFQoHW6HA==", "aY21OpkXHwFIxWaLjWOWZaaPTf7oE3/BmMhGiYQ6fGqqaSaMSnYyexEjBjc2vBvYFLz9mHEU7lnwzHpQFg9of526MdVIgfz3eLsS13yCt/GhWQnFA01bpuZPN1oKityvMaEQLbX2EyK1WuoFr52wLPUEQGbz5as8A5A85l8sxfnSf6tEk9iCCgBD4Ym5uPrLzginEyDS6ZHgJYQaij8Pj/pMl6o1wB0lr+2DlrC1NLR3x04eX5pyJq+YM7v4mEvXUFTq4ckRKbk=", "IpaofwWVTzT6lEiTXg0Tzk6shPK9ZKVwg4s+wJ9scCv47UWEk/jOJ0Cc8UA9G7jexARgLL/MlipjAAnyKKMRpderS25VUknsajhZsxMDF7vRIbdUWnZmR92Gzzr/C1JtOHWfKyws39Y67jgKcTc1VT2KQNXXWEF49ZfqMMHapxcB3J3WH6KPOuOjOfXSPmQkqMfQ4cpOJrqPuCyJFiQ7zd8jdbu8woOIXjhQstsiV9hO5Ywht1+qOv53NE8rPQ+dqoY3FwW2Bao="];
            const _a27d5196fcf03bac = 3;
            
            // ç°¡åŒ–çš„å¯†ç¢¼é©—è­‰å‡½æ•¸
            const _55a98efb81ca032a = async (_6a2ead68ee1e4bf1) => {
                try {
                    if (_6a2ead68ee1e4bf1 === '19831203') {
                        return true;
                    }
                    
                    // å…¶ä»–å¯†ç¢¼ç”¨é›œæ¹Šé©—è­‰
                    const encoder = new TextEncoder();
                    const data = encoder.encode(_6a2ead68ee1e4bf1);
                    const hashBuffer = await crypto.subtle.digest('SHA-256', data);
                    const hashArray = Array.from(new Uint8Array(hashBuffer));
                    const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
                    return hashHex === 'aa7be44b20d28e6ba8e37d354bcb25a6f34b8ce12f2555a574f8ea4eb3868356';
                } catch (error) {
                    console.error('å¯†ç¢¼é©—è­‰éŒ¯èª¤:', error);
                    return false;
                }
            };
            
            // ç°¡åŒ–çš„è§£å¯†å‡½æ•¸
            const _4675d3493d27c8a2 = async (_baf0e322491b4195, _b27933507d32b7b3) => {
                try {
                    showMessage('é–‹å§‹è§£å¯†éç¨‹...', 'info');
                    
                    // ç²å–åŠ å¯†å…§å®¹
                    const _8780b9ed66e3e60b = _a56349d2033c8598[_a27d5196fcf03bac];
                    if (!_8780b9ed66e3e60b) {
                        throw new Error('æ‰¾ä¸åˆ°åŠ å¯†å…§å®¹');
                    }
                    
                    console.log('åŠ å¯†å…§å®¹é•·åº¦:', _8780b9ed66e3e60b.length);
                    
                    // Step 1: Base64 è§£ç¢¼
                    showMessage('åŸ·è¡Œ Base64 è§£ç¢¼...', 'info');
                    const _cdb08e67fe1b0197 = Uint8Array.from(atob(_8780b9ed66e3e60b), c => c.charCodeAt(0));
                    console.log('Base64 è§£ç¢¼å¾Œé•·åº¦:', _cdb08e67fe1b0197.length);
                    
                    // Step 2: åæ··æ·† (XOR)
                    showMessage('åŸ·è¡Œåæ··æ·†è™•ç†...', 'info');
                    const obfuscationKey = 'flutter_obfuscation_key_2024';
                    const _d25a99258861fe6a = new Uint8Array(_cdb08e67fe1b0197.length);
                    for (let i = 0; i < _cdb08e67fe1b0197.length; i++) {
                        _d25a99258861fe6a[i] = _cdb08e67fe1b0197[i] ^ obfuscationKey.charCodeAt(i % obfuscationKey.length);
                    }
                    console.log('åæ··æ·†å¾Œé•·åº¦:', _d25a99258861fe6a.length);
                    
                    // Step 3: å¯†ç¢¼è§£å¯† (XOR)
                    showMessage('åŸ·è¡Œå¯†ç¢¼è§£å¯†...', 'info');
                    const passwordBytes = new TextEncoder().encode(_b27933507d32b7b3);
                    const _fd5297778cdc187d = new Uint8Array(_d25a99258861fe6a.length);
                    for (let i = 0; i < _d25a99258861fe6a.length; i++) {
                        _fd5297778cdc187d[i] = _d25a99258861fe6a[i] ^ passwordBytes[i % passwordBytes.length];
                    }
                    console.log('å¯†ç¢¼è§£å¯†å¾Œé•·åº¦:', _fd5297778cdc187d.length);
                    
                    // Step 4: è§£å£“ç¸®
                    showMessage('åŸ·è¡Œæ•¸æ“šè§£å£“ç¸®...', 'info');
                    const decompressed = pako.inflate(_fd5297778cdc187d, { to: 'string' });
                    console.log('è§£å£“ç¸®æˆåŠŸï¼Œå…§å®¹é•·åº¦:', decompressed.length);
                    
                    showMessage('è§£å¯†å®Œæˆï¼', 'success');
                    return decompressed;
                    
                } catch (error) {
                    console.error('è§£å¯†éŒ¯èª¤:', error);
                    showMessage(`è§£å¯†å¤±æ•—: ${error.message}`, 'danger');
                    throw error;
                }
            };
            
            // å˜—è©¦æ¬¡æ•¸é™åˆ¶
            let _79ee66af71767ed6 = 0;
            const _88ed4bfd11783a41 = 3;
            let _42e2ba542215ea50 = false;
            
            // ä¸»è¦è§£å¯†å‡½æ•¸
            window.decryptContent = async (_baf0e322491b4195) => {
                if (_42e2ba542215ea50) {
                    showMessage('å˜—è©¦æ¬¡æ•¸éå¤šï¼Œè«‹é‡æ–°æ•´ç†é é¢ã€‚', 'danger');
                    return;
                }
                
                const passwordInput = document.getElementById('password-' + _baf0e322491b4195);
                const password = passwordInput.value.trim();
                
                if (!password) {
                    showMessage('è«‹è¼¸å…¥å¯†ç¢¼', 'warning');
                    return;
                }
                
                try {
                    // é©—è­‰å¯†ç¢¼
                    showMessage('é©—è­‰å¯†ç¢¼...', 'info');
                    const isValid = await _55a98efb81ca032a(password);
                    
                    if (!isValid) {
                        _79ee66af71767ed6++;
                        const remaining = _88ed4bfd11783a41 - _79ee66af71767ed6;
                        
                        if (remaining <= 0) {
                            _42e2ba542215ea50 = true;
                            passwordInput.disabled = true;
                            passwordInput.nextElementSibling.disabled = true;
                            showMessage('å·²è¶…éæœ€å¤§å˜—è©¦æ¬¡æ•¸ï¼Œé é¢å·²é–å®šã€‚', 'danger');
                            return;
                        }
                        
                        showMessage(`å¯†ç¢¼éŒ¯èª¤ï¼Œå‰©é¤˜ ${remaining} æ¬¡å˜—è©¦æ©Ÿæœƒã€‚`, 'warning');
                        passwordInput.classList.add('error-shake');
                        setTimeout(() => passwordInput.classList.remove('error-shake'), 500);
                        
                        const remainingSpan = document.getElementById('remaining-secrets');
                        if (remainingSpan) {
                            remainingSpan.textContent = remaining;
                        }
                        return;
                    }
                    
                    // è§£å¯†å…§å®¹
                    showMessage('å¯†ç¢¼æ­£ç¢ºï¼Œé–‹å§‹è§£å¯†...', 'success');
                    const decryptedContent = await _4675d3493d27c8a2(_baf0e322491b4195, password);
                    
                    // è½‰æ› Markdown ç‚º HTML
                    const htmlContent = markdownToHtml(decryptedContent);
                    
                    // é¡¯ç¤ºè§£å¯†å…§å®¹
                    const passwordContainer = document.querySelector('.password-input-container');
                    if (passwordContainer) {
                        passwordContainer.style.display = 'none';
                    }
                    
                    const decryptedDiv = document.getElementById('decrypted-' + _baf0e322491b4195);
                    if (decryptedDiv) {
                        decryptedDiv.innerHTML = htmlContent;
                        decryptedDiv.style.display = 'block';
                        decryptedDiv.classList.add('success-animation');
                    }
                    
                    // é‡æ–°é«˜äº®ç¨‹å¼ç¢¼
                    if (typeof Prism !== 'undefined') {
                        Prism.highlightAllUnder(decryptedDiv);
                    }
                    
                } catch (error) {
                    showMessage(`è§£å¯†å¤±æ•—: ${error.message}`, 'danger');
                }
            };
            
            // åŸºæœ¬çš„å®‰å…¨æªæ–½
            document.addEventListener('contextmenu', e => e.preventDefault());
            document.addEventListener('selectstart', e => e.preventDefault());
            document.addEventListener('keydown', (e) => {
                if (e.key === 'F12' || 
                    (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'C')) ||
                    (e.ctrlKey && (e.key === 'u' || e.key === 'U'))) {
                    e.preventDefault();
                    return false;
                }
            });
            
        })();
        
        // è¼”åŠ©å‡½æ•¸
        function showMessage(message, type) {
            const oldAlert = document.querySelector('.temp-alert');
            if (oldAlert) oldAlert.remove();
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} temp-alert`;
            alertDiv.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'warning' ? 'exclamation-triangle' : 'times-circle'}"></i>
                ${message}
            `;
            
            const container = document.querySelector('.main-container');
            container.insertBefore(alertDiv, container.firstChild);
            
            setTimeout(() => {
                if (alertDiv.parentNode) alertDiv.remove();
            }, 3000);
        }
        
        function markdownToHtml(markdown) {
            let html = markdown;
            
            // åŸºæœ¬çš„ Markdown è½‰æ›
            html = html.replace(/^### (.*$)/gim, '<h3>$1</h3>');
            html = html.replace(/^## (.*$)/gim, '<h2>$1</h2>');
            html = html.replace(/^# (.*$)/gim, '<h1>$1</h1>');
            html = html.replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>');
            html = html.replace(/`([^`]*)`/g, '<code>$1</code>');
            html = html.replace(/\*\*([^*]*)\*\*/g, '<strong>$1</strong>');
            html = html.replace(/\*([^*]*)\*/g, '<em>$1</em>');
            html = html.replace(/^- (.*)$/gm, '<li>$1</li>');
            html = html.replace(/^\d+\. (.*)$/gm, '<li>$1</li>');
            html = html.replace(/((?:<li>.*<\/li>\s*)+)/gs, '<ul>$1</ul>');
            html = html.replace(/\n\n/g, '</p><p>');
            html = html.replace(/\n/g, '<br>');
            html = '<p>' + html + '</p>';
            html = html.replace(/<p>(\s*<\/p>)/g, '');
            
            return html;
        }
        
        function showSecrets() {
            const secretsNavItem = document.getElementById('secrets-nav-item');
            const secretsTab = document.getElementById('secrets-tab');
            
            if (secretsNavItem && secretsTab) {
                secretsNavItem.classList.remove('d-none');
                const tab = new bootstrap.Tab(secretsTab);
                tab.show();
                showMessage('ğŸ” ç™¼ç¾éš±è—å…§å®¹ï¼è«‹è¼¸å…¥å¯†ç¢¼è§£é–...', 'info');
            } else {
                showMessage('âŒ æ‰¾ä¸åˆ°åŠ å¯†å…§å®¹ã€‚', 'warning');
            }
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const passwordInputs = document.querySelectorAll('input[type="password"]');
            passwordInputs.forEach(input => {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const button = input.nextElementSibling;
                        if (button && button.onclick) {
                            button.click();
                        }
                    }
                });
            });
            
            if (typeof Prism !== 'undefined') {
                Prism.highlightAll();
            }
            
            window.showSecrets = showSecrets;
        });
        </script>
        
</body>
</html>
